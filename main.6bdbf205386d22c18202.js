(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Us}),n.d(e,"b",function(){return Mc}),n.d(e,"c",function(){return Pc}),n.d(e,"d",function(){return Ac}),n.d(e,"e",function(){return Nc}),n.d(e,"f",function(){return xl}),n.d(e,"g",function(){return vl}),n.d(e,"h",function(){return _s}),n.d(e,"i",function(){return Wc}),n.d(e,"j",function(){return fa}),n.d(e,"k",function(){return Hc}),n.d(e,"l",function(){return da}),n.d(e,"m",function(){return An}),n.d(e,"n",function(){return oc}),n.d(e,"o",function(){return $}),n.d(e,"p",function(){return h}),n.d(e,"q",function(){return K}),n.d(e,"r",function(){return Ms}),n.d(e,"s",function(){return Na}),n.d(e,"t",function(){return Pa}),n.d(e,"u",function(){return Vc}),n.d(e,"v",function(){return ut}),n.d(e,"w",function(){return wl}),n.d(e,"x",function(){return at}),n.d(e,"y",function(){return dl}),n.d(e,"z",function(){return Zc}),n.d(e,"A",function(){return f}),n.d(e,"B",function(){return Fc}),n.d(e,"C",function(){return Lc}),n.d(e,"D",function(){return ya}),n.d(e,"E",function(){return ma}),n.d(e,"F",function(){return ga}),n.d(e,"G",function(){return ba}),n.d(e,"H",function(){return _r}),n.d(e,"I",function(){return p}),n.d(e,"J",function(){return Sl}),n.d(e,"K",function(){return Fa}),n.d(e,"L",function(){return ol}),n.d(e,"M",function(){return Ss}),n.d(e,"N",function(){return _a}),n.d(e,"O",function(){return wa}),n.d(e,"P",function(){return Ua}),n.d(e,"Q",function(){return bt}),n.d(e,"R",function(){return pl}),n.d(e,"S",function(){return Wn}),n.d(e,"T",function(){return A}),n.d(e,"U",function(){return Xn}),n.d(e,"V",function(){return Il}),n.d(e,"W",function(){return cl}),n.d(e,"X",function(){return Uc}),n.d(e,"Y",function(){return Os}),n.d(e,"Z",function(){return eu}),n.d(e,"ab",function(){return br}),n.d(e,"bb",function(){return er}),n.d(e,"cb",function(){return Un}),n.d(e,"db",function(){return Hn}),n.d(e,"eb",function(){return Gn}),n.d(e,"fb",function(){return zn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return Ja}),n.d(e,"jb",function(){return Tl}),n.d(e,"kb",function(){return Za}),n.d(e,"lb",function(){return Ya}),n.d(e,"mb",function(){return Vn}),n.d(e,"nb",function(){return M}),n.d(e,"ob",function(){return Qs}),n.d(e,"pb",function(){return yo}),n.d(e,"qb",function(){return go}),n.d(e,"rb",function(){return Qa}),n.d(e,"sb",function(){return Jt}),n.d(e,"tb",function(){return x}),n.d(e,"ub",function(){return Mn}),n.d(e,"vb",function(){return qs}),n.d(e,"wb",function(){return Gt}),n.d(e,"xb",function(){return ca}),n.d(e,"yb",function(){return Hr}),n.d(e,"zb",function(){return eo}),n.d(e,"Ab",function(){return Mo}),n.d(e,"Bb",function(){return ta}),n.d(e,"Cb",function(){return Fo}),n.d(e,"Db",function(){return Ec}),n.d(e,"Eb",function(){return St}),n.d(e,"Fb",function(){return kt}),n.d(e,"Gb",function(){return v}),n.d(e,"Hb",function(){return b}),n.d(e,"Ib",function(){return Ct}),n.d(e,"Jb",function(){return At}),n.d(e,"Kb",function(){return so}),n.d(e,"Lb",function(){return ho}),n.d(e,"Mb",function(){return po}),n.d(e,"Nb",function(){return fo}),n.d(e,"Ob",function(){return lo}),n.d(e,"Pb",function(){return co}),n.d(e,"Qb",function(){return mo}),n.d(e,"Rb",function(){return Cn}),n.d(e,"Sb",function(){return ea}),n.d(e,"Tb",function(){return Vu}),n.d(e,"Ub",function(){return zu}),n.d(e,"Vb",function(){return Hu}),n.d(e,"Wb",function(){return qu}),n.d(e,"Xb",function(){return rt}),n.d(e,"Yb",function(){return oo}),n.d(e,"Zb",function(){return kc}),n.d(e,"ac",function(){return vo}),n.d(e,"bc",function(){return Tc}),n.d(e,"cc",function(){return _o}),n.d(e,"dc",function(){return ec}),n.d(e,"ec",function(){return nc}),n.d(e,"fc",function(){return rc}),n.d(e,"gc",function(){return Io}),n.d(e,"hc",function(){return So}),n.d(e,"ic",function(){return ao}),n.d(e,"jc",function(){return Co}),n.d(e,"kc",function(){return xo}),n.d(e,"lc",function(){return Xu}),n.d(e,"mc",function(){return Wu}),n.d(e,"nc",function(){return Qu}),n.d(e,"oc",function(){return Ju}),n.d(e,"pc",function(){return vc}),n.d(e,"qc",function(){return io}),n.d(e,"rc",function(){return un}),n.d(e,"sc",function(){return ye}),n.d(e,"tc",function(){return Er}),n.d(e,"uc",function(){return xt}),n.d(e,"vc",function(){return Sc}),n.d(e,"wc",function(){return bc}),n.d(e,"xc",function(){return Lo}),n.d(e,"yc",function(){return ro}),n.d(e,"zc",function(){return jc}),n.d(e,"Ac",function(){return Qo}),n.d(e,"Bc",function(){return Jo}),n.d(e,"Cc",function(){return Zo}),n.d(e,"Dc",function(){return Yo}),n.d(e,"Ec",function(){return wc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}const c="__parameters__";function l(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=l("Inject",t=>({token:t})),f=l("Optional"),d=l("Self"),p=l("SkipSelf");var m=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function w(t){return _(t,t[S])||_(t,t[I])}function _(t,e){return e&&e.token===t?e:null}function E(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(C))?t[O]:null}const S=g({"\u0275prov":g}),O=g({"\u0275inj":g}),T=g({"\u0275provFallback":g}),I=g({ngInjectableDef:g}),C=g({ngInjectorDef:g});function x(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(x).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const k=g({__forward_ref__:g});function A(t){return t.__forward_ref__=A,t.toString=function(){return x(this())},t}function N(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(k)&&t.__forward_ref__===A}const R="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,M=R||F||D||L,U=g({"\u0275cmp":g}),V=g({"\u0275dir":g}),H=g({"\u0275pipe":g}),q=g({"\u0275mod":g}),z=g({"\u0275loc":g}),B=g({"\u0275fac":g}),G=g({__NG_ELEMENT_ID__:g});class K{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const $=new K("INJECTOR",-1),X={},W=/\n/gm,Q="__source",J=g({provide:String,useValue:g});let Z,Y=void 0;function tt(t){const e=Y;return Y=t,e}function et(t){const e=Z;return Z=t,e}function nt(t,e=m.Default){if(void 0===Y)throw new Error("inject() must be called from an injection context");return null===Y?it(t,void 0,e):Y.get(t,e&m.Optional?null:void 0,e)}function rt(t,e=m.Default){return(Z||nt)(N(t),e)}function it(t,e,n){const r=w(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&m.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${x(t)}]`)}function st(t){const e=[];for(let n=0;n<t.length;n++){const r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=m.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof f||"Optional"===i.ngMetadataName||i===f?n|=m.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=m.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?n|=m.Self:t=i instanceof h||i===h?i.token:i}e.push(rt(t,n))}else e.push(rt(r))}return e}class ot{get(t,e=X){if(e===X){const e=new Error(`NullInjectorError: No provider for ${x(t)}!`);throw e.name="NullInjectorError",e}return e}}class at{}class ut{}function ct(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function lt(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),lt(r,e)):e!==t&&e.push(r)}return e}function ht(t,e){t.forEach(t=>Array.isArray(t)?ht(t,e):e(t))}function ft(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mt(t,e,n){let r=yt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gt(t,e){const n=yt(t,e);if(n>=0)return t[1|n]}function yt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var vt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),bt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const wt={},_t=[];let Et=0;function St(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,id:"c",styles:t.styles||_t,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Et++,n.inputs=jt(t.inputs,e),n.outputs=jt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ot):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Tt):null,n})}function Ot(t){return Nt(t)||function(t){return t[V]||null}(t)}function Tt(t){return function(t){return t[H]||null}(t)}const It={};function Ct(t){const e={type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{It[t.id]=t.type}),e}function xt(t,e){return u(()=>{const n=Rt(t,!0);n.declarations=e.declarations||_t,n.imports=e.imports||_t,n.exports=e.exports||_t})}function jt(t,e){if(null==t)return wt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const kt=St;function At(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nt(t){return t[U]||null}function Pt(t,e){return t.hasOwnProperty(B)?t[B]:null}function Rt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${x(t)} does not have '\u0275mod' property.`);return n}const Dt=20,Lt=10;function Ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mt(t){return Array.isArray(t)&&!0===t[1]}function Ut(t){return 0!=(8&t.flags)}function Vt(t){return 2==(2&t.flags)}function Ht(t){return 1==(1&t.flags)}function qt(t){return null!==t.template}function zt(t){return 0!=(512&t[2])}class Bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Gt(){return Kt}function Kt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xt),$t}function $t(){const t=Wt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===wt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Xt(t,e,n,r){const i=Wt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:wt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Bt(u&&u.currentValue,e,o===wt),t[r]=e}function Wt(t){return t.__ngSimpleChanges__||null}Gt.ngInherit=!0;let Qt=void 0;function Jt(t){Qt=t}function Zt(){return void 0!==Qt?Qt:"undefined"!=typeof document?document:void 0}function Yt(t){return!!t.listen}const te={createRenderer:(t,e)=>Zt()};function ee(t){for(;Array.isArray(t);)t=t[0];return t}function ne(t,e){return ee(e[t+Dt])}function re(t,e){return ee(e[t.index])}function ie(t,e){return t.data[e+Dt]}function se(t,e){return t[e+Dt]}function oe(t,e){const n=e[t];return Ft(n)?n:n[0]}function ae(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ue(t){return 4==(4&t[2])}function ce(t){return 128==(128&t[2])}function le(t,e){return null===t||null==e?null:t[e]}function he(t){t[18]=0}function fe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const de={lFrame:De(null),bindingsEnabled:!0,checkNoChangesMode:!1};function pe(){return de.bindingsEnabled}function me(){return de.lFrame.lView}function ge(){return de.lFrame.tView}function ye(t){de.lFrame.contextLView=t}function ve(){return de.lFrame.previousOrParentTNode}function be(t,e){de.lFrame.previousOrParentTNode=t,de.lFrame.isParent=e}function we(){return de.lFrame.isParent}function _e(){de.lFrame.isParent=!1}function Ee(){return de.checkNoChangesMode}function Se(t){de.checkNoChangesMode=t}function Oe(){const t=de.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Te(){return de.lFrame.bindingIndex}function Ie(){return de.lFrame.bindingIndex++}function Ce(t){const e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xe(t,e){const n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,je(e)}function je(t){de.lFrame.currentDirectiveIndex=t}function ke(){return de.lFrame.currentQueryIndex}function Ae(t){de.lFrame.currentQueryIndex=t}function Ne(t,e){const n=Re();de.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Pe(t,e){const n=Re(),r=t[1];de.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Re(){const t=de.lFrame,e=null===t?null:t.child;return null===e?De(t):e}function De(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Le(){const t=de.lFrame;return de.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Fe=Le;function Me(){const t=Le();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ue(){return de.lFrame.selectedIndex}function Ve(t){de.lFrame.selectedIndex=t}function He(){const t=de.lFrame;return ie(t.tView,t.selectedIndex)}function qe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ze(t,e,n){Ke(t,e,3,n)}function Be(t,e,n,r){(3&t[2])===n&&Ke(t,e,n,r)}function Ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ke(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&($e(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function $e(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function We(t,e,n){const r=Yt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Je(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Qe(t){return 3===t||4===t||6===t}function Je(t){return 64===t.charCodeAt(0)}function Ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ye(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ye(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function tn(t){return-1!==t}function en(t){return 32767&t}function nn(t){return t>>16}function rn(t,e){let n=nn(t),r=e;for(;n>0;)r=r[15],n--;return r}function sn(t){return"string"==typeof t?t:null==t?"":""+t}function on(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():sn(t)}const an=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function un(t){return{name:"window",target:t.ownerDocument.defaultView}}function cn(t){return t instanceof Function?t():t}let ln=!0;function hn(t){const e=ln;return ln=t,e}let fn=0;function dn(t,e){const n=mn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,pn(r.data,t),pn(e,null),pn(r.blueprint,null));const i=gn(t,e),s=t.injectorIndex;if(tn(i)){const t=en(i),n=rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function pn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function gn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function yn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=fn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function vn(t,e,n,r=m.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ne(e,t);try{const t=i();if(null!=t||r&m.Optional)return t;throw new Error(`No provider for ${on(n)}!`)}finally{Fe()}}else if("number"==typeof i){if(-1===i)return new Tn(t,e);let s=null,o=mn(t,e),a=-1,u=r&m.Host?e[16][6]:null;for((-1===o||r&m.SkipSelf)&&(a=-1===o?gn(t,e):e[o+8],On(r,!1)?(s=e[1],o=en(a),e=rn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(Sn(i,o,t.data)){const t=wn(o,e,n,s,r,u);if(t!==bn)return t}On(r,e[1].data[o+8]===u)&&Sn(i,o,e)?(s=t,o=en(a),e=rn(a,e)):o=-1}}}if(r&m.Optional&&void 0===i&&(i=null),0==(r&(m.Self|m.Host))){const t=e[9],s=et(void 0);try{return t?t.get(n,i,r&m.Optional):it(n,i,r&m.Optional)}finally{et(s)}}if(r&m.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${on(n)}]`)}const bn={};function wn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=_n(a,o,n,null==r?Vt(a)&&ln:r!=o&&3===a.type,i&m.Host&&s===a);return null!==u?En(e,o,u,a):bn}function _n(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&qt(t)&&t.type===n)return u}return null}function En(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Xe){const o=i;if(o.resolving)throw new Error("Circular dep for "+on(s[n]));const a=hn(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=et(o.injectImpl)),Ne(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Kt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&et(u),hn(a),o.resolving=!1,Fe()}}return i}function Sn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function On(t,e){return!(t&m.Self||t&m.Host&&e)}class Tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return vn(this._tNode,this._lView,t,void 0,e)}}function In(t){const e=t;if(P(t))return()=>{const t=In(N(e));return t?t():null};let n=Pt(e);if(null===n){const t=E(e);n=t&&t.factory}return n||null}function Cn(t){return u(()=>{const e=t.prototype.constructor,n=e[B]||In(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[B]||In(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function xn(t){return t.ngDebugContext}function jn(t){return t.ngOriginalError}function kn(t,...e){t.error(...e)}class An{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||kn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?xn(t)?xn(t):this._findContext(jn(t)):null}_findOriginalError(t){let e=jn(t);for(;e&&jn(e);)e=jn(e);return e}}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Pn extends Nn{getTypeName(){return"HTML"}}class Rn extends Nn{getTypeName(){return"Style"}}class Dn extends Nn{getTypeName(){return"Script"}}class Ln extends Nn{getTypeName(){return"URL"}}class Fn extends Nn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof Nn&&t.getTypeName()||null}function Hn(t){return new Pn(t)}function qn(t){return new Rn(t)}function zn(t){return new Dn(t)}function Bn(t){return new Ln(t)}function Gn(t){return new Fn(t)}let Kn=!0,$n=!1;function Xn(){return $n=!0,Kn}function Wn(){if($n)throw new Error("Cannot enable prod mode after platform setup.");Kn=!1}function Qn(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Jn:new Zn(t)}class Jn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function er(t){return(t=String(t)).match(Yn)||t.match(tr)?t:(Xn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function nr(t){return(t=String(t)).split(",").map(t=>er(t.trim())).join(", ")}function rr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ir(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const sr=rr("area,br,col,hr,img,wbr"),or=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ar=rr("rp,rt"),ur=ir(ar,or),cr=ir(sr,ir(or,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ir(ar,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ur),lr=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hr=rr("srcset"),fr=ir(lr,hr,rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dr=rr("script,style,template");class pr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!cr.hasOwnProperty(e))return this.sanitizedSomething=!0,!dr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!fr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;lr[i]&&(s=er(s)),hr[i]&&(s=nr(s)),this.buf.push(" ",e,'="',yr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();cr.hasOwnProperty(e)&&!sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(yr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gr=/([^\#-~ |!])/g;function yr(t){return t.replace(/&/g,"&amp;").replace(mr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vr;function br(t,e){let n=null;try{vr=vr||Qn(t);let r=e?String(e):"";n=vr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=vr.getInertBodyElement(r)}while(r!==s);const o=new pr,a=o.sanitizeChildren(wr(n)||n);return Xn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=wr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function wr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _r=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Er(t){const e=function(){const t=me();return t&&t[12]}();return e?e.sanitize(_r.URL,t)||"":Un(t,"URL")?Mn(t):er(sn(t))}function Sr(t,e){t.__ngContext__=e}function Or(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Tr="ng-template";function Ir(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Or(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Cr(t){return 0===t.type&&t.tagName!==Tr}function xr(t,e,n){return e===(0!==t.type||n?t.tagName:Tr)}function jr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Qe(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!xr(t,u,n)||""===u&&1===e.length){if(kr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ir(t.attrs,c,n)){if(kr(r))return!1;o=!0}continue}const l=Ar(8&r?"class":u,i,Cr(t),n);if(-1===l){if(kr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Or(e,c,0)||2&r&&c!==t){if(kr(r))return!1;o=!0}}}}else{if(!o&&!kr(r)&&!kr(u))return!1;if(o&&kr(u))continue;o=!1,r=u|1&r}}return kr(r)||o}function kr(t){return 0==(1&t)}function Ar(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Nr(t,e,n=!1){for(let r=0;r<e.length;r++)if(jr(t,e[r],n))return!0;return!1}function Pr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Rr(t,e){return t?":not("+e.trim()+")":e}function Dr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||kr(o)||(e+=Rr(s,i),i=""),r=o,s=s||!kr(r);n++}return""!==i&&(e+=Rr(s,i)),e}const Lr={};function Fr(t){const e=t[3];return Mt(e)?e[3]:e}function Mr(t){return Vr(t[13])}function Ur(t){return Vr(t[4])}function Vr(t){for(;null!==t&&!Mt(t);)t=t[4];return t}function Hr(t){qr(ge(),me(),Ue()+t,Ee())}function qr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ze(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Be(e,r,0,n)}Ve(n)}function zr(t,e){return t<<17|e<<2}function Br(t){return t>>17&32767}function Gr(t){return 2|t}function Kr(t){return(131068&t)>>2}function $r(t,e){return-131069&t|e<<2}function Xr(t){return 1|t}function Wr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ae(i),n.contentQueries(2,e[s],s)}}}function Qr(t,e,n){return Yt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Jr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,he(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Zr(t,e,n,r,i,s){const o=n+Dt,a=t.data[o]||function(t,e,n,r,i,s){const o=ve(),a=we(),u=a?o:o&&o.parent,c=t.data[n]=ci(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return be(a,!0),a}function Yr(t,e,n){Pe(e,e[6]);try{const r=t.viewQuery;null!==r&&Pi(1,r,n);const i=t.template;null!==i&&ni(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Wr(t,e),t.staticViewQueries&&Pi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)xi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Me()}}function ti(t,e,n,r){const i=e[2];if(256==(256&i))return;Pe(e,e[6]);const s=Ee();try{he(e),de.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ni(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ze(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Be(e,n,0,null),Ge(e,0)}if(function(t){for(let e=Mr(t);null!==e;e=Ur(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&fe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mr(t);null!==e;e=Ur(e))for(let t=Lt;t<e.length;t++){const n=e[t],r=n[1];ce(n)&&ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Wr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ze(e,n)}else{const n=t.contentHooks;null!==n&&Be(e,n,1),Ge(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Ve(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(xe(r,i),o(2,e[i])),i++)}}}finally{Ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ii(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Pi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ze(e,n)}else{const n=t.viewHooks;null!==n&&Be(e,n,2),Ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,fe(e[3],-1))}finally{Me()}}function ei(t,e,n,r){const i=e[10],s=!Ee(),o=ue(e);try{s&&!o&&i.begin&&i.begin(),o&&Yr(t,e,r),ti(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ni(t,e,n,r,i){const s=Ue();try{Ve(-1),2&r&&e.length>Dt&&qr(t,e,0,Ee()),n(r,i)}finally{Ve(s)}}function ri(t,e,n){if(Ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ii(t,e,n){pe()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||dn(n,e),Sr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=qt(r);s&&_i(e,n,r);const u=En(e,t,a,n);Sr(u,e),null!==o&&Si(0,a-i,u,r,0,o),s&&(oe(n.index,e)[8]=u)}}(t,e,n,re(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-Dt,u=de.lFrame.currentDirectiveIndex;try{Ve(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];je(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?mi(r,i):o&&s.push(null)}}finally{Ve(-1),je(u)}}(t,e,n))}function si(t,e,n=re){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function oi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ai(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ai(t,e,n,r,i,s,o,a,u,c){const l=Dt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Lr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ui(t,e,n,r){const i=Di(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ci(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function hi(t,e,n,r,i,s,o,a){const u=re(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Fi(t,n,c,r,i),Vt(e)&&function(t,e){const n=oe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Yt(s)?s.setProperty(u,r,i):Je(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function fi(t,e,n,r){let i=!1;if(pe()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Nr(n,o.selectors,!1)&&(i||(i=[]),yn(dn(n,e),t,o.type),qt(o)?(yi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,bi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}gi(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ze(n.mergedAttrs,c.hostAttrs),wi(t,e,c),vi(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Dt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Dt),u=!0),di(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Cr(e)?null:Oi(n,i);s.push(c),o=li(n,u,o),a=li(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),pi(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ze(n.mergedAttrs,n.attrs),i}function di(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function pi(t,e,n){for(let r=0;r<n;r++)e.push(Lr),t.blueprint.push(Lr),t.data.push(null)}function mi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gi(t,e,n){const r=Dt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function yi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qt(e)&&(n[""]=t)}}function bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Pt(n.type)),i=new Xe(r,qt(n),null);t.blueprint.push(i),e.push(i)}function _i(t,e,n){const r=re(e,t),i=oi(n),s=t[10],o=ji(t,Jr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function Ei(t,e,n,r,i,s){const o=re(t,e),a=e[11];if(null==r)Yt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?sn(r):i(r,t.tagName||"",n);Yt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}function Si(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Oi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ti(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ii(t,e){const n=oe(e,t);if(ce(n)){const t=n[1];80&n[2]?ti(t,n,t.template,n[8]):n[5]>0&&Ci(n)}}function Ci(t){for(let n=Mr(t);null!==n;n=Ur(n))for(let t=Lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ti(t,e,t.template,e[8])}else e[5]>0&&Ci(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=oe(e[n],t);ce(r)&&r[5]>0&&Ci(r)}}function xi(t,e){const n=oe(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Yr(r,n,n[8])}function ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ki(t){for(;t;){t[2]|=64;const e=Fr(t);if(zt(t)&&!e)return t;t=e}return null}function Ai(t,e,n){const r=e[10];r.begin&&r.begin();try{ti(t,e,t.template,n)}catch(i){throw Li(e,i),i}finally{r.end&&r.end()}}function Ni(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ae(n),i=r[1];ei(i,r,i.template,n)}}(t[8])}function Pi(t,e,n){Ae(0),e(t,n)}const Ri=(()=>Promise.resolve(null))();function Di(t){return t[7]||(t[7]=[])}function Li(t,e){const n=t[9],r=n?n.get(An,null):null;r&&r.handleError(e)}function Fi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Mi(t,e,n){const r=ne(e,t),i=t[11];Yt(i)?i.setValue(r,n):r.textContent=n}function Ui(t,e){const n=e[3];return-1===t.index?Mt(n)?n:null:n}function Vi(t,e){const n=Ui(t,e);return n?Yi(e[11],n[7]):null}function Hi(t,e,n,r,i){if(null!=r){let s,o=!1;Mt(r)?s=r:Ft(r)&&(o=!0,r=r[0]);const a=ee(r);0===t&&null!==n?null==i?Ji(e,n,a):Qi(e,n,a,i||null):1===t&&null!==n?Qi(e,n,a,i||null):2===t?is(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==ee(n)&&Hi(e,t,r,s,i);for(let o=Lt;o<n.length;o++){const i=n[o];os(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function qi(t,e){return Yt(e)?e.createText(t):e.createTextNode(t)}function zi(t,e,n,r){const i=Vi(t.node,e);i&&os(t,e,e[11],n?1:2,i,r)}function Bi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,fe(i,-1)),n.splice(r,1)}function Gi(t,e){if(t.length<=Lt)return;const n=Lt+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Bi(i,r),e>0&&(t[n-1][4]=r[4]);const s=dt(t,Lt+e);zi(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ki(t,e){if(!(256&e[2])){const n=e[11];Yt(n)&&n.destroyNode&&os(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Xi(t[1],t);for(;e;){let n=null;if(Ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ft(e)&&Xi(e[1],e),e=$i(e,t);null===e&&(e=t),Ft(e)&&Xi(e[1],e),n=e&&e[4]}e=n}}(e)}}function $i(t,e){let n;return Ft(t)&&(n=t[6])&&2===n.type?Ui(n,t):t[3]===e?null:t[3]}function Xi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Xe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):ee(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Yt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Mt(e[3])){r!==e[3]&&Bi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Wi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Vi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return re(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==bt.ShadowDom&&n!==bt.Native)return null}return re(r,n)}function Qi(t,e,n,r){Yt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ji(t,e,n){Yt(t)?t.appendChild(e,n):e.appendChild(n)}function Zi(t,e,n,r){null!==r?Qi(t,e,n,r):Ji(t,e,n)}function Yi(t,e){return Yt(t)?t.parentNode(e):e.parentNode}function ts(t,e){if(2===t.type){const n=Ui(t,e);return null===n?null:rs(n.indexOf(e,Lt)-Lt,n)}return 4===t.type||5===t.type?re(t,e):null}function es(t,e,n,r){const i=Wi(t,r,e);if(null!=i){const t=e[11],s=ts(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Zi(t,i,n[e],s);else Zi(t,i,n,s)}}function ns(t,e){if(null!==e){const n=e.type;if(3===n)return re(e,t);if(0===n)return rs(-1,t[e.index]);if(4===n||5===n){const n=e.child;if(null!==n)return ns(t,n);{const n=t[e.index];return Mt(n)?rs(-1,n):ee(n)}}{const n=t[16],r=n[6],i=Fr(n),s=r.projection[e.projection];return null!=s?ns(i,s):ns(t,e.next)}}return null}function rs(t,e){const n=Lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ns(t,r)}return e[7]}function is(t,e,n){const r=Yi(t,e);r&&function(t,e,n,r){Yt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ss(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&Sr(ee(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(ss(t,e,n.child,r,i,s,!1),Hi(e,t,i,a,s)):1===u?us(t,e,r,n,i,s):Hi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function os(t,e,n,r,i,s){ss(n,r,t.node.child,e,i,s,!1)}function as(t,e,n){us(e[11],0,e,n,Wi(t,n,e),ts(n.parent||e[6],e))}function us(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Hi(e,t,i,a[u],s);else ss(t,e,a,o[3],i,s,!0)}function cs(t,e,n){Yt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ls(t,e,n){Yt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class hs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?ds(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ki(this._lView[1],this._lView)}onDestroy(t){ui(this._lView[1],this._lView,null,t)}markForCheck(){ki(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ai(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Se(!0);try{Ai(t,e,n)}finally{Se(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,os(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class fs extends hs{constructor(t){super(t),this._view=t}detectChanges(){Ni(this._view)}checkNoChanges(){!function(t){Se(!0);try{Ni(t)}finally{Se(!1)}}(this._view)}get context(){return null}}function ds(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ee(s)),Mt(s))for(let t=Lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ds(e[1],e,n,r)}const o=n.type;if(4===o||5===o)ds(t,e,n.child,r);else if(1===o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Fr(t);ds(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}let ps,ms,gs;function ys(t,e,n){return ps||(ps=class extends t{}),new ps(re(e,n))}function vs(t,e,n,r){return ms||(ms=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Jr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Yr(e,n,t),new hs(n)}}),0===n.type?new ms(r,n,ys(e,n,r)):null}function bs(t,e,n,r){let i;gs||(gs=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return ys(e,this._hostTNode,this._hostView)}get injector(){return new Tn(this._hostTNode,this._hostView)}get parentInjector(){const t=gn(this._hostTNode,this._hostView),e=rn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=nn(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return tn(t)&&null!=n?new Tn(n,e):new Tn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(at,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Mt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new gs(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=Lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Lt?(e[4]=n[i],ft(n,Lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),zi(r,n,!0,rs(i,this._lContainer)),t.attachToViewContainerRef(this),ft(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Gi(this._lContainer,e);n&&(dt(this._lContainer[8],e),Ki(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Gi(this._lContainer,e);return n&&null!=dt(this._lContainer[8],e)?new hs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Mt(s))i=s;else{let t;if(4===n.type)t=ee(s);else if(t=r[11].createComment(""),zt(r)){const e=r[11],i=re(n,r);Qi(e,Yi(e,i),t,function(t,e){return Yt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else es(r[1],r,t,n);r[n.index]=i=Ti(s,r,t,n),ji(r,i)}return new gs(i,n,r)}function ws(t=!1){return function(t,e,n){if(!n&&Vt(t)){const n=oe(t.index,e);return new hs(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new hs(e[16],e):null}(ve(),me(),t)}let _s=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Es(),t})();const Es=ws,Ss=Function,Os=new K("Set Injector scope."),Ts={},Is={},Cs=[];let xs=void 0;function js(){return void 0===xs&&(xs=new ot),xs}function ks(t,e=null,n=null,r){return new As(t,n,e||js(),r)}class As{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ht(e,n=>this.processProvider(n,t,e)),ht([t],t=>this.processInjectorType(t,[],i)),this.records.set($,Rs(void 0,this));const s=this.records.get(Os);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:x(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=X,n=m.Default){this.assertNotDestroyed();const r=tt(this);try{if(!(n&m.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof K)&&w(t);e=n&&this.injectableDefInScope(n)?Rs(Ns(t),Ts):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&m.Self?js():this.parent).get(t,e=n&m.Optional&&e===X?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(x(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Q]&&i.unshift(e[Q]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=x(e);if(Array.isArray(e))i=e.map(x).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):x(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(W,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{tt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(x(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=N(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ht(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ht(r,t=>this.processProvider(t,n,r||Cs))}}this.injectorDefTypes.add(s),this.records.set(s,Rs(r.factory,Ts));const a=r.providers;if(null!=a&&!o){const e=t;ht(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ls(t=N(t))?t:N(t&&t.provide);const i=function(t,e,n){return Ds(t)?Rs(void 0,t.useValue):Rs(Ps(t),Ts)}(t);if(Ls(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Rs(void 0,Ts,!0),e.factory=()=>st(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ts&&(e.value=Is,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ns(t){const e=w(t),n=null!==e?e.factory:Pt(t);if(null!==n)return n;const r=E(t);if(null!==r)return r.factory;if(t instanceof K)throw new Error(`Token ${x(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pt(e,"?");throw new Error(`Can't resolve all parameters for ${x(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[I]||t[T]&&t[T]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ps(t,e,n){let r=void 0;if(Ls(t)){const e=N(t);return Pt(e)||Ns(e)}if(Ds(t))r=()=>N(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...st(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rt(N(t.useExisting));else{const e=N(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Pt(e)||Ns(e);r=()=>new e(...st(t.deps))}var i;return r}function Rs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ds(t){return null!==t&&"object"==typeof t&&J in t}function Ls(t){return"function"==typeof t}const Fs=function(t,e,n){return function(t,e=null,n=null,r){const i=ks(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ms=(()=>{class t{static create(t,e){return Array.isArray(t)?Fs(t,e,""):Fs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=X,t.NULL=new ot,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>rt($)}),t.__NG_ELEMENT_ID__=-1,t})();const Us=new K("AnalyzeForEntryComponents");function Vs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=j(i,t):2==s&&(r=j(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Hs(t,e){const n=ae(t)[1],r=n.data.length-1;qe(n,{directiveStart:r,directiveEnd:r+1})}function qs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=zs(t.inputs),e.declaredInputs=zs(t.declaredInputs),e.outputs=zs(t.outputs);const n=i.hostBindings;n&&Ks(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Bs(t,s),o&&Gs(t,o),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===qs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ze(i.hostAttrs,n=Ze(n,i.hostAttrs))}}(r)}function zs(t){return t===wt?{}:t===_t?[]:t}function Bs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Gs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ks(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let $s=null;function Xs(){if(!$s){const t=M.Symbol;if(t&&t.iterator)$s=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&($s=n)}}}return $s}class Ws{constructor(t){this.wrapped=t}static wrap(t){return new Ws(t)}static unwrap(t){return Ws.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ws}}function Qs(t){return!!Js(t)&&(Array.isArray(t)||!(t instanceof Map)&&Xs()in t)}function Js(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zs(t,e,n){return t[e]=n}function Ys(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function to(t,e,n,r){const i=Ys(t,e,n);return Ys(t,e+1,r)||i}function eo(t,e,n,r){const i=me();return Ys(i,Ie(),e)&&(ge(),Ei(He(),i,t,e,n,r)),eo}function no(t,e,n,r){return Ys(t,Ie(),n)?e+sn(n)+r:Lr}function ro(t,e,n,r,i,s,o,a){const u=me(),c=ge(),l=t+Dt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Zr(e,n[6],t,0,o||null,le(c,a));fi(e,n,l,le(c,u)),qe(e,l);const h=l.tViews=ai(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ci(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];be(h,!1);const f=u[11].createComment("");es(c,u,f,h),Sr(f,u),ji(u,u[l]=Ti(f,u,f,h)),Ht(h)&&ii(c,u,h),null!=o&&si(u,h,a)}function io(t){return se(de.lFrame.contextLView,t)}function so(t,e=m.Default){const n=me();return null==n?rt(t,e):vn(ve(),n,N(t),e)}function oo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Qe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ve(),t)}function ao(t,e,n){const r=me();return Ys(r,Ie(),e)&&hi(ge(),He(),r,t,e,r[11],n,!1),ao}function uo(t,e,n,r,i){const s=i?"class":"style";Fi(t,n,e.inputs[s],s,r)}function co(t,e,n,r){const i=me(),s=ge(),o=Dt+t,a=i[11],u=i[o]=Qr(e,a,de.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=le(a,s),c=Zr(e,n[6],t,3,i,u);return fi(e,n,c,le(a,o)),null!==c.attrs&&Vs(c,c.attrs,!1),null!==c.mergedAttrs&&Vs(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];be(c,!0);const l=c.mergedAttrs;null!==l&&We(a,u,l);const h=c.classes;null!==h&&ls(a,u,h);const f=c.styles;null!==f&&cs(a,u,f),es(s,i,u,c),0===de.lFrame.elementDepthCount&&Sr(u,i),de.lFrame.elementDepthCount++,Ht(c)&&(ii(s,i,c),ri(s,c,i)),null!==r&&si(i,c)}function lo(){let t=ve();we()?_e():(t=t.parent,be(t,!1));const e=t;de.lFrame.elementDepthCount--;const n=ge();n.firstCreatePass&&(qe(n,t),Ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&uo(n,e,me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&uo(n,e,me(),e.stylesWithoutHost,!1)}function ho(t,e,n,r){co(t,e,n,r),lo()}function fo(t,e,n){const r=me(),i=ge(),s=t+Dt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=le(s,r),a=Zr(e,n[6],t,4,"ng-container",o);return null!==o&&Vs(a,o,!0),fi(e,n,a,le(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];be(o,!0);const a=r[s]=r[11].createComment("");es(i,r,a,o),Sr(a,r),Ht(o)&&(ii(i,r,o),ri(i,o,r)),null!=n&&si(r,o)}function po(){let t=ve();const e=ge();we()?_e():(t=t.parent,be(t,!1)),e.firstCreatePass&&(qe(e,t),Ut(t)&&e.queries.elementEnd(t))}function mo(){return me()}function go(t){return!!t&&"function"==typeof t.then}function yo(t){return!!t&&"function"==typeof t.subscribe}function vo(t,e,n=!1,r){const i=me(),s=ge(),o=ve();return function(t,e,n,r,i,s,o=!1,a){const u=Ht(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Di(e);let h=!0;if(3===r.type){const f=re(r,e),d=a?a(f):wt,p=d.target||f,m=l.length,g=a?t=>a(ee(t[r.index])).target:r.index;if(Yt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=wo(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=wo(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),vo}function bo(t,e,n){try{return!1!==e(n)}catch(r){return Li(t,r),!1}}function wo(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?oe(t.index,e):e;0==(32&e[2])&&ki(o);let a=bo(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=bo(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function _o(t=1){return function(t){return(de.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,de.lFrame.contextLView))[8]}(t)}function Eo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Nr(t,s,!0):Pr(r,s))return i}else n=i}return n}function So(t){const e=me()[16][6];if(!e.projection){const n=e.projection=pt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Eo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let Oo=!1;function To(t){Oo=t}function Io(t,e=0,n){const r=me(),i=ge(),s=Zr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),_e(),Oo||as(i,r,s)}function Co(t,e,n){return xo(t,"",e,"",n),Co}function xo(t,e,n,r,i){const s=me(),o=no(s,e,n,r);return o!==Lr&&hi(ge(),He(),s,t,o,s[11],i,!1),xo}const jo=[];function ko(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Br(s):Kr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Ao(t[a],e)&&(u=!0,t[a+1]=r?Xr(n):Gr(n)),a=r?Br(n):Kr(n)}u&&(t[n+1]=r?Gr(s):Xr(s))}function Ao(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yt(t,e)>=0}const No={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Po(t){return t.substring(No.key,No.keyEnd)}function Ro(t,e){const n=No.textEnd;return n===e?-1:(e=No.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,No.key=e,n),Do(t,e,n))}function Do(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Lo(t,e,n){return Vo(t,e,n,!1),Lo}function Fo(t,e){return Vo(t,e,null,!0),Fo}function Mo(t){Ho(mt,Uo,t,!0)}function Uo(t,e){for(let n=function(t){return function(t){No.key=0,No.keyEnd=0,No.value=0,No.valueEnd=0,No.textEnd=t.length}(t),Ro(t,Do(t,0,No.textEnd))}(e);n>=0;n=Ro(e,n))mt(t,Po(e),!0)}function Vo(t,e,n,r){const i=me(),s=ge(),o=Ce(2);s.firstUpdatePass&&zo(s,t,o,r),e!==Lr&&Ys(i,o,e)&&Ko(s,s.data[Ue()+Dt],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=x(Mn(t)))),t}(e,n),r,o)}function Ho(t,e,n,r){const i=ge(),s=Ce(2);i.firstUpdatePass&&zo(i,null,s,r);const o=me();if(n!==Lr&&Ys(o,s,n)){const a=i.data[Ue()+Dt];if(Wo(a,r)&&!qo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=j(t,n||"")),uo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Lr&&(i=jo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p=null,m=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,m=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,m=d),null!==p&&Ko(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return jo;const r=[],i=Mn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function qo(t,e){return e>=t.expandoStartIndex}function zo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ue()+Dt],o=qo(t,n);Wo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Go(n=Bo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Bo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Kr(r))return t[Br(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Bo(null,t,e,n[1],r),n=Go(n,e.attrs,r),function(t,e,n,r){t[Br(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Go(r,t[s].hostAttrs,n);return Go(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Br(o),u=Kr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||yt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Br(t[a+1]);t[r+1]=zr(e,a),0!==e&&(t[e+1]=$r(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=zr(a,0),0!==a&&(t[a+1]=$r(t[a+1],r)),a=r;else t[r+1]=zr(u,0),0===a?a=r:t[u+1]=$r(t[u+1],r),u=r;l&&(t[r+1]=Gr(t[r+1])),ko(t,c,r,!0),ko(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&yt(s,e)>=0&&(n[r+1]=Xr(n[r+1]))}(e,c,t,r,s),o=zr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Bo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Go(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Go(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mt(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ko(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Xo(1==(1&c)?$o(u,e,n,i,Kr(c),o):void 0)||(Xo(s)||2==(2&c)&&(s=$o(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Yt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,ne(Ue(),n),i,s))}function $o(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Lr&&(l=c?jo:void 0);let h=c?gt(l,r):u===r?l:void 0;if(s&&!Xo(h)&&(h=gt(e,r)),Xo(h)&&(a=h,o))return a;const f=t[i+1];i=o?Br(f):Kr(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=gt(t,r))}return a}function Xo(t){return void 0!==t}function Wo(t,e){return 0!=(t.flags&(e?16:32))}function Qo(t,e=""){const n=me(),r=ge(),i=t+Dt,s=r.firstCreatePass?Zr(r,n[6],t,3,null,null):r.data[i],o=n[i]=qi(e,n[11]);es(r,n,o,s),be(s,!1)}function Jo(t){return Zo("",t,""),Jo}function Zo(t,e,n){const r=me(),i=no(r,t,e,n);return i!==Lr&&Mi(r,Ue(),i),Zo}function Yo(t,e,n,r,i){const s=me(),o=function(t,e,n,r,i,s){const o=to(t,Te(),n,i);return Ce(2),o?e+sn(n)+r+sn(i)+s:Lr}(s,t,e,n,r,i);return o!==Lr&&Mi(s,Ue(),o),Yo}function ta(t,e,n,r,i,s,o,a,u){Ho(mt,Uo,function(t,e,n,r,i,s,o,a,u,c){const l=function(t,e,n,r,i,s){const o=to(t,e,n,r);return to(t,e+2,i,s)||o}(t,Te(),n,i,o,u);return Ce(4),l?e+sn(n)+r+sn(i)+s+sn(o)+a+sn(u)+c:Lr}(me(),t,e,n,r,i,s,o,a,u),!0)}function ea(t,e,n){const r=me();return Ys(r,Ie(),e)&&hi(ge(),He(),r,t,e,r[11],n,!0),ea}function na(t,e,n,r,i){if(t=N(t),Array.isArray(t))for(let s=0;s<t.length;s++)na(t[s],e,n,r,i);else{const s=ge(),o=me();let a=Ls(t)?t:N(t.provide),u=Ps(t);const c=ve(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Ls(t)||!t.multi){const r=new Xe(u,i,so),d=sa(a,e,i?l:l+f,h);-1===d?(yn(dn(c,o),s,a),ra(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=sa(a,e,l+f,h),p=sa(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){yn(dn(c,o),s,a);const l=function(t,e,n,r,i){const s=new Xe(t,n,so);return s.multi=[],s.index=e,s.componentProviders=0,ia(s,i,r&&!n),s}(i?aa:oa,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),ra(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ra(s,t,d>-1?d:p,ia(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ra(t,e,n,r){const i=Ls(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ia(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sa(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oa(t,e,n,r){return ua(this.multi,[])}function aa(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=En(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ua(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ua(i,s);return s}function ua(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ca(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ge();if(r.firstCreatePass){const i=qt(t);na(n,r.data,r.blueprint,i,!0),na(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class la{}class ha{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${x(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let fa=(()=>{class t{}return t.NULL=new ha,t})(),da=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>pa(t),t})();const pa=function(t){return ys(t,ve(),me())};class ma{}var ga=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>va(),t})();const va=function(){const t=me(),e=oe(ve().index,t);return function(t){const e=t[11];if(Yt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ft(e)?e:t)};let ba=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class wa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _a=new wa("10.1.3");class Ea{constructor(){}supports(t){return Qs(t)}create(t){return new Oa(t)}}const Sa=(t,e)=>e;class Oa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<xa(n,r,i)?e:n,o=xa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Qs(t))throw new Error(`Error trying to diff '${x(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Xs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ta(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ca),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ca),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ta{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ia{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ca{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ia,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ja{constructor(){}supports(t){return t instanceof Map||Js(t)}create(){return new ka}}class ka{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Js(t)))throw new Error(`Error trying to diff '${x(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Aa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Aa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Na=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new f]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new Ea])}),t})(),Pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new f]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new ja])}),t})();const Ra=[new ja],Da=new Na([new Ea]),La=new Pa(Ra);let Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ma(t,da),t})();const Ma=function(t,e){return vs(t,e,ve(),me())};let Ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Va(t,da),t})();const Va=function(t,e){return bs(t,e,ve(),me())},Ha={};class qa extends fa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Nt(t);return new Ga(e,this.ngModule)}}function za(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ba=new K("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>an});class Ga extends la{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Dr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return za(this.componentDef.inputs)}get outputs(){return za(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ha,i);return s!==Ha||r===Ha?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ma,te),o=i.get(ba,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Yt(t))return t.selectRootElement(e,n===bt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Qr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:an,clean:Ri,playerHandler:null,flags:0},f=ai(0,-1,null,1,0,null,null,null,null,null),d=Jr(null,f,h,l,null,null,s,a,o,i);let p,m;Pe(d,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Zr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Vs(a,u,!0),null!==t&&(We(i,t,u),null!==a.classes&&ls(i,t,a.classes),null!==a.styles&&cs(i,t,a.styles)));const c=r.createRenderer(t,e),l=Jr(n,oi(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(yn(dn(a,n),o,e.type),yi(o,a),bi(a,n.length,1)),ji(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)We(a,c,["ng-version",_a.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!kr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&We(a,c,t),e&&e.length>0&&ls(a,c,e.join(" "))}if(m=ie(f,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ve();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),gi(t,r,1),wi(t,e,n));const i=En(e,t,e.length-1,r);Sr(i,e);const s=re(r,e);return s&&Sr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=ve();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ve(a.index-Dt);const t=n[1];di(t,e),pi(t,n,e.hostVars),mi(e,o)}return o}(t,this.componentDef,d,h,[Hs]),Yr(f,d,null)}finally{Me()}const g=new Ka(this.componentType,p,ys(da,m,d),d,m);return f.node.child=m,g}}class Ka extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new fs(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ci(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new Tn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const $a=void 0;var Xa=["en",[["a","p"],["AM","PM"],$a],[["AM","PM"],$a,$a],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$a,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$a,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$a,"{1} 'at' {0}",$a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Wa={};function Qa(t,e,n){"string"!=typeof e&&(n=e,e=t[eu.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Wa[e]=t,n&&(Wa[e][eu.ExtraData]=n)}function Ja(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=tu(e);if(n)return n;const r=e.split("-")[0];if(n=tu(r),n)return n;if("en"===r)return Xa;throw new Error(`Missing locale data for the locale "${t}".`)}function Za(t){return Ja(t)[eu.CurrencyCode]||null}function Ya(t){return Ja(t)[eu.PluralCase]}function tu(t){return t in Wa||(Wa[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),Wa[t]}var eu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const nu=["zero","one","two","few","many"],ru="en-US";let iu=ru;function su(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(iu=t.toLowerCase().replace(/_/g,"-"))}const ou={marker:"element"},au={marker:"comment"},uu=[];let cu=-1,lu=0,hu=0;function fu(t,e,n,r){const i=r[11];let s=null,o=null;const a=[];for(let u=0;u<n.length;u++){const c=n[u];if("string"==typeof c){const e=qi(c,i),l=n[++u];o=s,s=bu(t,r,l,3,e,null),a.push(l),_e()}else if("number"==typeof c)switch(7&c){case 1:const i=c>>>17;let l;l=i===e?r[6]:ie(t,i),o=yu(t,s,l,o,r);break;case 0:const h=c>=0,f=(h?c:~c)>>>3;a.push(f),o=s,s=ie(t,f),s&&be(s,h);break;case 5:o=s=ie(t,c>>>3),be(s,!1);break;case 4:const d=n[++u],p=n[++u];Ei(ie(t,c>>>3),r,d,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case au:const e=n[++u],l=n[++u],h=i.createComment(e);o=s,s=bu(t,r,l,5,h,null),a.push(l),Sr(h,r),_e();break;case ou:const f=n[++u],d=n[++u];o=s,s=bu(t,r,d,3,i.createElement(f),f),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return _e(),a}function du(t,e,n,r,i,s){let o=!1;for(let a=0;a<r.length;a++){const u=r[a],c=r[++a];if(u&s){let s="";for(let u=a+1;u<=a+c;u++){const a=r[u];if("string"==typeof a)s+=a;else if("number"==typeof a)if(a<0)s+=sn(n[i-a]);else{const c=a>>>2;switch(3&a){case 1:const a=r[++u],l=r[++u];hi(t,ie(t,c),n,a,s,n[11],l,!1);break;case 0:Mi(n,c,s);break;case 2:o=mu(t,e,r[++u],n,s);break;case 3:pu(t,e,r[++u],i,n,o)}}}}a+=c}}function pu(t,e,n,r,i,s){const o=e[n],a=i[o.currentCaseLViewIndex];null!==a&&du(t,e,i,o.update[a],r,s?-1:lu)}function mu(t,e,n,r,i){gu(t,e,n,r);let s=!1;const o=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Ya(e)(parseInt(t,10)),r=nu[n];return void 0!==r?r:"other"}(e,iu);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(o,i);return r[o.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(fu(t,-1,o.create[a],r),s=!0),s}function gu(t,e,n,r){const i=e[n],s=r[i.currentCaseLViewIndex];if(null!==s){const n=i.remove[s];for(let i=0;i<n.length;i++){const s=n[i],o=s>>>3;switch(7&s){case 3:vu(t,r,o,!1);break;case 6:gu(t,e,o,r)}}}}function yu(t,e,n,r,i){const s=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let o=e.next;for(;o;)o.next===e&&(o.next=s),o=o.next;if(1===e.type)return as(t,i,e),e;es(t,i,re(e,i),e);const a=i[e.index];return 0!==e.type&&Mt(a)&&es(t,i,a[7],e),e}function vu(t,e,n,r){const i=ie(t,n),s=ne(n,e);s&&is(e[11],s);const o=se(e,n);if(Mt(o)){const t=o;0!==i.type&&is(e[11],t[7])}r&&(i.flags|=64)}function bu(t,e,n,r,i,s){const o=ve();e[n+Dt]=i;const a=Zr(t,e[6],n,r,s,null);return o&&o.next===a&&(o.next=null),a}const wu=/\ufffd(\d+):?\d*\ufffd/gi,_u=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Eu=/\ufffd(\d+)\ufffd/,Su=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let Ou;const Tu=[],Iu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Cu=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,xu=/\uE500/g;function ju(t,e,n,r=null){const i=[null,null],s=t.split(wu);let o=0;for(let a=0;a<s.length;a++){const t=s[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),o|=Nu(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=o,i[1]=i.length-2,i}function ku(t,e=0){let n;e|=Nu(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=wu.exec(r);)e|=Nu(parseInt(n[1],10));else e=ku(r,e)}}return e}function Au(t){return t+Ou++}function Nu(t){return 1<<Math.min(t,31)}function Pu(t){return void 0===t}function Ru(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Iu.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Du(t,e,n,r){const i=[],s=[],o=[],a=[],u=[],c=e.values;for(let l=0;l<c.length;l++){const e=c[l],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const f=Fu(e.join(""),n,h,t,r);i.push(f.create),s.push(f.remove),o.push(f.update),a.push(f.vars),u.push(f.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:Dt+r+1,childIcus:u,cases:e.cases,create:i,remove:s,update:o}),Ou+=Math.max(...a)}function Lu(t){const e=[],n=[];let r=1,i=0;const s=Mu(t=t.replace(Su,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Mu(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Fu(t,e,n,r,i){const s=Qn(Zt()).getInertBodyElement(t);if(!s)throw new Error("Unable to generate inert body element");const o={vars:1,childIcus:[],create:[],remove:[],update:[]};return Uu((wr(s)||s).firstChild,o,e,n,r,i),o}function Mu(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Su.test(n)?r.push(Lu(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Uu(t,e,n,r,i,s){if(t){const o=[];for(;t;){const a=t.nextSibling,u=s+ ++e.vars;switch(t.nodeType){case Node.ELEMENT_NODE:const a=t,c=a.tagName.toLowerCase();if(cr.hasOwnProperty(c)){e.create.push(ou,c,u,n<<17|1);const o=a.attributes;for(let t=0;t<o.length;t++){const n=o.item(t),r=n.name.toLowerCase();n.value.match(wu)?fr.hasOwnProperty(r)&&ct(lr[r]?ju(n.value,u,n.name,er):hr[r]?ju(n.value,u,n.name,nr):ju(n.value,u,n.name),e.update):e.create.push(u<<3|4,n.name,n.value)}Uu(t.firstChild,e,u,r,i,s),e.remove.push(u<<3|3)}else e.vars--;break;case Node.TEXT_NODE:const l=t.textContent||"",h=l.match(wu);e.create.push(h?"":l,u,n<<17|1),e.remove.push(u<<3|3),h&&ct(ju(l,u),e.update);break;case Node.COMMENT_NODE:const f=Eu.exec(t.textContent||"");if(f){const t=parseInt(f[1],10);e.create.push(au,"",u,n<<17|1),o.push([r[t],u])}else e.vars--;break;default:e.vars--}t=a}for(let t=0;t<o.length;t++){const n=o[t][0],r=o[t][1];Du(i,n,r,s+e.vars);const a=i.length-1;e.vars+=Math.max(...i[a].vars),e.childIcus.push(a);const u=ku(n);e.update.push(Nu(n.mainBinding),3,-1-n.mainBinding,r<<2|2,a,u,2,r<<2|3,a),e.remove.push(a<<3|6,r<<3|3)}}}function Vu(t,e,n){(function(t,e,n){const r=ge(),i=le(r.consts,e);!function(t){uu[++cu]=t}(t),To(!0),r.firstCreatePass&&null===r.data[t+Dt]&&function(t,e,n,r,i){const s=e.blueprint.length-Dt;Ou=0;const o=ve(),a=we()?o:o&&o.parent;let u=a&&a!==t[6]?a.index-Dt:n,c=0;Tu[c]=u;const l=[];if(n>0&&o!==a){let t=o.index-Dt;we()||(t=~t),l.push(t<<3|0)}const h=[],f=[];if(""===r&&Pu(i))l.push(r,Au(s),u<<17|1);else{const t=function(t,e){if(Pu(e))return Ru(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ru(t.substring(n,r))}}(r,i),e=(d=t,d.replace(xu," ")).split(Cu);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);u=Tu[--c],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,u<<17|1),e&&(Tu[++c]=u=t)}else{const e=Mu(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Au(s);l.push(au,"",i,u<<17|1);const o=ku(r);Du(f,r,i,i);const a=f.length-1;h.push(Nu(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,o,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(wu),i=Au(s);l.push(r?"":t,i,u<<17|1),r&&ct(ju(t,i),h)}}}}var d;Ou>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,Ou),e.data[n+Dt]={vars:Ou,create:l,update:h,icus:f.length?f:null}}(me(),r,t,i,n)})(t,e,n),function(){const t=me();(function(t,e){const n=uu[cu--],r=t.data[n+Dt],i=ve(),s=fu(t,n,r.create,e);let o=n+1;for(;o<=i.index-Dt;){-1===s.indexOf(o)&&vu(t,e,o,!0);const n=ie(t,o);!n||0!==n.type&&3!==n.type&&4!==n.type||null===n.localNames||(o+=n.localNames.length>>1),o++}})(ge(),t),To(!1)}()}function Hu(t,e){const n=me(),r=ge();!function(t,e,n,r){const i=ve().index-Dt,s=[];for(let o=0;o<r.length;o+=2){const a=r[o],u=r[o+1].split(_u);for(let r=0;r<u.length;r++){const o=u[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(wu))e.firstCreatePass&&null===e.data[n+Dt]&&ct(ju(o,i,a),s);else{const n=ie(e,i);3===n.type&&Ei(n,t,a,o,null,null);const r=null!==n.inputs&&n.inputs[a];r&&Fi(e,t,r,a,o)}}}e.firstCreatePass&&null===e.data[n+Dt]&&(e.data[n+Dt]=s)}(n,r,t,le(r.consts,e))}function qu(t){return Ys(me(),Ie(),t)&&(lu|=1<<hu),hu++,qu}function zu(t){!function(t,e,n){if(hu>0){const r=t.data[n+Dt];let i,s=null;Array.isArray(r)?i=r:(i=r.update,s=r.icus),du(t,s,e,i,Te()-hu-1,lu),lu=0,hu=0}}(ge(),me(),t)}const Bu=new Map;function Gu(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${x(e)} vs ${x(e.name)}`)})(e,Bu.get(e),t),Bu.set(e,t)}let e=t.\u0275mod.imports;e instanceof Function&&(e=e()),e&&e.forEach(t=>Gu(t))}class Ku extends at{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qa(this);const n=Rt(t),r=t[z]||null;r&&su(r),this._bootstrapComponents=cn(n.bootstrap),this._r3Injector=ks(t,e,[{provide:at,useValue:this},{provide:fa,useValue:this.componentFactoryResolver}],x(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ms.THROW_IF_NOT_FOUND,n=m.Default){return t===Ms||t===at||t===$?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $u extends ut{constructor(t){super(),this.moduleType=t,null!==Rt(t)&&Gu(t)}create(t){return new Ku(this.moduleType,t)}}function Xu(t,e,n){const r=Oe()+t,i=me();return i[r]===Lr?Zs(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Wu(t,e,n,r){return Yu(me(),Oe(),t,e,n,r)}function Qu(t,e,n,r,i){return tc(me(),Oe(),t,e,n,r,i)}function Ju(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=to(t,e,n,r);return Ys(t,e+2,i)||s}(t,u,i,s,o)?Zs(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):Zu(t,u+3)}(me(),Oe(),t,e,n,r,i,s)}function Zu(t,e){const n=t[e];return n===Lr?void 0:n}function Yu(t,e,n,r,i,s){const o=e+n;return Ys(t,o,i)?Zs(t,o+1,s?r.call(s,i):r(i)):Zu(t,o+1)}function tc(t,e,n,r,i,s,o){const a=e+n;return to(t,a,i,s)?Zs(t,a+2,o?r.call(o,i,s):r(i,s)):Zu(t,a+2)}function ec(t,e){const n=ge();let r;const i=t+Dt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Pt(r.type)),o=et(so),a=hn(!1),u=s();return hn(a),et(o),function(t,e,n,r){const i=n+Dt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,me(),t,u),u}function nc(t,e,n){const r=me(),i=se(r,t);return sc(r,ic(r,t)?Yu(r,Oe(),e,i.transform,n,i):i.transform(n))}function rc(t,e,n,r){const i=me(),s=se(i,t);return sc(i,ic(i,t)?tc(i,Oe(),e,s.transform,n,r,s):s.transform(n,r))}function ic(t,e){return t[1].data[e+Dt].pure}function sc(t,e){return Ws.isWrapped(e)&&(e=Ws.unwrap(e),t[Te()]=Lr),e}const oc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function ac(){return this._results[Xs()]()}class uc{constructor(){this.dirty=!0,this._results=[],this.changes=new oc,this.length=0;const t=Xs(),e=uc.prototype;e[t]||(e[t]=ac)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=lt(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class cc{constructor(t){this.queryList=t,this.matches=null}clone(){return new cc(this.queryList)}setDirty(){this.queryList.setDirty()}}class lc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new lc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==xc(t,e).matches&&this.queries[e].setDirty()}}class hc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class fc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new fc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class dc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new dc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,pc(e,i)),this.matchTNodeWithReadOption(t,e,_n(e,t,i,!1,!1))}else n===Fa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_n(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===da||r===Ua||r===Fa&&0===e.type)this.addMatch(e.index,-2);else{const n=_n(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function pc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function mc(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?ys(da,t,e):0===t.type?vs(Fa,da,t,e):null}(e,t):-2===n?function(t,e,n){return n===da?ys(da,e,t):n===Fa?vs(Fa,da,e,t):n===Ua?bs(Ua,da,e,t):void 0}(t,e,r):En(t,t[1],n,e)}function gc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:mc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function yc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=gc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=Lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&yc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];yc(n[1],n,i,r)}}}}}return r}function vc(t){const e=me(),n=ge(),r=ke();Ae(r+1);const i=xc(n,r);if(t.dirty&&ue(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?yc(n,e,r,[]):gc(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function bc(t,e,n){_c(ge(),me(),t,e,n,!0)}function wc(t,e,n){_c(ge(),me(),t,e,n,!1)}function _c(t,e,n,r,i,s){t.firstCreatePass&&(Cc(t,new hc(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),Ic(t,e)}function Ec(t,e,n,r){Oc(ge(),me(),e,n,r,!1,ve(),t)}function Sc(t,e,n,r){Oc(ge(),me(),e,n,r,!0,ve(),t)}function Oc(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Cc(t,new hc(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Ic(t,e)}function Tc(){return t=me(),e=ke(),t[19].queries[e].queryList;var t,e}function Ic(t,e){const n=new uc;ui(t,e,n,n.destroy),null===e[19]&&(e[19]=new lc),e[19].queries.push(new cc(n))}function Cc(t,e,n){null===t.queries&&(t.queries=new fc),t.queries.track(new dc(e,n))}function xc(t,e){return t.queries.getByIndex(e)}function jc(t,e){return vs(Fa,da,t,e)}function kc(t=m.Default){const e=ws(!0);if(null!=e||t&m.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Ac=new K("Application Initializer");let Nc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();go(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rt(Ac,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Pc=new K("AppId"),Rc={provide:Pc,useFactory:function(){return`${Dc()}${Dc()}${Dc()}`},deps:[]};function Dc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lc=new K("Platform Initializer"),Fc=new K("Platform ID"),Mc=new K("appBootstrapListener");let Uc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Vc=new K("LocaleId"),Hc=new K("DefaultCurrencyCode");class qc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const zc=function(t){return new $u(t)},Bc=zc,Gc=function(t){return Promise.resolve(zc(t))},Kc=function(t){const e=zc(t),n=cn(Rt(t).declarations).reduce((t,e)=>{const n=Nt(e);return n&&t.push(new Ga(n)),t},[]);return new qc(e,n)},$c=Kc,Xc=function(t){return Promise.resolve(Kc(t))};let Wc=(()=>{class t{constructor(){this.compileModuleSync=Bc,this.compileModuleAsync=Gc,this.compileModuleAndAllComponentsSync=$c,this.compileModuleAndAllComponentsAsync=Xc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Qc=(()=>Promise.resolve(0))();function Jc(t){"undefined"==typeof Zone?Qc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oc(!1),this.onMicrotaskEmpty=new oc(!1),this.onStable=new oc(!1),this.onError=new oc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nl(t),el(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return rl(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),il(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return rl(t),e.invoke(r,i,s,o,a)}finally{il(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,nl(t),el(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,tl,Yc,Yc);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Yc(){}const tl={};function el(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function rl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function il(t){t._nesting--,el(t)}class sl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oc,this.onMicrotaskEmpty=new oc,this.onStable=new oc,this.onError=new oc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ol=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zc.assertNotInAngularZone(),Jc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rt(Zc))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),al=(()=>{class t{constructor(){this._applications=new Map,hl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return hl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class ul{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function cl(t){hl=t}let ll,hl=new ul;const fl=new K("AllowMultipleToken");class dl{constructor(t,e){this.name=t,this.token=e}}function pl(t,e,n=[]){const r="Platform: "+e,i=new K(r);return(e=[])=>{let s=ml();if(!s||s.injector.get(fl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Os,useValue:"platform"});!function(t){if(ll&&!ll.destroyed&&!ll.injector.get(fl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ll=t.get(gl);const e=t.get(Lc,null);e&&e.forEach(t=>t())}(Ms.create({providers:t,name:r}))}return function(t){const e=ml();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ml(){return ll&&!ll.destroyed?ll:null}let gl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new sl:("zone.js"===t?void 0:t)||new Zc({enableLongStackTrace:Xn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Zc,useValue:n}];return n.run(()=>{const e=Ms.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(An,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>bl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return go(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Nc);return t.runInitializers(),t.donePromise.then(()=>(su(i.injector.get(Vc,ru)||ru),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=yl({},e);return function(t,e,n){const r=new $u(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(vl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${x(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rt(Ms))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function yl(t,e){return Array.isArray(e)?e.reduce(yl,t):Object.assign(Object.assign({},t),e)}let vl=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Xn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Zc.assertNotInAngularZone(),Jc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Zc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof la?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(at),i=n.create(Ms.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(ol,null);return s&&i.injector.get(al).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Xn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;bl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Mc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),bl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rt(Zc),rt(Uc),rt(Ms),rt(An),rt(fa),rt(Nc))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function bl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class wl{}class _l{}const El={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Sl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||El}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ol(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ol(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(rt(Wc),rt(_l,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Ol(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Tl=function(t){return null},Il=pl(null,"core",[{provide:Fc,useValue:"unknown"},{provide:gl,deps:[Ms]},{provide:al,deps:[]},{provide:Uc,deps:[]}]),Cl=[{provide:vl,useClass:vl,deps:[Zc,Uc,Ms,An,fa,Nc]},{provide:Ba,deps:[Zc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Nc,useClass:Nc,deps:[[new f,Ac]]},{provide:Wc,useClass:Wc,deps:[]},Rc,{provide:Na,useFactory:function(){return Da},deps:[]},{provide:Pa,useFactory:function(){return La},deps:[]},{provide:Vc,useFactory:function(t){return su(t=t||"undefined"!=typeof $localize&&$localize.locale||ru),t},deps:[[new h(Vc),new f,new p]]},{provide:Hc,useValue:"USD"}];let xl=(()=>{class t{constructor(t){}}return t.\u0275mod=Ct({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(rt(vl))},providers:Cl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,u);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return O}),n.d(e,"h",function(){return i}),n.d(e,"i",function(){return s}),n.d(e,"j",function(){return a}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return g}),n.d(e,"p",function(){return u}),n.d(e,"q",function(){return c}),n.d(e,"r",function(){return f}),n.d(e,"s",function(){return m}),n.d(e,"t",function(){return y});var r=n("30Go");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}function g(){return"indexedDB"in self&&null!=indexedDB}function y(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}})}function v(){return!(!navigator||!navigator.cookieEnabled)}var b=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,w.prototype.create),s}return Object(r.c)(e,t),e}(Error),w=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new b(i,a,r);return u},t}();function _(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function I(){}function C(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return T}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return g}),n.d(e,"k",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig");class w{}const _=new u.O("6.1.4");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:w,useFactory:E,deps:[v,u.z,[new u.A,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Xb(u.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class m extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("oB13"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>Object(i.a)()(Object(r.a)(o)(t))}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.h)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.i)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),m=d.next();!m.done;m=d.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.i)(e,t)},createSubscribe:o.g,ErrorFactory:o.b,deepExtend:o.i}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.q)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyB95wNClvfx4HhnXKyO_rHWuF4e0wlYQFQ",authDomain:"handr-44e0a.firebaseapp.com",projectId:"handr-44e0a",storageBucket:"handr-44e0a.appspot.com",messagingSenderId:"88228256769",appId:"1:88228256769:web:0bcddbc8fcab0b8e7db400",measurementId:"G-6YRVJDKX90"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Xb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Xb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Xb)(a).location;return new w(Object(r.Xb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(u),r.Xb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(u),r.Xb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(y),r.Xb(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Gb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Xb)(y),Object(r.Xb)(u))}function O(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),C=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function x(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===C.CurrencyDecimal)return n[r.Z.NumberSymbols][C.Decimal];if(e===C.CurrencyGroup)return n[r.Z.NumberSymbols][C.Group]}return i}const j=r.lb,k=/^(\d+)?\.((\d+)(-(\d+))?)?$/,A=".",N="0";function P(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class R{}let D=(()=>{class t extends R{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function L(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class F{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let M=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new F(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new U(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new U(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class U{constructor(t,e){this.record=t,this.view=e}}let V=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class H{constructor(){this.$implicit=null,this.ngIf=null}}function q(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let z=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(A))>-1&&(o=o.replace(A,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===N;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===N;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){const t=s.match(k);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=P(e)),null!=n&&(h=P(n)),null!=r?f=P(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?g=d.splice(p,d.length):(g=d,d=[0]);const y=[];for(d.length>=e.lgSize&&y.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)y.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(x(n,r)),g.length&&(a+=x(n,i)+g.join("")),m&&(a+=x(n,C.Exponential)+"+"+m)}else a=x(n,C.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(A)?i.split(A):[i.substring(0,i.lastIndexOf(N)+1),i.substring(i.lastIndexOf(N)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===N?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.ib)(t)[r.Z.NumberFormats][e]}(e,T.Decimal),x(e,C.MinusSign)),e,C.Group,C.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.u))},t.\u0275pipe=r.Jb({name:"number",type:t,pure:!0}),t})(),B=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:R,useClass:D}]}),t})();function G(t){return"browser"===t}function K(t){return"server"===t}let $=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new X(Object(r.Xb)(a),window,Object(r.Xb)(r.m))}),t})();class X{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=W(this.window.history)||W(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function W(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Q,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Z||(Z=document.querySelector("base"),Z)?Z.getAttribute("href"):null;return null==e?null:(n=e,J||(J=document.createElement("a")),J.setAttribute("href",n),"/"===J.pathname.charAt(0)?J.pathname:"/"+J.pathname);var n}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return L(document.cookie,t)}}let J,Z=null;const Y=new r.q("TRANSITION_ID"),tt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,a,r.r],multi:!0}];class et{static init(){Object(r.W)(new et)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const nt=new r.q("EventManagerPlugins");let rt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(nt),r.Xb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let st=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t extends st{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ut=/%COMP%/g;function ct(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ct(t,i,n):(i=i.replace(ut,t),n.push(i))}return n}function lt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ht=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ft(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new dt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ct(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(rt),r.Xb(ot),r.Xb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class ft{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(at[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=at[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=at[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lt(n)):this.eventManager.addEventListener(t,e,lt(n))}}class dt extends ft{constructor(t,e,n,r){super(t),this.component=n;const i=ct(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ut,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ut,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class pt extends ft{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=ct(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mt=(()=>{class t extends it{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const gt=["alt","control","meta","shift"],yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let wt=(()=>{class t extends it{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vt.hasOwnProperty(e)&&(e=vt[e]))}return yt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),gt.forEach(r=>{r!=n&&(0,bt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const _t=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Q.makeCurrent(),et.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],Et=Object(r.R)(r.V,"browser",_t),St=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:nt,useClass:mt,multi:!0,deps:[a,r.z,r.B]},{provide:nt,useClass:wt,multi:!0,deps:[a]},[],{provide:ht,useClass:ht,deps:[rt,ot,r.c]},{provide:r.E,useExisting:ht},{provide:st,useExisting:ot},{provide:ot,useClass:ot,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:rt,useClass:rt,deps:[nt,r.z]},[]];let Ot=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},tt]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(t,12))},providers:St,imports:[B,r.f]}),t})();function Tt(){return new It(Object(r.Xb)(a))}let It=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a))},t.\u0275prov=Object(r.Gb)({factory:Tt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var Ct=n("LRne"),xt=n("Cfvw"),jt=n("XNiG"),kt=n("9ppp");class At extends jt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new kt.a;return this._value}next(t){super.next(this._value=t)}}var Nt=n("z+Ro"),Pt=n("DH7j"),Rt=n("7o/Q");class Dt extends Rt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Lt extends Rt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ft=n("SeVD"),Mt=n("HDdC");function Ut(t,e,n,r,i=new Lt(t,n,r)){if(!i.closed)return e instanceof Mt.a?e.subscribe(i):Object(Ft.a)(e)(i)}var Vt=n("yCtX");const Ht={};class qt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new zt(t,this.resultSelector))}}class zt extends Dt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ht),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ut(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ht?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Bt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Gt=n("EY2u");function Kt(t){return new Mt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(xt.a)(n):Object(Gt.b)()).subscribe(e)})}var $t=n("lJxs"),Xt=n("bHdf");function Wt(){return Object(Xt.a)(1)}function Qt(t,e){return function(n){return n.lift(new Jt(t,e))}}class Jt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Zt(t,this.predicate,this.thisArg))}}class Zt extends Rt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function te(t){return function(e){return 0===t?Object(Gt.b)():e.lift(new ee(t))}}class ee{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new ne(t,this.total))}}class ne extends Rt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function re(t=oe){return e=>e.lift(new ie(t))}class ie{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new se(t,this.errorFactory))}}class se extends Rt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(ab){t=ab}this.destination.error(t)}}}function oe(){return new Bt}function ae(t=null){return e=>e.lift(new ue(t))}class ue{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ce(t,this.defaultValue))}}class ce extends Rt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var le=n("SpAZ"),he=n("zx2A");function fe(t,e){return"function"==typeof e?n=>n.pipe(fe((n,r)=>Object(xt.a)(t(n,r)).pipe(Object($t.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new de(t))}class de{constructor(t){this.project=t}call(t,e){return e.subscribe(new pe(t,this.project))}}class pe extends he.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new he.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(he.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function me(t){return e=>0===t?Object(Gt.b)():e.lift(new ge(t))}class ge{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new ye(t,this.total))}}class ye extends Rt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ve(...t){return Wt()(Object(Ct.a)(...t))}function be(...t){const e=t[t.length-1];return Object(Nt.a)(e)?(t.pop(),n=>ve(t,n,e)):e=>ve(t,e)}function we(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _e(t,e,n))}}class _e{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ee(t,this.accumulator,this.seed,this.hasSeed))}}class Ee extends Rt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Se(t){return function(e){const n=new Oe(t),r=e.lift(n);return n.caught=r}}class Oe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Te(t,this.selector,this.caught))}}class Te extends he.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new he.a(this);this.add(r);const i=Object(he.c)(n,r);i!==r&&this.add(i)}}}var Ie=n("5+tZ");function Ce(t,e){return Object(Ie.a)(t,e,1)}function xe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):le.a,me(1),n?ae(e):re(()=>new Bt))}var je=n("vkgz"),ke=n("quSY");class Ae{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ne(t,this.callback))}}class Ne extends Rt.a{constructor(t,e){super(t),this.add(new ke.a(e))}}class Pe{constructor(t,e){this.id=t,this.url=e}}class Re extends Pe{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class De extends Pe{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Le extends Pe{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fe extends Pe{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Me extends Pe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends Pe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve extends Pe{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class He extends Pe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Pe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Be{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qe="primary";class Je{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ze(t){return new Je(t)}function Ye(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function tn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function en(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nn(t[i],e[i]))return!1;return!0}function nn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function rn(t){return Array.prototype.concat.apply([],t)}function sn(t){return t.length>0?t[t.length-1]:null}function on(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function an(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(xt.a)(Promise.resolve(t)):Object(Ct.a)(t)}function un(t,e,n){return n?function(t,e){return en(t,e)}(t.queryParams,e.queryParams)&&cn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nn(t[n],e[n]))}(t.queryParams,e.queryParams)&&ln(t.root,e.root)}function cn(t,e){if(!mn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!cn(t.children[n],e.children[n]))return!1}return!0}function ln(t,e){return hn(t,e,e.segments)}function hn(t,e,n){if(t.segments.length>n.length)return!!mn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!mn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!ln(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!mn(t.segments,r)&&!!t.children.primary&&hn(t.children.primary,e,i)}}class fn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ze(this.queryParams)),this._queryParamMap}toString(){return bn.serialize(this)}}class dn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,on(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class pn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ze(this.parameters)),this._parameterMap}toString(){return Cn(this)}}function mn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function gn(t,e){let n=[];return on(t.children,(t,r)=>{r===Qe&&(n=n.concat(e(t,r)))}),on(t.children,(t,r)=>{r!==Qe&&(n=n.concat(e(t,r)))}),n}class yn{}class vn{parse(t){const e=new Nn(t);return new fn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+_n(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Sn(e)}=${Sn(t)}`).join("&"):`${Sn(e)}=${Sn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const bn=new vn;function wn(t){return t.segments.map(t=>Cn(t)).join("/")}function _n(t,e){if(!t.hasChildren())return wn(t);if(e){const e=t.children.primary?_n(t.children.primary,!1):"",n=[];return on(t.children,(t,e)=>{e!==Qe&&n.push(`${e}:${_n(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=gn(t,(e,n)=>n===Qe?[_n(t.children.primary,!1)]:[`${n}:${_n(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${wn(t)}/${e[0]}`:`${wn(t)}/(${e.join("//")})`}}function En(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sn(t){return En(t).replace(/%3B/gi,";")}function On(t){return En(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tn(t){return decodeURIComponent(t)}function In(t){return Tn(t.replace(/\+/g,"%20"))}function Cn(t){return`${On(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${On(t)}=${On(e[t])}`).join("")}`;var e}const xn=/^[^\/()?;=#]+/;function jn(t){const e=t.match(xn);return e?e[0]:""}const kn=/^[^=?&#]+/,An=/^[^?&#]+/;class Nn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new dn(t,e)),n}parseSegment(){const t=jn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new pn(Tn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=jn(this.remaining);t&&(n=t,this.capture(n))}t[Tn(e)]=Tn(n)}parseQueryParam(t){const e=function(t){const e=t.match(kn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(An);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=In(e),i=In(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=jn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Qe);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new dn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Pn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Rn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Rn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Dn(t,this._root).map(t=>t.value)}}function Rn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Rn(t,n);if(e)return e}return null}function Dn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Dn(t,n);if(r.length)return r.unshift(e),r}return[]}class Ln{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Mn extends Pn{constructor(t,e){super(t),this.snapshot=e,Bn(this,t)}toString(){return this.snapshot.toString()}}function Un(t,e){const n=function(t,e){const n=new qn([],{},{},"",{},Qe,e,null,t.root,-1,{});return new zn("",new Ln(n,[]))}(t,e),r=new At([new pn("",{})]),i=new At({}),s=new At({}),o=new At({}),a=new At(""),u=new Vn(r,i,o,a,s,Qe,e,n.root);return u.snapshot=n.root,new Mn(new Ln(u,[]),n)}class Vn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object($t.a)(t=>Ze(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object($t.a)(t=>Ze(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class qn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ze(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ze(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zn extends Pn{constructor(t,e){super(e),this.url=t,Bn(this,e)}toString(){return Gn(this._root)}}function Bn(t,e){e.value._routerState=t,e.children.forEach(e=>Bn(t,e))}function Gn(t){const e=t.children.length>0?` { ${t.children.map(Gn).join(", ")} } `:"";return`${t.value}${e}`}function Kn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,en(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),en(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!en(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),en(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $n(t,e){return en(t.params,e.params)&&function(t,e){return mn(t,e)&&t.every((t,n)=>en(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||$n(t.parent,e.parent))}function Xn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(r.value.snapshot,e.value))return Xn(t,e,r);return Xn(t,e)})}(t,e,n);return new Ln(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Wn(e,t),t}{const n=new Vn(new At((r=e.value).url),new At(r.params),new At(r.queryParams),new At(r.fragment),new At(r.data),r.outlet,r.component,r),i=e.children.map(e=>Xn(t,e));return new Ln(n,i)}}var r}function Wn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Wn(t.children[n],e.children[n])}function Qn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jn(t,e,n,r,i){let s={};return r&&on(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new fn(n.root===t?e:Zn(n.root,t,e),s,i)}function Zn(t,e,n){const r={};return on(t.children,(t,i)=>{r[i]=t===e?n:Zn(t,e,n)}),new dn(t.segments,r)}class Yn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Qn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==sn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function er(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function nr(t,e,n){if(t||(t=new dn([],{})),0===t.segments.length&&t.hasChildren())return rr(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=er(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!ar(o,a,e))return s;r+=2}else{if(!ar(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new dn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new dn(t.segments.slice(r.pathIndex),t.children),rr(e,0,i)}return r.match&&0===i.length?new dn(t.segments,{}):r.match&&!t.hasChildren()?ir(t,e,n):r.match?rr(t,0,i):ir(t,e,n)}function rr(t,e,n){if(0===n.length)return new dn(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[Qe]:t}}(n),i={};return on(r,(n,r)=>{null!==n&&(i[r]=nr(t.children[r],e,n))}),on(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new dn(t.segments,i)}}function ir(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=sr(n[i].outlets);return new dn(r,t)}if(0===i&&Qn(n[0])){r.push(new pn(t.segments[e].path,n[0])),i++;continue}const s=er(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Qn(o)?(r.push(new pn(s,or(o))),i+=2):(r.push(new pn(s,{})),i++)}return new dn(r,{})}function sr(t){const e={};return on(t,(t,n)=>{null!==t&&(e[n]=ir(new dn([],{}),0,t))}),e}function or(t){const e={};return on(t,(t,n)=>e[n]=""+t),e}function ar(t,e,n){return t==n.path&&en(e,n.parameters)}class ur{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Fn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),on(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Fn(t),i=t.value.component?n.children:e;on(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Fn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Xe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ke(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Kn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),cr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function cr(t){Kn(t.value),t.children.forEach(cr)}class lr{constructor(t,e){this.routes=t,this.module=e}}function hr(t){return"function"==typeof t}function fr(t){return t instanceof fn}const dr=Symbol("INITIAL_VALUE");function pr(){return fe(t=>function(...t){let e=void 0,n=void 0;return Object(Nt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Pt.a)(t[0])&&(t=t[0]),Object(Vt.a)(t,n).lift(new qt(e))}(...t.map(t=>t.pipe(me(1),be(dr)))).pipe(we((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==dr)return t;if(r===dr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fr(r))return r}return t},t)},dr),Qt(t=>t!==dr),Object($t.a)(t=>fr(t)?t:!0===t),me(1)))}class mr{constructor(t){this.segmentGroup=t||null}}class gr{constructor(t){this.urlTree=t}}function yr(t){return new Mt.a(e=>e.error(new mr(t)))}function vr(t){return new Mt.a(e=>e.error(new gr(t)))}function br(t){return new Mt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class wr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Qe).pipe(Object($t.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Se(t=>{if(t instanceof gr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof mr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Qe).pipe(Object($t.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Se(t=>{if(t instanceof mr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new dn([],{[Qe]:t}):t;return new fn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object($t.a)(t=>new dn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ct.a)({});const n=[],r=[],i={};return on(t,(t,s)=>{const o=e(s,t).pipe(Object($t.a)(t=>i[s]=t));s===Qe?n.push(o):r.push(o)}),Ct.a.apply(null,n.concat(r)).pipe(Wt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):le.a,te(1),n?ae(e):re(()=>new Bt))}(),Object($t.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Ct.a)(...n).pipe(Ce(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Se(t=>{if(t instanceof mr)return Object(Ct.a)(null);throw t}))),xe(t=>!!t),Se((t,n)=>{if(t instanceof Bt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ct.a)(new dn([],{}));throw new mr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Or(r)!==s?yr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):yr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?vr(i):this.lineralizeSegments(n,i).pipe(Object(Ie.a)(n=>{const i=new dn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=_r(e,r,i);if(!o)return yr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?vr(l):this.lineralizeSegments(r,l).pipe(Object(Ie.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object($t.a)(t=>(n._loadedConfig=t,new dn(r,{})))):Object(Ct.a)(new dn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=_r(e,n,r);if(!i)return yr(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Ie.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Sr(t,e,n)&&Or(n)!==Qe)}(t,n,r)?{segmentGroup:Er(new dn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Or(r)!==Qe&&(n[Or(r)]=new dn([],{}));return n}(r,new dn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Sr(t,e,n))}(t,n,r)?{segmentGroup:Er(new dn(t.segments,function(t,e,n,r){const i={};for(const s of n)Sr(t,e,s)&&!r[Or(s)]&&(i[Or(s)]=new dn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object($t.a)(t=>new dn(s,t))):0===r.length&&0===o.length?Object(Ct.a)(new dn(s,{})):this.expandSegment(n,i,r,o,Qe,!0).pipe(Object($t.a)(t=>new dn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ct.a)(new lr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ct.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ie.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object($t.a)(t=>(e._loadedConfig=t,t))):function(t){return new Mt.a(e=>e.error(Ye(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ct.a)(new lr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&hr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!hr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return an(s)});return Object(Ct.a)(i).pipe(pr(),Object(je.a)(t=>{if(!fr(t))return;const e=Ye(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object($t.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ct.a)(n);if(r.numberOfChildren>1||!r.children.primary)return br(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new fn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return on(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return on(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new dn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function _r(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||tn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Er(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new dn(t.segments.concat(e.segments),e.children)}return t}function Sr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Or(t){return t.outlet||Qe}class Tr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ir{constructor(t,e){this.component=t,this.route=e}}function Cr(t,e,n){const r=t._root;return jr(r,e?e._root:null,n,[r.value])}function xr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function jr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!mn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mn(t.url,e.url)||!en(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(t,e)||!en(t.queryParams,e.queryParams);case"paramsChange":default:return!$n(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Tr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),jr(t,e,s.component?a?a.children:null:n,r,i),u&&i.canDeactivateChecks.push(new Ir(a&&a.outlet&&a.outlet.component||null,o))}else o&&kr(e,a,i),i.canActivateChecks.push(new Tr(r)),jr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),on(s,(t,e)=>kr(t,n.getContext(e),i)),i}function kr(t,e,n){const r=Fn(t),i=t.value;on(r,(t,r)=>{kr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ir(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ar(t,e){return null!==t&&e&&e(new $e(t)),Object(Ct.a)(!0)}function Nr(t,e){return null!==t&&e&&e(new Ge(t)),Object(Ct.a)(!0)}function Pr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>Kt(()=>{const i=xr(r,e,n);let s;if(function(t){return t&&hr(t.canActivate)}(i))s=an(i.canActivate(e,t));else{if(!hr(i))throw new Error("Invalid CanActivate guard");s=an(i(e,t))}return s.pipe(xe())}));return Object(Ct.a)(i).pipe(pr())}function Rr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Kt(()=>{const i=e.guards.map(i=>{const s=xr(i,e.node,n);let o;if(function(t){return t&&hr(t.canActivateChild)}(s))o=an(s.canActivateChild(r,t));else{if(!hr(s))throw new Error("Invalid CanActivateChild guard");o=an(s(r,t))}return o.pipe(xe())});return Object(Ct.a)(i).pipe(pr())}));return Object(Ct.a)(i).pipe(pr())}class Dr{}class Lr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Ur(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Qe),n=new qn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ln(n,e),i=new zn(this.url,r);return this.inheritParamsAndData(i._root),Object(Ct.a)(i)}catch(ab){return new Mt.a(e=>e.error(ab))}}inheritParamsAndData(t){const e=t.value,n=Hn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=gn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Qe?-1:e.value.outlet===Qe?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(ab){if(!(ab instanceof Dr))throw ab}if(this.noLeftoversInUrl(e,n,r))return[];throw new Dr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Dr;if((t.outlet||Qe)!==r)throw new Dr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?sn(n).parameters:{};i=new qn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),r,t.component,t,Fr(e),Mr(e)+n.length,zr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Dr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||tn)(n,t,e);if(!r)throw new Dr;const i={};on(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new qn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),r,t.component,t,Fr(e),Mr(e)+s.length,zr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ur(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Ln(i,t)]}if(0===a.length&&0===c.length)return[new Ln(i,[])];const l=this.processSegment(a,u,c,Qe);return[new Ln(i,l)]}}function Fr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ur(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Vr(t,e,n)&&Hr(n)!==Qe)}(t,n,r)){const i=new dn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Hr(s)!==Qe){const n=new dn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Hr(s)]=n}return i}(t,e,r,new dn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Vr(t,e,n))}(t,n,r)){const s=new dn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Vr(t,n,a)&&!i[Hr(a)]){const n=new dn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Hr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new dn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Hr(t){return t.outlet||Qe}function qr(t){return t.data||{}}function zr(t){return t.resolve||{}}function Br(t){return function(e){return e.pipe(fe(e=>{const n=t(e);return n?Object(xt.a)(n).pipe(Object($t.a)(()=>e)):Object(xt.a)([e])}))}}class Gr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Kr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[ci]},encapsulation:2}),t})();function $r(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Xr(r,Wr(e,r))}}function Xr(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Qe)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&$r(t.children,e)}function Wr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Qr(t){const e=t.children&&t.children.map(Qr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Qe&&(n.component=Kr),n}const Jr=new r.q("ROUTES");class Zr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object($t.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new lr(rn(r.injector.get(Jr)).map(Qr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(xt.a)(this.loader.load(t)):an(t()).pipe(Object(Ie.a)(t=>t instanceof r.v?Object(Ct.a)(t):Object(xt.a)(this.compiler.compileModuleAsync(t))))}}class Yr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ti,this.attachRef=null}}class ti{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Yr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ei{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ni(t){throw t}function ri(t,e,n){return e.parse("/")}function ii(t,e){return Object(Ct.a)(null)}let si=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new jt.a,this.errorHandler=ni,this.malformedUriErrorHandler=ri,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ii,afterPreactivation:ii},this.urlHandlingStrategy=new ei,this.routeReuseStrategy=new Gr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.X);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new fn(new dn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zr(o,a,t=>this.triggerEvent(new ze(t)),t=>this.triggerEvent(new Be(t))),this.routerState=Un(this.currentUrlTree,this.rootComponentType),this.transitions=new At({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Qt(t=>0!==t.id),Object($t.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),fe(t=>{let n=!1,r=!1;return Object(Ct.a)(t).pipe(Object(je.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fe(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ct.a)(t).pipe(fe(t=>{const n=this.transitions.getValue();return e.next(new Re(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Gt.a:[t]}),fe(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(fe(t=>function(t,e,n,r,i){return new wr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object($t.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(je.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Ie.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Lr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object($t.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(je.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(je.a)(t=>{const n=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Re(n,this.serializeUrl(r),i,s);e.next(a);const u=Un(r,this.rootComponentType).snapshot;return Object(Ct.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Gt.a}),Br(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(je.a)(t=>{const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object($t.a)(t=>Object.assign(Object.assign({},t),{guards:Cr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Ie.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ct.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(xt.a)(t).pipe(Object(Ie.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ct.a)(!0);const o=s.map(s=>{const o=xr(s,e,i);let a;if(function(t){return t&&hr(t.canDeactivate)}(o))a=an(o.canDeactivate(t,e,n,r));else{if(!hr(o))throw new Error("Invalid CanDeactivate guard");a=an(o(t,e,n,r))}return a.pipe(xe())});return Object(Ct.a)(o).pipe(pr())}(t.component,t.route,n,e,r)),xe(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Ie.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(xt.a)(e).pipe(Ce(e=>Object(xt.a)([Nr(e.route.parent,r),Ar(e.route,r),Rr(t,e.path,n),Pr(t,e.route,n)]).pipe(Wt(),xe(t=>!0!==t,!0))),xe(t=>!0!==t,!0))}(r,s,t,e):Object(Ct.a)(n)),Object($t.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(je.a)(t=>{if(fr(t.guardsResult)){const e=Ye(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(je.a)(t=>{const e=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Qt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Le(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Br(t=>{if(t.guards.canActivateChecks.length)return Object(Ct.a)(t).pipe(Object(je.a)(t=>{const e=new He(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),fe(t=>{let n=!1;return Object(Ct.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Ie.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ct.a)(t);let s=0;return Object(xt.a)(n).pipe(Ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ct.a)({});const s={};return Object(xt.a)(i).pipe(Object(Ie.a)(i=>function(t,e,n,r){const i=xr(t,e,r);return an(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(je.a)(t=>{s[i]=t}))),te(1),Object(Ie.a)(()=>Object.keys(s).length===i.length?Object(Ct.a)(s):Gt.a))}(t._resolve,t,e,r).pipe(Object($t.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Hn(t,n).resolve),null)))}(t.route,e,r,i)),Object(je.a)(()=>s++),te(1),Object(Ie.a)(e=>s===n.length?Object(Ct.a)(t):Gt.a))}))}),Object(je.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Le(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(je.a)(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Br(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object($t.a)(t=>{const e=function(t,e,n){const r=Xn(t,e._root,n?n._root:void 0);return new Mn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(je.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object($t.a)(t=>(new ur(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(je.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Le(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ae(i))),Se(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=fr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Le(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Fe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(xl){t.reject(xl)}}var i;return Gt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){$r(t),this.config=t.map(Qr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Jn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Yn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return on(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Yn(n,e,r)}(n);if(s.toRoot())return Jn(e.root,new dn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new tr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new tr(t,t===e.root,0)}const r=Qn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new tr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?rr(o.segmentGroup,o.index,s.commands):nr(o.segmentGroup,o.index,s.commands);return Jn(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=fr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(ab){e=this.malformedUriErrorHandler(ab,this.urlSerializer,t)}return e}isActive(t,e){if(fr(t))return un(this.currentUrlTree,t,e);const n=this.parseUrl(t);return un(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.M),r.Xb(yn),r.Xb(ti),r.Xb(E),r.Xb(r.r),r.Xb(r.w),r.Xb(r.i),r.Xb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),oi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new jt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ui(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(si),r.Kb(Vn),r.Yb("tabindex"),r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.ac("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),ai=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new jt.a,this.subscription=t.events.subscribe(t=>{t instanceof De&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ui(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(si),r.Kb(Vn),r.Kb(y))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Sb("href",e.href,r.tc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function ui(t){return""===t||!!t}let ci=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new li(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ti),r.Kb(r.P),r.Kb(r.j),r.Yb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class li{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Vn?this.route:t===ti?this.childContexts:this.parent.get(t,e)}}class hi{}class fi{preload(t,e){return Object(Ct.a)(null)}}let di=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Zr(e,n,e=>t.triggerEvent(new ze(e)),e=>t.triggerEvent(new Be(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(t=>t instanceof De),Ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(xt.a)(n).pipe(Object(Xt.a)(),Object($t.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Ie.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(si),r.Xb(r.w),r.Xb(r.i),r.Xb(r.r),r.Xb(hi))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),pi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Re?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof De&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof We&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new We(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(si),r.Xb($),r.Xb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const mi=new r.q("ROUTER_CONFIGURATION"),gi=new r.q("ROUTER_FORROOT_GUARD"),yi=[E,{provide:yn,useClass:vn},{provide:si,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new si(null,t,e,n,r,i,s,rn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[yn,ti,E,r.r,r.w,r.i,Jr,mi,[class{},new r.A],[class{},new r.A]]},ti,{provide:Vn,useFactory:function(t){return t.routerState.root},deps:[si]},{provide:r.w,useClass:r.J},di,fi,class{preload(t,e){return e().pipe(Se(()=>Object(Ct.a)(null)))}},{provide:mi,useValue:{enableTracing:!1}}];function vi(){return new r.y("Router",si)}let bi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[yi,Si(e),{provide:gi,useFactory:Ei,deps:[[si,new r.A,new r.I]]},{provide:mi,useValue:n||{}},{provide:y,useFactory:_i,deps:[u,[new r.p(b),new r.A],mi]},{provide:pi,useFactory:wi,deps:[si,$,mi]},{provide:hi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:fi},{provide:r.y,multi:!0,useFactory:vi},[Oi,{provide:r.d,multi:!0,useFactory:Ti,deps:[Oi]},{provide:Ci,useFactory:Ii,deps:[Oi]},{provide:r.b,multi:!0,useExisting:Ci}]]}}static forChild(e){return{ngModule:t,providers:[Si(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(gi,8),r.Xb(si,8))}}),t})();function wi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new pi(t,e,n)}function _i(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function Ei(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Si(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Jr,multi:!0,useValue:t}]}let Oi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new jt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(si),r=this.injector.get(mi);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ct.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(mi),n=this.injector.get(di),i=this.injector.get(pi),s=this.injector.get(si),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function Ti(t){return t.appInitializer.bind(t)}function Ii(t){return t.bootstrapListener.bind(t)}const Ci=new r.q("Router Initializer");function xi(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",4,5),r.ac("click",function(){return r.sc(t),r.cc().installation()}),r.Ac(2,"\u062a\u062b\u0628\u064a\u062a"),r.Ob()}}const ji=function(){return["levels"]},ki=function(){return["newLevels"]};let Ai=(()=>{class t{constructor(){this.showButton=!1}ngOnInit(){}onbeforeinstallprompt(t){t.preventDefault(),this.deferredPrompt=t,this.showButton=!0}installation(){this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(t=>{"accepted"===t.outcome&&(this.showButton=!1),this.deferredPrompt=null})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-index"]],hostBindings:function(t,e){1&t&&r.ac("beforeinstallprompt",function(t){return e.onbeforeinstallprompt(t)},!1,r.rc)},decls:8,vars:5,consts:[[1,"container",2,"max-width","567px"],["src","assets/img/logo.svg","alt","logo",1,"logo",2,"margin","50px 0px","width","100%"],["type","button",1,"btn","btn-secondary","btn-lg","btn-block",3,"routerLink"],["type","button","class","btn btn-secondary btn-lg btn-block",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-lg","btn-block",3,"click"],["ins",""]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Lb(1,"img",1),r.Pb(2,"div"),r.Pb(3,"button",2),r.Ac(4,"\u0627\u0628\u062f\u0623"),r.Ob(),r.Pb(5,"button",2),r.Ac(6,"\u0645\u0631\u0627\u062d\u0644 \u0627\u0636\u0627\u0641\u064a\u0629"),r.Ob(),r.yc(7,xi,3,0,"button",3),r.Ob(),r.Ob()),2&t&&(r.yb(3),r.ic("routerLink",r.lc(3,ji)),r.yb(2),r.ic("routerLink",r.lc(4,ki)),r.yb(2),r.ic("ngIf",e.showButton))},directives:[oi,V],styles:["*[_ngcontent-%COMP%]{font-size:larger}button[_ngcontent-%COMP%]{background-color:#71563a!important;margin-bottom:15px}"]}),t})();var Ni=n("D0XW");function Pi(){return t=>t.lift(new Ri)}class Ri{call(t,e){return e.subscribe(new Di(t))}}class Di extends Rt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Li(t,e){return n=>n.lift(new Fi(t,e))}class Fi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Mi(t,this.compare,this.keySelector))}}class Mi extends Rt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ui=n("pxpQ"),Vi=n("spgP"),Hi=n("Jgta"),qi=n("zIRd"),zi=n("q/0M"),Bi=n("qOnz"),Gi=function(t,e){return(Gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ki(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var $i,Xi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wi=Wi||{},Qi=Xi||self;function Ji(){}function Zi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Yi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ts="closure_uid_"+(1e9*Math.random()>>>0),es=0;function ns(t,e,n){return t.call.apply(t.bind,arguments)}function rs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function is(t,e,n){return(is=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ns:rs).apply(null,arguments)}function ss(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function os(){return Date.now()}function as(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function us(){this.j=this.j,this.i=this.i}us.prototype.j=!1,us.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ts)&&t[ts]||(t[ts]=++es)}(this)},us.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var cs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ls=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function hs(t){return Array.prototype.concat.apply([],arguments)}function fs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ds(t){return/^[\s\xa0]*$/.test(t)}var ps,ms=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gs(t,e){return-1!=t.indexOf(e)}function ys(t,e){return t<e?-1:t>e?1:0}t:{var vs=Qi.navigator;if(vs){var bs=vs.userAgent;if(bs){ps=bs;break t}}ps=""}function ws(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function _s(t){var e={};for(var n in t)e[n]=t[n];return e}var Es="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ss(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Es.length;s++)n=Es[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Os(t){return Os[" "](t),t}Os[" "]=Ji;var Ts,Is,Cs=gs(ps,"Opera"),xs=gs(ps,"Trident")||gs(ps,"MSIE"),js=gs(ps,"Edge"),ks=js||xs,As=gs(ps,"Gecko")&&!(gs(ps.toLowerCase(),"webkit")&&!gs(ps,"Edge"))&&!(gs(ps,"Trident")||gs(ps,"MSIE"))&&!gs(ps,"Edge"),Ns=gs(ps.toLowerCase(),"webkit")&&!gs(ps,"Edge");function Ps(){var t=Qi.document;return t?t.documentMode:void 0}t:{var Rs="",Ds=(Is=ps,As?/rv:([^\);]+)(\)|;)/.exec(Is):js?/Edge\/([\d\.]+)/.exec(Is):xs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Is):Ns?/WebKit\/(\S+)/.exec(Is):Cs?/(?:Version)[ \/]?(\S+)/.exec(Is):void 0);if(Ds&&(Rs=Ds?Ds[1]:""),xs){var Ls=Ps();if(null!=Ls&&Ls>parseFloat(Rs)){Ts=String(Ls);break t}}Ts=Rs}var Fs={};function Ms(t){return function(t,e){var n=Fs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ms(String(Ts)).split("."),r=ms(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ys(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ys(0==o[2].length,0==a[2].length)||ys(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Us=Qi.document&&xs&&(Ps()||parseInt(Ts,10))||void 0,Vs=!xs||9<=Number(Us),Hs=xs&&!Ms("9"),qs=function(){if(!Qi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Qi.addEventListener("test",Ji,e),Qi.removeEventListener("test",Ji,e)}catch(n){}return t}();function zs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Bs(t,e){if(zs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(As){t:{try{Os(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Gs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}zs.prototype.b=function(){this.defaultPrevented=!0},as(Bs,zs);var Gs={2:"touch",3:"pen",4:"mouse"};Bs.prototype.b=function(){Bs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Hs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ks="closure_listenable_"+(1e6*Math.random()|0),$s=0;function Xs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++$s,this.Y=this.Z=!1}function Ws(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Qs(t){this.src=t,this.a={},this.b=0}function Js(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=cs(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ws(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Zs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Qs.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Zs(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Xs(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Ys="closure_lm_"+(1e6*Math.random()|0),to={};function eo(t,e,n,r,i){if(r&&r.once)return ro(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eo(t,e[s],n,r,i);return null}return n=ho(n),t&&t[Ks]?t.va(e,n,Yi(r)?!!r.capture:!!r,i):no(t,e,n,!1,r,i)}function no(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Yi(i)?!!i.capture:!!i;if(o&&!Vs)return null;var a=co(t);if(a||(t[Ys]=a=new Qs(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=uo,e=Vs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qs||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ro(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ro(t,e[s],n,r,i);return null}return n=ho(n),t&&t[Ks]?t.wa(e,n,Yi(r)?!!r.capture:!!r,i):no(t,e,n,!0,r,i)}function io(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)io(t,e[s],n,r,i);else r=Yi(r)?!!r.capture:!!r,n=ho(n),t&&t[Ks]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Zs(s=t.a[e],n,r,i))&&(Ws(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=co(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Zs(e,n,r,i)),(n=-1<t?e[t]:null)&&so(n))}function so(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ks])Js(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=co(e))?(Js(n,t),0==n.b&&(n.src=null,e[Ys]=null)):Ws(t)}}}function oo(t){return t in to?to[t]:to[t]="on"+t}function ao(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&so(t),n.call(r,e)}function uo(t,e){if(t.Y)return!0;if(!Vs){if(!e)t:{e=["window","event"];for(var n=Qi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ao(t,e=new Bs(e,this))}return ao(t,new Bs(e,this))}function co(t){return(t=t[Ys])instanceof Qs?t:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ho(t){return"function"==typeof t?t:(t[lo]||(t[lo]=function(e){return t.handleEvent(e)}),t[lo])}function fo(){us.call(this),this.c=new Qs(this),this.J=this,this.C=null}function po(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new zs(e,t);else if(e instanceof zs)e.target=e.target||t;else{var i=e;Ss(e=new zs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=mo(o,r,!0,e)&&i}if(i=mo(o=e.a=t,r,!0,e)&&i,i=mo(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=mo(o=e.a=n[s],r,!1,e)&&i}function mo(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Js(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}as(fo,us),fo.prototype[Ks]=!0,($i=fo.prototype).addEventListener=function(t,e,n,r){eo(this,t,e,n,r)},$i.removeEventListener=function(t,e,n,r){io(this,t,e,n,r)},$i.G=function(){if(fo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ws(n[r]);delete e.a[t],e.b--}}this.C=null},$i.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},$i.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var go=Qi.JSON.stringify;function yo(){this.b=this.a=null}var vo,bo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new _o},function(t){t.reset()});function wo(){var t=To,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function _o(){this.next=this.b=this.a=null}function Eo(t){Qi.setTimeout(function(){throw t},0)}function So(t,e){vo||function(){var t=Qi.Promise.resolve(void 0);vo=function(){t.then(Io)}}(),Oo||(vo(),Oo=!0),To.add(t,e)}yo.prototype.add=function(t,e){var n=bo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},_o.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},_o.prototype.reset=function(){this.next=this.b=this.a=null};var Oo=!1,To=new yo;function Io(){for(var t;t=wo();){try{t.a.call(t.b)}catch(n){Eo(n)}var e=bo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Oo=!1}function Co(t,e){fo.call(this),this.b=t||1,this.a=e||Qi,this.f=is(this.Za,this),this.g=os()}function xo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function jo(t,e,n){if("function"==typeof t)n&&(t=is(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=is(t.handleEvent,t)}return 2147483647<Number(e)?-1:Qi.setTimeout(t,e||0)}function ko(t){t.a=jo(function(){t.a=null,t.c&&(t.c=!1,ko(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}as(Co,fo),($i=Co.prototype).aa=!1,$i.M=null,$i.Za=function(){if(this.aa){var t=os()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),po(this,"tick"),this.aa&&(xo(this),this.start()))}},$i.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=os())},$i.G=function(){Co.X.G.call(this),xo(this),delete this.a};var Ao=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Gi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ko(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Qi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(us);function No(t){us.call(this),this.b=t,this.a={}}as(No,us);var Po=[];function Ro(t,e,n,r){Array.isArray(n)||(n&&(Po[0]=n.toString()),n=Po);for(var i=0;i<n.length;i++){var s=eo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Do(t){ws(t.a,function(t,e){this.a.hasOwnProperty(e)&&so(t)},t),t.a={}}function Lo(){this.a=!0}function Fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return go(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}No.prototype.G=function(){No.X.G.call(this),Do(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lo.prototype.info=function(){};var Mo={},Uo=null;function Vo(){return Uo=Uo||new fo}function Ho(t){zs.call(this,Mo.Fa,t)}function qo(t){var e=Vo();po(e,new Ho(e,t))}function zo(t,e){zs.call(this,Mo.STAT_EVENT,t),this.stat=e}function Bo(t){var e=Vo();po(e,new zo(e,t))}function Go(t){zs.call(this,Mo.Ga,t)}function Ko(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Qi.setTimeout(function(){t()},e)}Mo.Fa="serverreachability",as(Ho,zs),Mo.STAT_EVENT="statevent",as(zo,zs),Mo.Ga="timingevent",as(Go,zs);var $o={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Xo={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Wo(){}function Qo(){}Wo.prototype.a=null;var Jo,Zo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Yo(){zs.call(this,"d")}function ta(){zs.call(this,"c")}function ea(){}function na(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new No(this),this.P=ra,this.R=new Co(t=ks?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}as(Yo,zs),as(ta,zs),as(ea,Wo),Jo=new ea;var ra=45e3,ia={},sa={};function oa(t,e,n){t.H=1,t.i=xa(Ea(e)),t.j=n,t.I=!0,aa(t,null)}function aa(t,e){t.u=os(),la(t),t.l=Ea(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ha(n.b,"t",r),t.D=0,t.a=Du(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ao(is(t.Ca,t,t.a),t.O)),Ro(t.J,t.a,"readystatechange",t.Xa),e=t.B?_s(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),qo(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ua(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ca(t,n);if(i==sa){4==e&&(t.h=4,Bo(14),r=!1),Fo(t.c,t.f,null,"[Incomplete Response]");break}if(i==ia){t.h=4,Bo(15),Fo(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fo(t.c,t.f,i,null),ma(t,i)}4==e&&0==n.length&&(t.h=1,Bo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cu(e),e.F=!0,Bo(11))):(Fo(t.c,t.f,n,"[Invalid Chunked Response]"),pa(t),da(t))}function ca(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?sa:(n=Number(e.substring(n,r)),isNaN(n)?ia:(r+=1)+n>e.length?sa:(e=e.substr(r,n),t.D=r+n,e))}function la(t){t.T=os()+t.P,ha(t,t.P)}function ha(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ko(is(t.Va,t),e)}function fa(t){t.o&&(Qi.clearTimeout(t.o),t.o=null)}function da(t){0==t.g.v||t.A||ku(t.g,t)}function pa(t){fa(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,xo(t.R),Do(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ma(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Xa(n.b,t)))if(n.I=t.N,!t.C&&Xa(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(wv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ju(n),vu(n)}Iu(n),Bo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ko(is(n.Sa,n),6e3));if(1>=$a(n.b)&&n.ea){try{n.ea()}catch(wv){}n.ea=void 0}}else Nu(n,11)}else if((t.C||n.a==t)&&ju(n),!ds(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(gs(l,"spdy")||gs(l,"quic")||gs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Wa(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ca(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=os()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Ru(u,u.C?u.ga:null,u.fa),d.C){Qa(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(fa(p),la(p)),u.a=d}else Tu(u);0<n.g.length&&_u(n)}else"stop"!=i[0]&&"close"!=i[0]||Nu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Nu(n,7):yu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);qo(4)}catch(wv){}}function ga(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zi(t)||"string"==typeof t)ls(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Zi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Zi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ya(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ya)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function va(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ba(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ba(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ba(t,e){return Object.prototype.hasOwnProperty.call(t,e)}($i=na.prototype).setTimeout=function(t){this.P=t},$i.Xa=function(t){t=t.target;var e=this.F;e&&3==du(t)?e.f():this.Ca(t)},$i.Ca=function(t){try{if(t==this.a)t:{var e=du(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ks&&!this.a.$())){this.A||4!=e||7==n||qo(8==n||0>=r?3:2),fa(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ds(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Bo(12),pa(this),da(this);break t}Fo(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ma(this,u)}this.I?(ua(this,e,s),ks&&this.b&&3==e&&(Ro(this.J,this.R,"tick",this.Wa),this.R.start())):(Fo(this.c,this.f,s,null),ma(this,s)),4==e&&pa(this),this.b&&!this.A&&(4==e?ku(this.g,this):(this.b=!1,la(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Bo(12)):(this.h=0,Bo(13)),pa(this),da(this)}}}catch(c){}},$i.Wa=function(){if(this.a){var t=du(this.a),e=this.a.$();this.D<e.length&&(fa(this),ua(this,t,e),this.b&&4!=t&&la(this))}},$i.cancel=function(){this.A=!0,pa(this)},$i.Va=function(){this.o=null;var t=os();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(qo(3),Bo(17)),pa(this),this.h=2,da(this)):ha(this,this.T-t)},($i=ya.prototype).K=function(){va(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},$i.L=function(){return va(this),this.a.concat()},$i.get=function(t,e){return ba(this.b,t)?this.b[t]:e},$i.set=function(t,e){ba(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},$i.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _a(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof _a){this.a=void 0!==e?e:t.a,Sa(this,t.f),this.j=t.j,Oa(this,t.c),Ta(this,t.h),this.g=t.g,e=t.b;var n=new Fa;n.c=e.c,e.a&&(n.a=new ya(e.a),n.b=e.b),Ia(this,n),this.i=t.i}else t&&(n=String(t).match(wa))?(this.a=!!e,Sa(this,n[1]||"",!0),this.j=ja(n[2]||""),Oa(this,n[3]||"",!0),Ta(this,n[4]),this.g=ja(n[5]||"",!0),Ia(this,n[6]||"",!0),this.i=ja(n[7]||"")):(this.a=!!e,this.b=new Fa(null,this.a))}function Ea(t){return new _a(t)}function Sa(t,e,n){t.f=n?ja(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Oa(t,e,n){t.c=n?ja(e,!0):e}function Ta(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ia(t,e,n){e instanceof Fa?(t.b=e,function(t,e){e&&!t.f&&(Ma(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ua(this,e),Ha(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ka(e,Da)),t.b=new Fa(e,t.a))}function Ca(t,e,n){t.b.set(e,n)}function xa(t){return Ca(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^os()).toString(36)),t}function ja(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ka(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Aa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Aa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_a.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ka(e,Na,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ka(e,Na,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ka(n,"/"==n.charAt(0)?Ra:Pa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ka(n,La)),t.join("")};var Na=/[#\/\?@]/g,Pa=/[#\?:]/g,Ra=/[#\?]/g,Da=/[#\?@]/g,La=/#/g;function Fa(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ma(t){t.a||(t.a=new ya,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ua(t,e){Ma(t),e=qa(t,e),ba(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ba((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&va(t)))}function Va(t,e){return Ma(t),e=qa(t,e),ba(t.a.b,e)}function Ha(t,e,n){Ua(t,e),0<n.length&&(t.c=null,t.a.set(qa(t,e),fs(n)),t.b+=n.length)}function qa(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}($i=Fa.prototype).add=function(t,e){Ma(this),this.c=null,t=qa(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},$i.forEach=function(t,e){Ma(this),this.a.forEach(function(n,r){ls(n,function(n){t.call(e,n,r,this)},this)},this)},$i.L=function(){Ma(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},$i.K=function(t){Ma(this);var e=[];if("string"==typeof t)Va(this,t)&&(e=hs(e,this.a.get(qa(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=hs(e,t[n])}return e},$i.set=function(t,e){return Ma(this),this.c=null,Va(this,t=qa(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},$i.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},$i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var za=function(){return function(t,e){this.b=t,this.a=e}}();function Ba(t){this.g=t||Ga,t=Qi.PerformanceNavigationTiming?0<(t=Qi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Qi.ia&&Qi.ia.ya&&Qi.ia.ya()&&Qi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ga=10;function Ka(t){return!!t.b||!!t.a&&t.a.size>=t.f}function $a(t){return t.b?1:t.a?t.a.size:0}function Xa(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Wa(t,e){t.a?t.a.add(e):t.b=e}function Qa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ja(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ki(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return fs(t.c)}function Za(){}function Ya(){this.a=new Za}function tu(t,e,n){var r=n||"";try{ga(t,function(t,n){var i=t;Yi(t)&&(i=go(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(ab){throw e.push(r+"type="+encodeURIComponent("_badmap")),ab}}function eu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ba.prototype.cancel=function(){var t,e;if(this.c=Ja(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ki(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Za.prototype.stringify=function(t){return Qi.JSON.stringify(t,void 0)},Za.prototype.parse=function(t){return Qi.JSON.parse(t,void 0)};var nu=Qi.JSON.parse;function ru(t){fo.call(this),this.headers=new ya,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=iu,this.D=this.F=!1}as(ru,fo);var iu="",su=/^https?$/i,ou=["POST","PUT"];function au(t){return"content-type"==t.toLowerCase()}function uu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,cu(t),hu(t)}function cu(t){t.u||(t.u=!0,po(t,"complete"),po(t,"error"))}function lu(t){if(t.b&&void 0!==Wi&&(!t.s[1]||4!=du(t)||2!=t.W()))if(t.l&&4==du(t))jo(t.za,0,t);else if(po(t,"readystatechange"),4==du(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(wa)[1]||null;if(!s&&Qi.self&&Qi.self.location){var o=Qi.self.location.protocol;s=o.substr(0,o.length-1)}i=!su.test(s?s.toLowerCase():"")}e=i}if(e)po(t,"complete"),po(t,"success");else{t.h=6;try{var a=2<du(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",cu(t)}}finally{hu(t)}}}function hu(t,e){if(t.a){fu(t);var n=t.a,r=t.s[0]?Ji:null;t.a=null,t.s=null,e||po(t,"ready");try{n.onreadystatechange=r}catch(ab){}}}function fu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Qi.clearTimeout(t.m),t.m=null)}function du(t){return t.a?t.a.readyState:0}function pu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ws(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ca(t,e,n))}function mu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gu(t){this.pa=0,this.g=[],this.c=new Lo,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=mu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=mu("baseRetryDelayMs",5e3,t),this.Ra=mu("retryDelaySeedMs",1e4,t),this.Ma=mu("forwardChannelMaxRetries",2,t),this.ma=mu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ba(t&&t.concurrentRequestLimit),this.ka=new Ya,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function yu(t){if(bu(t),3==t.v){var e=t.R++,n=Ea(t.B);Ca(n,"SID",t.J),Ca(n,"RID",e),Ca(n,"TYPE","terminate"),Su(t,n),(e=new na(t,t.c,e,void 0)).H=2,e.i=xa(Ea(n)),n=!1,Qi.navigator&&Qi.navigator.sendBeacon&&(n=Qi.navigator.sendBeacon(e.i.toString(),"")),!n&&Qi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Du(e.g,null),e.a.ba(e.i)),e.u=os(),la(e)}Pu(t)}function vu(t){t.a&&(Cu(t),t.a.cancel(),t.a=null)}function bu(t){vu(t),t.j&&(Qi.clearTimeout(t.j),t.j=null),ju(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Qi.clearTimeout(t.h),t.h=null)}function wu(t,e){t.g.push(new za(t.Oa++,e)),3==t.v&&_u(t)}function _u(t){Ka(t.b)||t.h||(t.h=!0,So(t.Ba,t),t.u=0)}function Eu(t,e){var n;n=e?e.f:t.R++;var r=Ea(t.B);Ca(r,"SID",t.J),Ca(r,"RID",n),Ca(r,"AID",t.P),Su(t,r),t.i&&t.l&&pu(r,t.i,t.l),n=new na(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ou(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Wa(t.b,n),oa(n,r,e)}function Su(t,e){t.f&&ga({},function(t,n){Ca(e,n,t)})}function Ou(t,e,n){n=Math.min(t.g.length,n);var r=t.f?is(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{tu(l,o,"req"+c+"_")}catch(yc){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Tu(t){t.a||t.j||(t.T=1,So(t.Aa,t),t.o=0)}function Iu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ko(is(t.Aa,t),Au(t,t.o)),t.o++,0))}function Cu(t){null!=t.s&&(Qi.clearTimeout(t.s),t.s=null)}function xu(t){t.a=new na(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ea(t.la);Ca(e,"RID","rpc"),Ca(e,"SID",t.J),Ca(e,"CI",t.H?"0":"1"),Ca(e,"AID",t.P),Su(t,e),Ca(e,"TYPE","xmlhttp"),t.i&&t.l&&pu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=xa(Ea(e)),n.j=null,n.I=!0,aa(n,t)}function ju(t){null!=t.m&&(Qi.clearTimeout(t.m),t.m=null)}function ku(t,e){var n=null;if(t.a==e){ju(t),Cu(t),t.a=null;var r=2}else{if(!Xa(t.b,e))return;n=e.s,Qa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=os()-e.u;var i=t.u;po(r=Vo(),new Go(r,n,e,i)),_u(t)}else Tu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!($a(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ko(is(t.Ba,t,e),Au(t,t.u)),t.u++,0)))}(t,e)||2==r&&Iu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Nu(t,5);break;case 4:Nu(t,10);break;case 3:Nu(t,6);break;default:Nu(t,2)}}function Au(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Nu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=is(t.Ya,t);n||(n=new _a("//www.google.com/images/cleardot.gif"),Qi.location&&"http"==Qi.location.protocol||Sa(n,"https"),xa(n)),function(t,e){var n=new Lo;if(Qi.Image){var r=new Image;r.onload=ss(eu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ss(eu,n,r,"TestLoadImage: error",!1,e),r.onabort=ss(eu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ss(eu,n,r,"TestLoadImage: timeout",!1,e),Qi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Bo(2);t.v=0,t.f&&t.f.ra(e),Pu(t),bu(t)}function Pu(t){t.v=0,t.I=-1,t.f&&(0==Ja(t.b).length&&0==t.g.length||(t.b.c.length=0,fs(t.g),t.g.length=0),t.f.qa())}function Ru(t,e,n){var r=function(t){return t instanceof _a?Ea(t):new _a(t,void 0)}(n);if(""!=r.c)e&&Oa(r,e+"."+r.c),Ta(r,r.h);else{var i=Qi.location;r=function(t,e,n,r){var i=new _a(null,void 0);return t&&Sa(i,t),e&&Oa(i,e),n&&Ta(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ws(t.V,function(t,e){Ca(r,e,t)}),n=t.na,(e=t.A)&&n&&Ca(r,e,n),Ca(r,"VER",t.ha),Su(t,r),r}function Du(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ru(t.Na)).F=t.C,e}function Lu(){}function Fu(){if(xs&&!(10<=Number(Us)))throw Error("Environmental error: no available transport.")}function Mu(t,e){fo.call(this),this.a=new gu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ds(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ds(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Hu(this)}function Uu(t){Yo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Vu(){ta.call(this),this.status=1}function Hu(t){this.a=t}($i=ru.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Jo),this.a.onreadystatechange=is(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void uu(this,s)}t=n||"";var i=new ya(this.headers);r&&ga(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=au,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Qi.FormData&&t instanceof Qi.FormData,!(0<=cs(ou,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{fu(this),0<this.o&&((this.D=function(t){return xs&&Ms(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=is(this.xa,this)):this.m=jo(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){uu(this,s)}},$i.xa=function(){void 0!==Wi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,po(this,"timeout"),this.abort(8))},$i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,po(this,"complete"),po(this,"abort"),hu(this))},$i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),hu(this,!0)),ru.X.G.call(this)},$i.za=function(){this.j||(this.A||this.l||this.g?lu(this):this.Ua())},$i.Ua=function(){lu(this)},$i.W=function(){try{return 2<du(this)?this.a.status:-1}catch(Is){return-1}},$i.$=function(){try{return this.a?this.a.responseText:""}catch(Is){return""}},$i.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nu(e)}},$i.ua=function(){return this.h},$i.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},($i=gu.prototype).ha=8,$i.v=1,$i.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new na(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ss(r=_s(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ou(this,n,e),Ca(i=Ea(this.B),"RID",t),Ca(i,"CVER",22),this.A&&Ca(i,"X-HTTP-Session-Id",this.A),Su(this,i),this.i&&r&&pu(i,this.i,r),Wa(this.b,n),this.Ia&&Ca(i,"TYPE","init"),this.da?(Ca(i,"$req",e),Ca(i,"SID","null"),n.U=!0,oa(n,i,null)):oa(n,i,e),this.v=2}}else 3==this.v&&(t?Eu(this,t):0==this.g.length||Ka(this.b)||Eu(this))},$i.Aa=function(){if(this.j=null,xu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ko(is(this.Ta,this),t)}},$i.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Bo(10),vu(this),xu(this))},$i.Sa=function(){null!=this.m&&(this.m=null,vu(this),Iu(this),Bo(19))},$i.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Bo(2)):(this.c.info("Failed to ping google.com"),Bo(1))},($i=Lu.prototype).ta=function(){},$i.sa=function(){},$i.ra=function(){},$i.qa=function(){},$i.Ja=function(){},Fu.prototype.a=function(t,e){return new Mu(t,e)},as(Mu,fo),Mu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Bo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ru(t,null,t.fa),_u(t)},Mu.prototype.close=function(){yu(this.a)},Mu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,wu(this.a,e)}else this.l?((e={}).__data__=go(t),wu(this.a,e)):wu(this.a,t)},Mu.prototype.G=function(){this.a.f=null,delete this.f,yu(this.a),delete this.a,Mu.X.G.call(this)},as(Uu,Yo),as(Vu,ta),as(Hu,Lu),Hu.prototype.ta=function(){po(this.a,"a")},Hu.prototype.sa=function(t){po(this.a,new Uu(t))},Hu.prototype.ra=function(t){po(this.a,new Vu(t))},Hu.prototype.qa=function(){po(this.a,"b")},Fu.prototype.createWebChannel=Fu.prototype.a,Mu.prototype.send=Mu.prototype.h,Mu.prototype.open=Mu.prototype.g,Mu.prototype.close=Mu.prototype.close,$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,Xo.COMPLETE="complete",Qo.EventType=Zo,Zo.OPEN="a",Zo.CLOSE="b",Zo.ERROR="c",Zo.MESSAGE="d",fo.prototype.listen=fo.prototype.va,ru.prototype.listenOnce=ru.prototype.wa,ru.prototype.getLastError=ru.prototype.Qa,ru.prototype.getLastErrorCode=ru.prototype.ua,ru.prototype.getStatus=ru.prototype.W,ru.prototype.getResponseJson=ru.prototype.Pa,ru.prototype.getResponseText=ru.prototype.$,ru.prototype.send=ru.prototype.ba;var qu=$o,zu=Xo,Bu=Mo,Gu=Qo,Ku=ru,$u=n("30Go"),Xu=new zi.b("@firebase/firestore");function Wu(){return Xu.logLevel}function Qu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xu.logLevel<=zi.a.DEBUG){var r=e.map(Yu);Xu.debug.apply(Xu,Object($u.g)(["Firestore (8.2.1): "+t],r))}}function Ju(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xu.logLevel<=zi.a.ERROR){var r=e.map(Yu);Xu.error.apply(Xu,Object($u.g)(["Firestore (8.2.1): "+t],r))}}function Zu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xu.logLevel<=zi.a.WARN){var r=e.map(Yu);Xu.warn.apply(Xu,Object($u.g)(["Firestore (8.2.1): "+t],r))}}function Yu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(ab){return t}}function tc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw Ju(e),new Error(e)}function ec(t,e){t||tc()}function nc(t,e){return t}function rc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ic=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=rc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function sc(t,e){return t<e?-1:t>e?1:0}function oc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ac(t){return t+"\0"}var uc=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return sc(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();uc.h=new uc("");var cc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object($u.c)(e,t),e}(Error),hc=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(uc.fromBase64String(e))}catch(e){throw new lc(cc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(uc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),fc=function(t){this._=t};function dc(){if("undefined"==typeof Uint8Array)throw new lc(cc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function pc(){if("undefined"==typeof atob)throw new lc(cc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.fromBase64String=function(t){return pc(),new e(hc.fromBase64String(t))},e.fromUint8Array=function(t){return dc(),new e(hc.fromUint8Array(t))},e.prototype.toBase64=function(){return pc(),this._.toBase64()},e.prototype.toUint8Array=function(){return dc(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(fc),gc=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},yc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),vc=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();vc.UNAUTHENTICATED=new vc(null),vc.P=new vc("google-credentials-uid"),vc.g=new vc("first-party-uid");var bc=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},wc=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(vc.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),_c=function(){function t(t){var e=this;this.C=null,this.currentUser=vc.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(Qu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ec("string"==typeof n.accessToken),new bc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return ec(null===t||"string"==typeof t),new vc(t)},t}(),Ec=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=vc.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Sc=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Ec(this.k,this.M))},t.prototype.S=function(t){t(vc.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Oc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Oc.U=-1;var Tc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lc(cc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lc(cc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new lc(cc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lc(cc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?sc(this.nanoseconds,t.nanoseconds):sc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ic=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Tc(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Cc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&tc(),void 0===n?n=t.length-e:n>t.length-e&&tc(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),xc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new lc(cc.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Cc),jc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return jc.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new lc(cc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new lc(cc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new lc(cc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new lc(cc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Cc),Ac=function(){function t(t){this.path=t}return t.ft=function(e){return new t(xc.ct(e))},t.dt=function(e){return new t(xc.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===xc.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return xc.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new xc(e.slice()))},t}();function Nc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Dc=function(){function t(t){this.fields=t,t.sort(kc.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return oc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Lc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fc(t){if(ec(!!t),"string"==typeof t){var e=0,n=Lc.exec(t);if(ec(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mc(t.seconds),nanos:Mc(t.nanos)}}function Mc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Uc(t){return"string"==typeof t?uc.fromBase64String(t):uc.fromUint8Array(t)}function Vc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hc(t){var e=t.mapValue.fields.__previous_value__;return Vc(e)?Hc(e):e}function qc(t){var e=Fc(t.mapValue.fields.__local_write_time__.timestampValue);return new Tc(e.seconds,e.nanos)}function zc(t){return null==t}function Bc(t){return 0===t&&1/t==-1/0}function Gc(t){return"number"==typeof t&&Number.isInteger(t)&&!Bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Kc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vc(t)?4:10:tc()}function $c(t,e){var n=Kc(t);if(n!==Kc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Fc(t.timestampValue),r=Fc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Uc(t.bytesValue).isEqual(Uc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Mc(t.geoPointValue.latitude)===Mc(e.geoPointValue.latitude)&&Mc(t.geoPointValue.longitude)===Mc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Mc(t.integerValue)===Mc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Mc(t.doubleValue),r=Mc(e.doubleValue);return n===r?Bc(n)===Bc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],$c);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Nc(n)!==Nc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$c(n[i],r[i])))return!1;return!0}(t,e);default:return tc()}}function Xc(t,e){return void 0!==(t.values||[]).find(function(t){return $c(t,e)})}function Wc(t,e){var n=Kc(t),r=Kc(e);if(n!==r)return sc(n,r);switch(n){case 0:return 0;case 1:return sc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Mc(t.integerValue||t.doubleValue),r=Mc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Qc(t.timestampValue,e.timestampValue);case 4:return Qc(qc(t),qc(e));case 5:return sc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Uc(t),r=Uc(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=sc(n[i],r[i]);if(0!==s)return s}return sc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=sc(Mc(t.latitude),Mc(e.latitude));return 0!==n?n:sc(Mc(t.longitude),Mc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Wc(n[i],r[i]);if(s)return s}return sc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=sc(r[o],s[o]);if(0!==a)return a;var u=Wc(n[r[o]],i[s[o]]);if(0!==u)return u}return sc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw tc()}}function Qc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return sc(t,e);var n=Fc(t),r=Fc(e),i=sc(n.seconds,r.seconds);return 0!==i?i:sc(n.nanos,r.nanos)}function Jc(t){return Zc(t)}function Zc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Fc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Uc(t.bytesValue).toBase64():"referenceValue"in t?Ac.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Zc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Zc(t.fields[s])}return e+"}"}(t.mapValue):tc();var e}function Yc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function tl(t){return!!t&&"integerValue"in t}function el(t){return!!t&&"arrayValue"in t}function nl(t){return!!t&&"nullValue"in t}function rl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function il(t){return!!t&&"mapValue"in t}var sl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!il(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return $c(this.proto,t.proto)},t}(),ol=function(){function t(t){void 0===t&&(t=sl.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Kc(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(kc.at(),this.Rt);return null!=t?new sl(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=il(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function al(t){var e=[];return Pc(t.fields||{},function(t,n){var r=new kc([t]);if(il(n)){var i=al(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Dc(e)}var ul=function(t,e){this.key=t,this.version=e},cl=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object($u.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(ul),ll=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object($u.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ul),hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ul),fl=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function dl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new fl(t,e,n,r,i,s,o)}function pl(t){var e=nc(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+Jc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Cl(e.startAt)),e.endAt&&(n+="|ub:",n+=Cl(e.endAt)),e.St=n}return e.St}function ml(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!jl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!$c(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Al(t.startAt,e.startAt)&&Al(t.endAt,e.endAt)}function gl(t){return Ac.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object($u.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new vl(t,n,r):"array-contains"===n?new El(t,r):"in"===n?new Sl(t,r):"not-in"===n?new Ol(t,r):"array-contains-any"===n?new Tl(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new bl(t,n):new wl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Wc(e,this.value)):null!==e&&Kc(this.value)===Kc(e)&&this.Ct(Wc(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return tc()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ac.dt(r.referenceValue),i}return Object($u.c)(e,t),e.prototype.matches=function(t){var e=Ac.J(t.key,this.key);return this.Ct(e)},e}(yl),bl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=_l(0,n),r}return Object($u.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(yl),wl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=_l(0,n),r}return Object($u.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(yl);function _l(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ac.dt(t.referenceValue)})}var El=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object($u.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return el(e)&&Xc(e.arrayValue,this.value)},e}(yl),Sl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object($u.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Xc(this.value.arrayValue,e)},e}(yl),Ol=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object($u.c)(e,t),e.prototype.matches=function(t){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Xc(this.value.arrayValue,e)},e}(yl),Tl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object($u.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!el(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Xc(e.value.arrayValue,t)})},e}(yl),Il=function(t,e){this.position=t,this.before=e};function Cl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Jc(t)}).join(",")}var xl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function jl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function kl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?Ac.J(Ac.dt(o.referenceValue),n.key):Wc(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Al(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$c(t.position[n],e.position[n]))return!1;return!0}var Nl=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ft=null,this.Ot=null};function Pl(t,e,n,r,i,s,o,a){return new Nl(t,e,n,r,i,s,o,a)}function Rl(t){return new Nl(t)}function Dl(t){return!zc(t.limit)&&"F"===t.limitType}function Ll(t){return!zc(t.limit)&&"L"===t.limitType}function Fl(t){return t.Nt.length>0?t.Nt[0].field:null}function Ml(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Ul(t){return null!==t.collectionGroup}function Vl(t){var e=nc(t);if(null===e.Ft){e.Ft=[];var n=Ml(e),r=Fl(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new xl(n)),e.Ft.push(new xl(kc.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new xl(kc.lt(),u))}}}return e.Ft}function Hl(t){var e=nc(t);if(!e.Ot)if("F"===e.limitType)e.Ot=dl(e.path,e.collectionGroup,Vl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Vl(e);r<i.length;r++){var s=i[r];n.push(new xl(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Il(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Il(e.startAt.position,!e.startAt.before):null;e.Ot=dl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ot}function ql(t,e,n){return new Nl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zl(t,e){return ml(Hl(t),Hl(e))&&t.limitType===e.limitType}function Bl(t){return pl(Hl(t))+"|lt:"+t.limitType}function Gl(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+Jc(e.value);var e}).join(", ")+"]"),zc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Cl(t.startAt)),t.endAt&&(e+=", endAt: "+Cl(t.endAt)),"Target("+e+")"}(Hl(t))+"; limitType="+t.limitType+")"}function Kl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Ac.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!kl(t.startAt,Vl(t),e)||t.endAt&&kl(t.endAt,Vl(t),e))}(t,e)}function $l(t){return function(e,n){for(var r=!1,i=0,s=Vl(t);i<s.length;i++){var o=s[i],a=Xl(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function Xl(t,e,n){var r=t.field.ht()?Ac.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Wc(r,i):tc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tc()}}var Wl=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Ic.min()),void 0===s&&(s=Ic.min()),void 0===o&&(o=uc.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Ql(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function Jl(t){return{integerValue:""+t}}function Zl(t,e){return Gc(e)?Jl(e):Ql(t,e)}var Yl=function(){this.Ut=void 0};function th(t,e,n){return t instanceof rh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ih?sh(t,e):t instanceof oh?ah(t,e):function(t,e){var n=nh(t,e),r=ch(n)+ch(t.Qt);return tl(n)&&tl(t.Qt)?Jl(r):Ql(t.Kt,r)}(t,e)}function eh(t,e,n){return t instanceof ih?sh(t,e):t instanceof oh?ah(t,e):n}function nh(t,e){return t instanceof uh?tl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e}(Yl),ih=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object($u.c)(e,t),e}(Yl);function sh(t,e){for(var n=lh(e),r=function(t){n.some(function(e){return $c(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var oh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object($u.c)(e,t),e}(Yl);function ah(t,e){for(var n=lh(e),r=function(t){n=n.filter(function(e){return!$c(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var uh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object($u.c)(e,t),e}(Yl);function ch(t){return Mc(t.integerValue||t.doubleValue)}function lh(t){return el(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hh=function(t,e){this.field=t,this.transform=e},fh=function(t,e){this.version=t,this.transformResults=e},dh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ph(t,e){return void 0!==t.updateTime?e instanceof cl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof cl}var mh=function(){};function gh(t,e,n){return t instanceof _h?function(t,e,n){var r=t.value;if(n.transformResults){var i=Oh(t.fieldTransforms,e,n.transformResults);r=Ih(t.fieldTransforms,r,i)}return new cl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Eh?function(t,e,n){if(!ph(t.Gt,e))return new hl(t.key,n.version);var r=Sh(t,e,n.transformResults?Oh(t.fieldTransforms,e,n.transformResults):[]);return new cl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ll(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function yh(t,e,n,r){return t instanceof _h?function(t,e,n,r){if(!ph(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var s=Th(t.fieldTransforms,n,e,r);i=Ih(t.fieldTransforms,i,s)}var o=wh(e);return new cl(t.key,o,i,{bt:!0})}(t,e,r,n):t instanceof Eh?function(t,e,n,r){if(!ph(t.Gt,e))return e;var i=wh(e),s=Sh(t,e,Th(t.fieldTransforms,n,e,r));return new cl(t.key,i,s,{bt:!0})}(t,e,r,n):function(t,e){return ph(t.Gt,e)?new ll(t.key,Ic.min()):e}(t,e)}function vh(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof cl?e.field(s.field):void 0,a=nh(s.transform,o||null);null!=a&&(n=null==n?(new ol).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function bh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&oc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ih&&e instanceof ih||t instanceof oh&&e instanceof oh?oc(t.elements,e.elements,$c):t instanceof uh&&e instanceof uh?$c(t.Qt,e.Qt):t instanceof rh&&e instanceof rh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function wh(t){return t instanceof cl?t.version:Ic.min()}var _h=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object($u.c)(e,t),e}(mh),Eh=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object($u.c)(e,t),e}(mh);function Sh(t,e,n){var r;return r=function(t,e){var n=new ol(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof cl?e.data():sl.empty()),Ih(t.fieldTransforms,r,n)}function Oh(t,e,n){var r=[];ec(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof cl&&(a=e.field(s.field)),r.push(eh(o,a,n[i]))}return r}function Th(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof cl&&(c=n.field(a.field)),null===c&&r instanceof cl&&(c=r.field(a.field)),i.push(th(u,c,e))}return i}function Ih(t,e,n){for(var r=new ol(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Ch,xh,jh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object($u.c)(e,t),e}(mh),kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object($u.c)(e,t),e}(mh),Ah=function(t){this.count=t};function Nh(t){switch(t){case cc.OK:return tc();case cc.CANCELLED:case cc.UNKNOWN:case cc.DEADLINE_EXCEEDED:case cc.RESOURCE_EXHAUSTED:case cc.INTERNAL:case cc.UNAVAILABLE:case cc.UNAUTHENTICATED:return!1;case cc.INVALID_ARGUMENT:case cc.NOT_FOUND:case cc.ALREADY_EXISTS:case cc.PERMISSION_DENIED:case cc.FAILED_PRECONDITION:case cc.ABORTED:case cc.OUT_OF_RANGE:case cc.UNIMPLEMENTED:case cc.DATA_LOSS:return!0;default:return tc()}}function Ph(t){if(void 0===t)return Ju("GRPC error has no .code"),cc.UNKNOWN;switch(t){case Ch.OK:return cc.OK;case Ch.CANCELLED:return cc.CANCELLED;case Ch.UNKNOWN:return cc.UNKNOWN;case Ch.DEADLINE_EXCEEDED:return cc.DEADLINE_EXCEEDED;case Ch.RESOURCE_EXHAUSTED:return cc.RESOURCE_EXHAUSTED;case Ch.INTERNAL:return cc.INTERNAL;case Ch.UNAVAILABLE:return cc.UNAVAILABLE;case Ch.UNAUTHENTICATED:return cc.UNAUTHENTICATED;case Ch.INVALID_ARGUMENT:return cc.INVALID_ARGUMENT;case Ch.NOT_FOUND:return cc.NOT_FOUND;case Ch.ALREADY_EXISTS:return cc.ALREADY_EXISTS;case Ch.PERMISSION_DENIED:return cc.PERMISSION_DENIED;case Ch.FAILED_PRECONDITION:return cc.FAILED_PRECONDITION;case Ch.ABORTED:return cc.ABORTED;case Ch.OUT_OF_RANGE:return cc.OUT_OF_RANGE;case Ch.UNIMPLEMENTED:return cc.UNIMPLEMENTED;case Ch.DATA_LOSS:return cc.DATA_LOSS;default:return tc()}}(xh=Ch||(Ch={}))[xh.OK=0]="OK",xh[xh.CANCELLED=1]="CANCELLED",xh[xh.UNKNOWN=2]="UNKNOWN",xh[xh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xh[xh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xh[xh.NOT_FOUND=5]="NOT_FOUND",xh[xh.ALREADY_EXISTS=6]="ALREADY_EXISTS",xh[xh.PERMISSION_DENIED=7]="PERMISSION_DENIED",xh[xh.UNAUTHENTICATED=16]="UNAUTHENTICATED",xh[xh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xh[xh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xh[xh.ABORTED=10]="ABORTED",xh[xh.OUT_OF_RANGE=11]="OUT_OF_RANGE",xh[xh.UNIMPLEMENTED=12]="UNIMPLEMENTED",xh[xh.INTERNAL=13]="INTERNAL",xh[xh.UNAVAILABLE=14]="UNAVAILABLE",xh[xh.DATA_LOSS=15]="DATA_LOSS";var Rh=function(){function t(t,e){this.J=t,this.root=e||Lh.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Lh.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Lh.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Dh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Dh(this.root,t,this.J,!1)},t.prototype.se=function(){return new Dh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Dh(this.root,t,this.J,!0)},t}(),Dh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Lh=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw tc();if(this.right._e())throw tc();var t=this.left.me();if(t!==this.right.me())throw tc();return t+(this._e()?0:1)},t}();Lh.EMPTY=null,Lh.RED=!0,Lh.Jt=!1,Lh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw tc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw tc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw tc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw tc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw tc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Lh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Fh=function(){function t(t){this.J=t,this.data=new Rh(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Mh(this.data.ee())},t.prototype.ne=function(t){return new Mh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Mh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Uh=new Rh(Ac.J);function Vh(){return Uh}function Hh(){return Vh()}var qh=new Rh(Ac.J);function zh(){return qh}var Bh=new Rh(Ac.J);function Gh(){return Bh}var Kh=new Fh(Ac.J);function $h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Kh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Xh=new Fh(sc);function Wh(){return Xh}var Qh=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Ac.J(e.key,n.key)}:function(t,e){return Ac.J(t.key,e.key)},this.Ve=zh(),this.pe=new Rh(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Jh=function(){function t(){this.ve=new Rh(Ac.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):tc():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Zh=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Fe=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Qh.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&zl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Yh=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,tf.Be(e,n)),new t(Ic.min(),r,Wh(),Vh(),$h())},t}(),tf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(uc.h,n,$h(),$h(),$h())},t}(),ef=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},nf=function(t,e){this.targetId=t,this.Ge=e},rf=function(t,e,n,r){void 0===n&&(n=uc.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},sf=function(){function t(){this.ze=0,this.He=uf(),this.Je=uc.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=$h(),e=$h(),n=$h();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:tc()}}),new tf(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=uf()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),of=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Vh(),this.fn=af(),this.dn=new Fh(sc)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof cl?this.En(r,t.je):t.je instanceof ll&&this.Tn(r,t.key,t.je)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:tc()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(gl(i))if(0===n){var s=new Ac(i.path);this.Tn(e,s,new ll(s,Ic.min()))}else ec(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var s=e.gn(i);if(s){if(r.qe&&gl(s.target)){var o=new Ac(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new ll(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=$h();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Yh(t,n,this.dn,this._n,r);return this._n=Vh(),this.fn=af(),this.dn=new Fh(sc),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new sf,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Fh(sc),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Qu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new sf),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function af(){return new Rh(Ac.J)}function uf(){return new Rh(Ac.J)}var cf={asc:"ASCENDING",desc:"DESCENDING"},lf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hf=function(t,e){this.T=t,this.qt=e};function ff(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function df(t,e){return t.qt?e.toBase64():e.toUint8Array()}function pf(t,e){return ff(t,e.G())}function mf(t){return ec(!!t),Ic.W(function(t){var e=Fc(t);return new Tc(e.seconds,e.nanos)}(t))}function gf(t,e){return function(t){return new xc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function yf(t){var e=xc.ct(t);return ec(Hf(e)),e}function vf(t,e){return gf(t.T,e.path)}function bf(t,e){var n=yf(e);if(n.get(1)!==t.T.projectId)throw new lc(cc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new lc(cc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Ac(Sf(n))}function wf(t,e){return gf(t.T,e)}function _f(t){var e=yf(t);return 4===e.length?xc.at():Sf(e)}function Ef(t){return new xc(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Sf(t){return ec(t.length>4&&"documents"===t.get(4)),t.X(5)}function Of(t,e,n){return{name:vf(t,e),fields:n.proto.mapValue.fields}}function Tf(t,e,n){var r=bf(t,e.name),i=mf(e.updateTime),s=new sl({mapValue:{fields:e.fields}});return new cl(r,i,s,{hasCommittedMutations:!!n})}function If(t,e){var n;if(e instanceof _h)n={update:Of(t,e.key,e.value)};else if(e instanceof jh)n={delete:vf(t,e.key)};else if(e instanceof Eh)n={update:Of(t,e.key,e.data),updateMask:Vf(e.zt)};else{if(!(e instanceof kh))return tc();n={verify:vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof rh)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ih)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof oh)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof uh)return{fieldPath:e.field.ot(),increment:n.Qt};throw tc()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:pf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:tc()}(t,e.Gt)),n}function Cf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dh.updateTime(mf(t.updateTime)):void 0!==t.exists?dh.exists(t.exists):dh.Wt()}(e.currentDocument):dh.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ec("REQUEST_TIME"===e.setToServerValue),n=new rh):"appendMissingElements"in e?n=new ih(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new oh(e.removeAllFromArray.values||[]):"increment"in e?n=new uh(t,e.increment):tc();var r=kc._t(e.fieldPath);return new hh(r,n)}(t,e)}):[];if(e.update){var i=bf(t,e.update.name),s=new sl({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Dc((t.fieldPaths||[]).map(function(t){return kc._t(t)}))}(e.updateMask);return new Eh(i,s,o,n,r)}return new _h(i,s,n,r)}if(e.delete){var a=bf(t,e.delete);return new jh(a,n)}if(e.verify){var u=bf(t,e.verify);return new kh(u,n)}return tc()}function xf(t,e){return{documents:[wf(t,e.path)]}}function jf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=wf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wf(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(rl(t.value))return{unaryFilter:{field:Lf(t.field),op:"IS_NAN"}};if(nl(t.value))return{unaryFilter:{field:Lf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rl(t.value))return{unaryFilter:{field:Lf(t.field),op:"IS_NOT_NAN"}};if(nl(t.value))return{unaryFilter:{field:Lf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lf(t.field),op:Df(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Lf(t.field),direction:Rf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||zc(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Nf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Nf(e.endAt)),n}function kf(t){var e=_f(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ec(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Af(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new xl(Ff(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return zc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Pf(n.startAt));var l=null;return n.endAt&&(l=Pf(n.endAt)),Pl(e,i,a,o,u,"F",c,l)}function Af(t){return t?void 0!==t.unaryFilter?[Uf(t)]:void 0!==t.fieldFilter?[Mf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Af(t)}).reduce(function(t,e){return t.concat(e)}):tc():[]}function Nf(t){return{before:t.before,values:t.position}}function Pf(t){return new Il(t.values||[],!!t.before)}function Rf(t){return cf[t]}function Df(t){return lf[t]}function Lf(t){return{fieldPath:t.ot()}}function Ff(t){return kc._t(t.fieldPath)}function Mf(t){return yl.create(Ff(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return tc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Uf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ff(t.unaryFilter.field);return yl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ff(t.unaryFilter.field);return yl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ff(t.unaryFilter.field);return yl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ff(t.unaryFilter.field);return yl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return tc()}}function Vf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function Hf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var qf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},zf=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&tc(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),Bf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new qf,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new $f(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Zf(e.target.error);n.qn.reject(new $f(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new $f(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Qu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Wf(e)},t}(),Gf=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Bi.j)())&&Ju("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Qu("SimpleDb","Removing database:",t),Qf(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(Bi.j)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object($u.b)(this,void 0,void 0,function(){var e,n=this;return Object($u.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Qu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new $f(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new lc(cc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new $f(t,n))},i.onupgradeneeded=function(t){Qu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Qu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object($u.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object($u.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object($u.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Bf.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),zf.reject(t)}).Mn(),u={},o.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Qu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Kf=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Qf(this.ts.delete())},t}(),$f=function(t){function e(e,n){var r=this;return(r=t.call(this,cc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object($u.c)(e,t),e}(lc);function Xf(t){return"IndexedDbTransactionError"===t.name}var Wf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Qu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Qu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Qf(n)},t.prototype.add=function(t){return Qu("SimpleDb","ADD",this.store.name,t,t),Qf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Qf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Qu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Qu("SimpleDb","DELETE",this.store.name,t),Qf(this.store.delete(t))},t.prototype.count=function(){return Qu("SimpleDb","COUNT",this.store.name),Qf(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){Qu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new zf(function(n,r){e.onerror=function(t){var e=Zf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new zf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Kf(i),o=e(i.primaryKey,i.value,s);if(o instanceof zf){var a=o.catch(function(t){return s.done(),zf.reject(t)});n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}}).next(function(){return zf.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Qf(t){return new zf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Zf(t.target.error);n(e)}})}var Jf=!1;function Zf(t){var e=Gf.Kn(Object(Bi.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new lc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Jf||(Jf=!0,setTimeout(function(){throw r},0)),r}}return t}var Yf=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new qf,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new lc(cc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function td(t,e){if(Ju("AsyncQueue",e+": "+t),Xf(t))return new lc(cc.UNAVAILABLE,e+": "+t);throw t}var ed=function(t,e){this.progress=t,this.gs=e},nd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rd=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},t}();function id(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=od(e)),e=sd(t.get(n),e);return od(e)}function sd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function od(t){return t+"\x01\x01"}function ad(t){var e=t.length;if(ec(e>=2),2===e)return ec("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),xc.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&tc(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:tc()}s=o+2}return new xc(r)}var ud=function(t,e){this.seconds=t,this.nanoseconds=e},cd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};cd.store="owner",cd.key="owner";var ld=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ld.store="mutationQueues",ld.keyPath="userId";var hd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};hd.store="mutations",hd.keyPath="batchId",hd.userMutationsIndex="userMutationsIndex",hd.userMutationsKeyPath=["userId","batchId"];var fd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,id(e)]},t.key=function(t,e,n){return[t,id(e),n]},t}();fd.store="documentMutations",fd.PLACEHOLDER=new fd;var dd=function(t,e){this.path=t,this.readTime=e},pd=function(t,e){this.path=t,this.version=e},md=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};md.store="remoteDocuments",md.readTimeIndex="readTimeIndex",md.readTimeIndexPath="readTime",md.collectionReadTimeIndex="collectionReadTimeIndex",md.collectionReadTimeIndexPath=["parentPath","readTime"];var gd=function(t){this.byteSize=t};gd.store="remoteDocumentGlobal",gd.key="remoteDocumentGlobalKey";var yd=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};yd.store="targets",yd.keyPath="targetId",yd.queryTargetsIndexName="queryTargetsIndex",yd.queryTargetsKeyPath=["canonicalId","targetId"];var vd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};vd.store="targetDocuments",vd.keyPath=["targetId","path"],vd.documentTargetsIndex="documentTargetsIndex",vd.documentTargetsKeyPath=["path","targetId"];var bd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};bd.key="targetGlobalKey",bd.store="targetGlobal";var wd=function(t,e){this.collectionId=t,this.parent=e};wd.store="collectionParents",wd.keyPath=["collectionId","parent"];var _d=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_d.store="clientMetadata",_d.keyPath="clientId";var Ed=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ed.store="bundles",Ed.keyPath="bundleId";var Sd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Sd.store="namedQueries",Sd.keyPath="name";var Od=Object($u.g)(Object($u.g)(Object($u.g)(Object($u.g)([ld.store,hd.store,fd.store,md.store,yd.store,cd.store,bd.store,vd.store],[_d.store]),[gd.store]),[wd.store]),[Ed.store,Sd.store]),Td=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object($u.c)(e,t),e}(rd);function Id(t,e){var n=nc(t);return Gf.Hn(n.vs,e)}var Cd=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=gh(s,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=yh(i,e,e,this.Ds))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=yh(u,e,s,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},$h())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&oc(this.mutations,t.mutations,function(t,e){return bh(t,e)})&&oc(this.baseMutations,t.baseMutations,function(t,e){return bh(t,e)})},t}(),xd=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){ec(e.mutations.length===r.length);for(var i=Gh(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),jd=function(t){this.Ms=t};function kd(t,e){if(e.document)return Tf(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ac.Tt(e.noDocument.path),r=Dd(e.noDocument.readTime);return new ll(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ac.Tt(e.unknownDocument.path);return r=Dd(e.unknownDocument.version),new hl(i,r)}return tc()}function Ad(t,e,n){var r=Nd(n),i=e.key.path.Z().rt();if(e instanceof cl){var s=function(t,e){return{name:vf(t,e.key),fields:e.vt().mapValue.fields,updateTime:ff(t,e.version.G())}}(t.Ms,e),o=e.hasCommittedMutations;return new md(null,null,s,o,r,i)}if(e instanceof ll){var a=e.key.path.rt(),u=Rd(e.version);return o=e.hasCommittedMutations,new md(null,new dd(a,u),null,o,r,i)}if(e instanceof hl){var c=e.key.path.rt(),l=Rd(e.version);return new md(new pd(c,l),null,null,!0,r,i)}return tc()}function Nd(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Pd(t){var e=new Tc(t[0],t[1]);return Ic.W(e)}function Rd(t){var e=t.G();return new ud(e.seconds,e.nanoseconds)}function Dd(t){var e=new Tc(t.seconds,t.nanoseconds);return Ic.W(e)}function Ld(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Cf(t.Ms,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return Cf(t.Ms,e)}),o=Tc.fromMillis(e.localWriteTimeMs);return new Cd(e.batchId,o,n,s)}function Fd(t){var e,n,r=Dd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Dd(t.lastLimboFreeSnapshotVersion):Ic.min();return void 0!==t.query.documents?(ec(1===(n=t.query).documents.length),e=Hl(Rl(_f(n.documents[0])))):e=function(t){return Hl(kf(t))}(t.query),new Wl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,uc.fromBase64String(t.resumeToken))}function Md(t,e){var n,r=Rd(e.Mt),i=Rd(e.lastLimboFreeSnapshotVersion);n=gl(e.target)?xf(t.Ms,e.target):jf(t.Ms,e.target);var s=e.resumeToken.toBase64();return new yd(e.targetId,pl(e.target),r,s,e.sequenceNumber,i,n)}function Ud(t){var e=kf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ql(e,e.limit,"L"):e}var Vd=function(){function t(){}return t.prototype.Ls=function(t,e){return Hd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Dd(e.createTime),version:e.version};var e})},t.prototype.$s=function(t,e){return Hd(t).put({bundleId:(n=e).id,createTime:Rd(mf(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return qd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ud(e.bundledQuery),readTime:Dd(e.readTime)};var e})},t.prototype.qs=function(t,e){return qd(t).put(function(t){return{name:t.name,readTime:Rd(mf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Hd(t){return Id(t,Ed.store)}function qd(t){return Id(t,Sd.store)}var zd=function(){function t(){this.Us=new Bd}return t.prototype.Qs=function(t,e){return this.Us.add(e),zf.resolve()},t.prototype.Ks=function(t,e){return zf.resolve(this.Us.getEntries(e))},t}(),Bd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Fh(xc.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Fh(xc.J)).rt()},t}(),Gd=function(){function t(){this.Ws=new Bd}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});var s={collectionId:r,parent:id(i)};return Kd(t).put(s)}return zf.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ac(e),""],!1,!0);return Kd(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(ad(s.parent))}return n})},t}();function Kd(t){return Id(t,wd.store)}var $d={js:!1,Gs:0,zs:0,Hs:0},Xd=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function Wd(t){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(e){if(t.code!==cc.FAILED_PRECONDITION||t.message!==nd)throw t;return Qu("LocalStore","Unexpectedly lost primary lease"),[2]})})}Xd.ti=10,Xd.ei=1e3,Xd.ni=new Xd(41943040,Xd.ti,Xd.ei),Xd.si=new Xd(-1,0,0);var Qd=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ri(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Pc(this.oi,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.nt=function(){return Rc(this.oi)},t}(),Jd=function(){function t(){this.ci=new Qd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Ic.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?zf.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function Zd(t,e,n){var r=t.store(hd.store),i=t.store(fd.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){ec(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=fd.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return zf.$n(s).next(function(){return c})}function Yd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw tc();e=t.noDocument}return JSON.stringify(e).length}var tp=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return ec(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return np(t).ls({index:hd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.yi=function(t,e,n,r){var i=this,s=rp(t),o=np(t);return o.add({}).next(function(a){ec("number"==typeof a);for(var u=new Cd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return If(t.Ms,e)}),i=n.mutations.map(function(e){return If(t.Ms,e)});return new hd(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Fh(function(t,e){return sc(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],m=fd.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(c)),l.push(s.put(m,fd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ii.Qs(t,e))}),t.ps(function(){i.Ai[a]=u.keys()}),zf.$n(l).next(function(){return u})})},t.prototype.gi=function(t,e){var n=this;return np(t).get(e).next(function(t){return t?(ec(t.userId===n.userId),Ld(n.Kt,t)):null})},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?zf.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null})},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return np(t).ls({index:hd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ec(e.batchId>=r),s=Ld(n.Kt,e)),i.done()}).next(function(){return s})},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return np(t).ls({index:hd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return np(t).os(hd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Ld(e.Kt,t)})})},t.prototype.Si=function(t,e){var n=this,r=fd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return rp(t).ls({range:i},function(r,i,o){var a=r[0],u=r[2],c=ad(r[1]);if(a===n.userId&&e.path.isEqual(c))return np(t).get(u).next(function(t){if(!t)throw tc();ec(t.userId===n.userId),s.push(Ld(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Di=function(t,e){var n=this,r=new Fh(sc),i=[];return e.forEach(function(e){var s=fd.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=rp(t).ls({range:o},function(t,i,s){var o=t[0],a=t[2],u=ad(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),zf.$n(i).next(function(){return n.Ci(t,r)})},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,s=fd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Fh(sc);return rp(t).ls({range:o},function(t,e,s){var o=t[0],u=t[2],c=ad(t[1]);o===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Ci(t,a)})},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(np(t).get(e).next(function(t){if(null===t)throw tc();ec(t.userId===n.userId),r.push(Ld(n.Kt,t))}))}),zf.$n(i).next(function(){return r})},t.prototype.Ni=function(t,e){var n=this;return Zd(t.vs,this.userId,e).next(function(r){return t.ps(function(){n.Fi(e.batchId)}),zf.forEach(r,function(e){return n.mi.Oi(t,e)})})},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next(function(n){if(!n)return zf.resolve();var r=IDBKeyRange.lowerBound(fd.prefixForUser(e.userId)),i=[];return rp(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var s=ad(t[1]);i.push(s)}else r.done()}).next(function(){ec(0===i.length)})})},t.prototype.Mi=function(t,e){return ep(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return ip(t).get(this.userId).next(function(t){return t||new ld(e.userId,-1,"")})},t}();function ep(t,e,n){var r=fd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return rp(t).ls({range:s,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function np(t){return Id(t,hd.store)}function rp(t){return Id(t,fd.store)}function ip(t){return Id(t,ld.store)}var sp=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),op=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next(function(n){var r=new sp(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wi=function(t){return this.Qi(t).next(function(t){return Ic.W(new Tc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)})},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next(function(){return n.Qi(t).next(function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)})})},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next(function(){return ap(t).delete(e.targetId)}).next(function(){return n.Qi(t)}).next(function(e){return ec(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)})},t.prototype.tr=function(t,e,n){var r=this,i=0,s=[];return ap(t).ls(function(o,a){var u=Fd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Xi(t,u)))}).next(function(){return zf.$n(s)}).next(function(){return i})},t.prototype.mn=function(t,e){return ap(t).ls(function(t,n){var r=Fd(n);e(r)})},t.prototype.Qi=function(t){return up(t).get(bd.key).next(function(t){return ec(null!==t),t})},t.prototype.Ki=function(t,e){return up(t).put(bd.key,e)},t.prototype.Hi=function(t,e){return ap(t).put(Md(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},t.prototype.nr=function(t,e){var n=pl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ap(t).ls({range:r,index:yd.queryTargetsIndexName},function(t,n,r){var s=Fd(n);ml(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.sr=function(t,e,n){var r=this,i=[],s=cp(t);return e.forEach(function(e){var o=id(e.path);i.push(s.put(new vd(n,o))),i.push(r.mi.ir(t,n,e))}),zf.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=cp(t);return zf.forEach(e,function(e){var s=id(e.path);return zf.$n([i.delete([n,s]),r.mi.cr(t,n,e)])})},t.prototype.Zi=function(t,e){var n=cp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=cp(t),i=$h();return r.ls({range:n,hs:!0},function(t,e,n){var r=ad(t[1]),s=new Ac(r);i=i.add(s)}).next(function(){return i})},t.prototype.Mi=function(t,e){var n=id(e.path),r=IDBKeyRange.bound([n],[ac(n)],!1,!0),i=0;return cp(t).ls({index:vd.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return ap(t).get(e).next(function(t){return t?Fd(t):null})},t}();function ap(t){return Id(t,yd.store)}function up(t){return Id(t,bd.store)}function cp(t){return Id(t,vd.store)}function lp(t,e){var n=t[1],r=e[1],i=sc(t[0],e[0]);return 0===i?sc(n,r):i}var hp=function(){function t(t){this.ur=t,this.buffer=new Fh(lp),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();lp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),fp=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;Qu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,function(){return Object($u.b)(e,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return Xf(e=n.sent())?(Qu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Wd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}})})})},t}(),dp=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.gr=function(t,e){var n=this;if(0===e)return zf.resolve(Oc.U);var r=new hp(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(Qu("LruGarbageCollector","Garbage collection skipped; disabled"),zf.resolve($d)):this.vr(t).next(function(r){return r<n.params.Js?(Qu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),$d):n.Sr(t,e)})},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next(function(e){return e>c.params.Xs?(Qu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,s=Date.now(),c.gr(t,r)}).next(function(r){return n=r,o=Date.now(),c.tr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.pr(t,n)}).next(function(t){return u=Date.now(),Wu()<=zi.a.DEBUG&&Qu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),zf.resolve({js:!0,Gs:r,zs:i,Hs:t})})},t}(),pp=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new dp(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,function(t,n){return e(n)})},t.prototype.ir=function(t,e,n){return mp(t,n)},t.prototype.cr=function(t,e,n){return mp(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return mp(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return ip(t)._s(function(r){return ep(t,r,e).next(function(t){return t&&(n=!0),zf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],s=0;return this.Nr(t,function(o,a){if(a<=e){var u=n.Fr(t,o).next(function(e){if(!e)return s++,r.di(t,o).next(function(){return r.fi(o),cp(t).delete([0,id(o.path)])})});i.push(u)}}).next(function(){return zf.$n(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return mp(t,e)},t.prototype.Nr=function(t,e){var n,r=cp(t),i=Oc.U;return r.ls({index:vd.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Oc.U&&e(new Ac(ad(n)),i),i=o,n=s):i=Oc.U}).next(function(){i!==Oc.U&&e(new Ac(ad(n)),i)})},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function mp(t,e){return cp(t).put(function(t,e){return new vd(0,id(t.path),e)}(e,t.Ss))}var gp=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return bp(t).put(wp(e),n)},t.prototype.fi=function(t,e){var n=bp(t),r=wp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.$r(t,r)})},t.prototype.di=function(t,e){var n=this;return bp(t).get(wp(e)).next(function(t){return n.Br(t)})},t.prototype.qr=function(t,e){var n=this;return bp(t).get(wp(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:Yd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Hh();return this.Ur(t,e,function(t,e){var i=n.Br(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this,r=Hh(),i=new Rh(Ac.J);return this.Ur(t,e,function(t,e){var s=n.Br(e);s?(r=r.Ht(t,s),i=i.Ht(t,Yd(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Kr:r,Wr:i}})},t.prototype.Ur=function(t,e,n){if(e.nt())return zf.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return bp(t).ls({range:r},function(t,e,r){for(var o=Ac.Tt(t);s&&Ac.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=zh(),s=e.path.length+1,o={};if(n.isEqual(Ic.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Nd(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=md.collectionReadTimeIndex}return bp(t).ls(o,function(t,n,o){if(t.length===s){var a=kd(r.Kt,n);e.path.st(a.key.path)?a instanceof cl&&Kl(e,a)&&(i=i.Ht(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new yp(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return vp(t).get(gd.key).next(function(t){return ec(!!t),t})},t.prototype.$r=function(t,e){return vp(t).put(gd.key,e)},t.prototype.Br=function(t){if(t){var e=kd(this.Kt,t);return e instanceof ll&&e.version.isEqual(Ic.min())?null:e}return null},t}(),yp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new Qd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object($u.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Fh(function(t,e){return sc(t.ot(),e.ot())});return this.ci.forEach(function(s,o){var a=e.Hr.get(s);if(o._i){var u=Ad(e.zr.Kt,o._i,e.ui(s));i=i.add(s.path.Z());var c=Yd(u);r+=c-a,n.push(e.zr.hi(t,s,u))}else if(r-=a,e.Gr){var l=Ad(e.zr.Kt,new ll(s,Ic.min()),e.ui(s));n.push(e.zr.hi(t,s,l))}else n.push(e.zr.fi(t,s))}),i.forEach(function(r){n.push(e.zr.Ii.Qs(t,r))}),n.push(this.zr.updateMetadata(t,r)),zf.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},e}(Jd);function vp(t){return Id(t,gd.store)}function bp(t){return Id(t,md.store)}function wp(t){return t.path.rt()}var _p=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;ec(n<r&&n>=0&&r<=11);var s=new Bf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(cd.store)}(t),function(t){t.createObjectStore(ld.store,{keyPath:ld.keyPath}),t.createObjectStore(hd.store,{keyPath:hd.keyPath,autoIncrement:!0}).createIndex(hd.userMutationsIndex,hd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fd.store)}(t),Ep(t),function(t){t.createObjectStore(md.store)}(t));var o=zf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(vd.store),t.deleteObjectStore(yd.store),t.deleteObjectStore(bd.store)}(t),Ep(t)),o=o.next(function(){return function(t){var e=t.store(bd.store),n=new bd(0,0,Ic.min().G(),0);return e.put(bd.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(hd.store).os().next(function(n){t.deleteObjectStore(hd.store),t.createObjectStore(hd.store,{keyPath:hd.keyPath,autoIncrement:!0}).createIndex(hd.userMutationsIndex,hd.userMutationsKeyPath,{unique:!0});var r=e.store(hd.store),i=n.map(function(t){return r.put(t)});return zf.$n(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(_d.store,{keyPath:_d.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Jr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(gd.store)}(t),i.Yr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Xr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Zr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(md.store);e.createIndex(md.readTimeIndex,md.readTimeIndexPath,{unique:!1}),e.createIndex(md.collectionReadTimeIndex,md.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.eo(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(t),function(t){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath})}(t)})),o},t.prototype.Yr=function(t){var e=0;return t.store(md.store).ls(function(t,n){e+=Yd(n)}).next(function(){var n=new gd(e);return t.store(gd.store).put(gd.key,n)})},t.prototype.Jr=function(t){var e=this,n=t.store(ld.store),r=t.store(hd.store);return n.os().next(function(n){return zf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(hd.userMutationsIndex,i).next(function(r){return zf.forEach(r,function(r){ec(r.userId===n.userId);var i=Ld(e.Kt,r);return Zd(t,n.userId,i).next(function(){})})})})})},t.prototype.Xr=function(t){var e=t.store(vd.store),n=t.store(md.store);return t.store(bd.store).get(bd.key).next(function(t){var r=[];return n.ls(function(n,i){var s=new xc(n),o=function(t){return[0,id(t)]}(s);r.push(e.get(o).next(function(n){return n?zf.resolve():function(n){return e.put(new vd(0,id(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return zf.$n(r)})})},t.prototype.Zr=function(t,e){t.createObjectStore(wd.store,{keyPath:wd.keyPath});var n=e.store(wd.store),r=new Bd,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:id(i)})}};return e.store(md.store).ls({hs:!0},function(t,e){var n=new xc(t);return i(n.Z())}).next(function(){return e.store(fd.store).ls({hs:!0},function(t,e){var n=ad(t[1]);return i(n.Z())})})},t.prototype.eo=function(t){var e=this,n=t.store(yd.store);return n.ls(function(t,r){var i=Fd(r),s=Md(e.Kt,i);return n.put(s)})},t}();function Ep(t){t.createObjectStore(vd.store,{keyPath:vd.keyPath}).createIndex(vd.documentTargetsIndex,vd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(yd.store,{keyPath:yd.keyPath}).createIndex(yd.queryTargetsIndexName,yd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(bd.store)}var Sp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Op=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=s,this.window=o,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new lc(cc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new pp(this,i),this._o=n+"main",this.Kt=new jd(u),this.fo=new Gf(this._o,11,new _p(this.Kt)),this.wo=new op(this.mi,this.Kt),this.Ii=new Gd,this.Eo=function(t,e){return new gp(t,e)}(this.Kt,this.Ii),this.To=new Vd,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&Ju("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new lc(cc.FAILED_PRECONDITION,Sp);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.wo.ji(e)})}).then(function(e){t.ro=new Oc(e,t.so)}).then(function(){t.oo=!0}).catch(function(e){return t.fo&&t.fo.close(),Promise.reject(e)})},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object($u.b)(e,void 0,void 0,function(){return Object($u.d)(this,function(e){return this.Ir?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn(function(n){return Object($u.b)(e,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object($u.b)(e,void 0,void 0,function(){return Object($u.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ip(e).put(new _d(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.bo(e).next(function(e){e||(t.isPrimary=!1,t.no.vo(function(){return t.lo(!1)}))})}).next(function(){return t.So(e)}).next(function(n){return t.isPrimary&&!n?t.Do(e).next(function(){return!1}):!!n&&t.Co(e).next(function(){return!0})})}).catch(function(e){if(Xf(e))return Qu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Qu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.no.vo(function(){return t.lo(e)}),t.isPrimary=e})},t.prototype.bo=function(t){var e=this;return Tp(t).get(cd.key).next(function(t){return zf.resolve(e.xo(t))})},t.prototype.No=function(t){return Ip(t).delete(this.clientId)},t.prototype.Fo=function(){return Object($u.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object($u.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Id(t,_d.store);return e.os().next(function(t){var n=r.ko(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return zf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?zf.resolve(!0):Tp(t).get(cd.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new lc(cc.FAILED_PRECONDITION,Sp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ip(t).os().next(function(t){return void 0===e.ko(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Qu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$o=function(){return Object($u.b)(this,void 0,void 0,function(){var t=this;return Object($u.d)(this,function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[cd.store,_d.store],function(e){var n=new Td(e,Oc.U);return t.Do(n).next(function(){return t.No(n)})})];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}})})},t.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ip(e).os().next(function(e){return t.ko(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return tp.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Qu("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Od,function(s){return r=new Td(s,i.ro?i.ro.next():Oc.U),"readwrite-primary"===e?i.bo(r).next(function(t){return!!t||i.So(r)}).next(function(e){if(!e)throw Ju("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo(function(){return i.lo(!1)}),new lc(cc.FAILED_PRECONDITION,nd);return n(r)}).next(function(t){return i.Co(r).next(function(){return t})}):i.zo(r).next(function(){return n(r)})}).then(function(t){return r.bs(),t})},t.prototype.zo=function(t){var e=this;return Tp(t).get(cd.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new lc(cc.FAILED_PRECONDITION,Sp)})},t.prototype.Co=function(t){var e=new cd(this.clientId,this.allowTabSynchronization,Date.now());return Tp(t).put(cd.key,e)},t.Wn=function(){return Gf.Wn()},t.prototype.Do=function(t){var e=this,n=Tp(t);return n.get(cd.key).next(function(t){return e.xo(t)?(Qu("IndexedDbPersistence","Releasing primary lease."),n.delete(cd.key)):zf.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ju("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return Qu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ju("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){Ju("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Tp(t){return Id(t,cd.store)}function Ip(t){return Id(t,_d.store)}function Cp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var xp=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Hh();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Ns(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next(function(r){var i=n.Xo(t,e,r),s=Vh();return i.forEach(function(t,e){e||(e=new ll(t,Ic.min())),s=s.Ht(t,e)}),s})},t.prototype.jr=function(t,e,n){return function(t){return Ac.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Ul(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Ac(e)).next(function(t){var e=zh();return t instanceof cl&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=zh();return this.Ii.Ks(t,i).next(function(o){return zf.forEach(o,function(o){var a=function(t,e){return new Nl(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.Eo.jr(t,e,n).next(function(n){return r=n,s.Ho.xi(t,e)}).next(function(e){return s.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=yh(u,l,l,s.Ds);r=h instanceof cl?r.Ht(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Kl(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=$h(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Eh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof cl&&(c=c.Ht(t,e))}),c})},t}(),jp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=$h(),i=$h(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),kp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Ic.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(s){var o=i.lc(e,s);return(Dl(e)||Ll(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(Wu()<=zi.a.DEBUG&&Qu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Gl(e)),i.uc.jr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new Fh($l(t));return e.forEach(function(e,r){r instanceof cl&&Kl(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Wu()<=zi.a.DEBUG&&Qu("QueryEngine","Using full collection scan to execute query:",Gl(e)),this.uc.jr(t,e,Ic.min())},t}(),Ap=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Rh(sc),this.wc=new Qd(function(t){return pl(t)},ml),this.Ec=Ic.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new xp(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.br(n,e.dc)})},t}();function Np(t,e,n,r){return new Ap(t,e,n,r)}function Pp(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s;return Object($u.d)(this,function(o){switch(o.label){case 0:return n=nc(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.vi(t).next(function(o){return s=o,r=n.persistence.Wo(e),i=new xp(n.Tc,r,n.persistence.jo()),r.vi(t)}).next(function(e){for(var n=[],r=[],o=$h(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}})})}function Rp(t,e){var n=nc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=zf.resolve();return s.forEach(function(t){o=o.next(function(){return r.di(e,t)}).next(function(e){var s=e,o=n.ks.get(t);ec(null!==o),(!s||s.version.u(o)<0)&&(s=i.Cs(t,s,n))&&r.hi(s,n.Os)})}),o.next(function(){return t.Ho.Ni(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}function Dp(t){var e=nc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function Lp(t,e){var n=nc(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Or({Gr:!0});i=n.dc;var o=[];e.Oe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.wo.rr(t,e.Ke,s).next(function(){return n.wo.sr(t,e.Ue,s)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(s,c),function(t,e,n){return ec(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&o.push(n.wo.Yi(t,c))}}});var a=Vh();if(e.Me.forEach(function(r,i){e.Le.has(r)&&o.push(n.persistence.mi.Mr(t,r))}),o.push(Fp(t,s,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Ic.min())){var u=n.wo.Wi(t).next(function(e){return n.wo.Gi(t,t.Ss,r)});o.push(u)}return zf.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function Fp(t,e,n,r,i){var s=$h();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Vh();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof ll&&o.version.isEqual(Ic.min())?(e.fi(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.hi(o,u),s=s.Ht(n,o)):Qu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Mp(t,e){var n=nc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)})}function Up(t,e){var n=nc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.wo.nr(t,e).next(function(i){return i?zf.resolve(r=i):n.wo.Ui(t).next(function(i){return r=new Wl(e,i,0,t.Ss),n.wo.zi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function Vp(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object($u.d)(this,function(a){switch(a.label){case 0:r=nc(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.mi.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Xf(o=a.sent()))throw o;return Qu("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Hp(t,e,n){var r=nc(t),i=Ic.min(),s=$h();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=nc(t),i=r.wc.get(n);return void 0!==i?zf.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,Hl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next(function(t){s=t})}).next(function(){return r.fc.jr(t,e,n?i:Ic.min(),n?s:$h())}).next(function(t){return{documents:t,Pc:s}})})}function qp(t,e){var n=nc(t),r=nc(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function zp(t){var e=nc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=nc(t),i=Vh(),s=Nd(n),o=bp(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:md.readTimeIndex,range:a},function(t,e){var n=kd(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime}).next(function(){return{gs:i,readTime:Pd(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.gs;return e.Ec=t.readTime,n})}function Bp(t){return Object($u.b)(this,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){return[2,(e=nc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=bp(t),n=Ic.min();return e.ls({index:md.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Pd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function Gp(t,e,n,r){return Object($u.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object($u.d)(this,function(p){switch(p.label){case 0:for(i=nc(t),s=$h(),o=Vh(),a=Gh(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,Up(i,function(t){return Hl(Rl(xc.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Fp(t,f,o,Ic.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.wo.Zi(t,d.targetId).next(function(){return i.wo.sr(t,s,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function Kp(t,e,n){return void 0===n&&(n=$h()),Object($u.b)(this,void 0,void 0,function(){var r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:return[4,Up(t,Hl(Ud(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=nc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=mf(e.readTime);if(r.Mt.u(s)>=0)return i.To.qs(t,e);var o=r.$t(uc.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.wo.Yi(t,o).next(function(){return i.wo.Zi(t,r.targetId)}).next(function(){return i.wo.sr(t,n,r.targetId)}).next(function(){return i.To.qs(t,e)})})]}})})}var $p=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return zf.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:mf(n.createTime)}),zf.resolve()},t.prototype.Bs=function(t,e){return zf.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Ud(t.bundledQuery),readTime:mf(t.readTime)}}(e)),zf.resolve()},t}(),Xp=function(){function t(){this.Sc=new Fh(Wp.Dc),this.Cc=new Fh(Wp.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new Wp(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.cr=function(t,e){this.Fc(new Wp(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Ac(new xc([])),r=new Wp(n,t),i=new Wp(n,t+1),s=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Ac(new xc([])),n=new Wp(e,t),r=new Wp(e,t+1),i=$h();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mi=function(t){var e=new Wp(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Wp=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Ac.J(t.key,e.key)||sc(t.$c,e.$c)},t.xc=function(t,e){return sc(t.$c,e.$c)||Ac.J(t.key,e.key)},t}(),Qp=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Fh(Wp.Dc)}return t.prototype.Pi=function(t){return zf.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new Cd(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new Wp(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return zf.resolve(s)},t.prototype.gi=function(t,e){return zf.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return zf.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return zf.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return zf.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new Wp(e,0),i=new Wp(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);s.push(e)}),zf.resolve(s)},t.prototype.Di=function(t,e){var n=this,r=new Fh(sc);return e.forEach(function(t){var e=new Wp(t,0),i=new Wp(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),zf.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Ac.Et(i)||(i=i.child(""));var s=new Wp(new Ac(i),0),o=new Fh(sc);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)},s),zf.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.Ni=function(t,e){var n=this;ec(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return zf.forEach(e.mutations,function(i){var s=new Wp(i.key,e.batchId);return r=r.delete(s),n.mi.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new Wp(e,0),r=this.qc.Pe(n);return zf.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return zf.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Jp=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new Rh(Ac.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:o,readTime:n}),this.size+=o-s,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return zf.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=Hh();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),zf.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=zh(),i=new Ac(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a._i,c=a.readTime;if(!e.path.st(o.key.path))break;c.u(n)<=0||u instanceof cl&&Kl(e,u)&&(r=r.Ht(u.key,u))}return zf.resolve(r)},t.prototype.Gc=function(t,e){return zf.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new Zp(this)},t.prototype.Lr=function(t){return zf.resolve(this.size)},t}(),Zp=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object($u.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach(function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)}),zf.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(Jd),Yp=function(){function t(t){this.persistence=t,this.zc=new Qd(function(t){return pl(t)},ml),this.lastRemoteSnapshotVersion=Ic.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Xp,this.targetCount=0,this.Yc=sp.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),zf.resolve()},t.prototype.Wi=function(t){return zf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return zf.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),zf.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),zf.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new sp(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,zf.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),zf.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,zf.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Zi(t,a.targetId)),i++)}),zf.$n(s).next(function(){return i})},t.prototype.er=function(t){return zf.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return zf.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),zf.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),zf.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),zf.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return zf.resolve(n)},t.prototype.Mi=function(t,e){return zf.resolve(this.Jc.Mi(e))},t}(),tm=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Oc(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new Yp(this),this.Ii=new zd,this.Eo=function(t,e){return new Jp(t,function(t){return n.mi.Zc(t)})}(this.Ii),this.Kt=new jd(e),this.To=new $p(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new Qp(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;Qu("MemoryPersistence","Starting transaction:",t);var i=new em(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},t.prototype.na=function(t,e){return zf.Bn(Object.values(this.Xc).map(function(n){return function(){return n.Mi(t,e)}}))},t}(),em=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object($u.c)(e,t),e}(rd),nm=function(){function t(t){this.persistence=t,this.sa=new Xp,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw tc()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),zf.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),zf.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),zf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return zf.forEach(this.oa,function(r){var i=Ac.ft(r);return e.ca(t,i).next(function(t){t||n.fi(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return zf.Bn([function(){return zf.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function rm(t,e){return"firestore_clients_"+t+"_"+e}function im(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function sm(t,e){return"firestore_targets_"+t+"_"+e}var om=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new lc(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Ju("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),am=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new lc(r.error.code,r.error.message)),i?new t(e,r.state,s):(Ju("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),um=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Wh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Gc(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Ju("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),cm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ju("SharedClientState","Failed to parse online state: "+e),null)},t}(),lm=function(){function t(){this.activeTargetIds=Wh()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),hm=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Rh(sc),this.Ir=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=rm(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new lm),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object($u.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object($u.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(rm(this.persistenceKey,r)))&&(s=um.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.$o()}),this.Ir=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(sm(this.persistenceKey,t));if(n){var r=am.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(sm(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Qu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Qu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Qu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Qu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Ju("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo(function(){return Object($u.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object($u.d)(this,function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=Oc.U;if(null!=t)try{var n=JSON.parse(t);ec("number"==typeof n),e=n}catch(t){Ju("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Oc.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new om(this.currentUser,t,e,n),i=im(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=im(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=sm(this.persistenceKey,t),i=new am(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return um.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return om.aa(new vc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return am.aa(r,e)},t.prototype.ba=function(t){return cm.aa(t)},t.prototype.Xa=function(t){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Qu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Wh();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),fm=function(){function t(){this.ru=new lm,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new lm,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),dm=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),pm=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Qu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Qu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),mm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gm=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),ym=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object($u.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,s){var o=new Ku;o.listenOnce(zu.COMPLETE,function(){try{switch(o.getLastErrorCode()){case qu.NO_ERROR:var e=o.getResponseJson();Qu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case qu.TIMEOUT:Qu("Connection",'RPC "'+t+'" timed out'),s(new lc(cc.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:var n=o.getStatus();if(Qu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(cc).indexOf(e)>=0?e:cc.UNKNOWN}(r.status);s(new lc(a,r.message))}else s(new lc(cc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new lc(cc.UNAVAILABLE,"Connection failed."));break;default:tc()}}finally{Qu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Fu,i=Vo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(Bi.p)()||Object(Bi.r)()||Object(Bi.m)()||Object(Bi.n)()||Object(Bi.s)()||Object(Bi.l)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Qu("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new gm({du:function(t){c?Qu("Connection","Not sending because WebChannel is closed:",t):(u||(Qu("Connection","Opening WebChannel transport."),a.open(),u=!0),Qu("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Gu.EventType.OPEN,function(){c||Qu("Connection","WebChannel transport opened.")}),h(a,Gu.EventType.CLOSE,function(){c||(c=!0,Qu("Connection","WebChannel transport closed"),l.Pu())}),h(a,Gu.EventType.ERROR,function(t){c||(c=!0,Zu("Connection","WebChannel transport errored:",t),l.Pu(new lc(cc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Gu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ec(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Qu("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Ch[t];if(void 0!==e)return Ph(e)}(i),o=r.message;void 0===s&&(s=cc.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new lc(s,o)),a.close()}else Qu("Connection","WebChannel received:",n),l.yu(n)}}),h(i,Bu.STAT_EVENT,function(t){10===t.stat?Qu("Connection","Detected buffering proxy"):11===t.stat&&Qu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Qu("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then(function(t){return Qu("RestConnection","Received: ",t),t},function(e){throw Zu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+mm[t]},t}());function vm(){return"undefined"!=typeof window?window:null}function bm(){return"undefined"!=typeof document?document:null}function wm(t){return new hf(t,!0)}var _m=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Qu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Em=function(){function t(t,e,n,r,i,s){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=s,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new _m(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===cc.RESOURCE_EXHAUSTED?(Ju(e.toString()),Ju("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===cc.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new lc(cc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object($u.b)(t,void 0,void 0,function(){return Object($u.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return Qu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys(function(){return e.ju===t?n():(Qu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Sm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object($u.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:tc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(ec(void 0===e||"string"==typeof e),uc.fromBase64String(e||"")):(ec(void 0===e||e instanceof Uint8Array),uc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?cc.UNKNOWN:Ph(t.code);return new lc(e,t.message||"")}(a);n=new rf(r,i,s,o||null)}else if("documentChange"in e){i=bf(t,(r=e.documentChange).document.name),s=mf(r.document.updateTime);var a=new sl({mapValue:{fields:r.document.fields}}),u=(o=new cl(i,s,a,{}),r.targetIds||[]);n=new ef(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=bf(t,(r=e.documentDelete).document),s=r.readTime?mf(r.readTime):Ic.min(),a=new ll(i,s),n=new ef([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=bf(t,(r=e.documentRemove).document),n=new ef([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return tc();var c=e.filter;i=new Ah(r=c.count||0),n=new nf(s=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Ic.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ic.min():e.readTime?mf(e.readTime):Ic.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Ef(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=gl(r)?{documents:xf(t,r)}:{query:jf(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=df(t,e.resumeToken):e.Mt.u(Ic.min())>0&&(n.readTime=ff(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tc()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Ef(this.Kt),e.removeTarget=t,this.eh(e)},e}(Em),Om=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object($u.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(ec(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(ec(void 0!==e),t.map(function(t){return function(t,e){var n=mf(t.updateTime?t.updateTime:e);n.isEqual(Ic.min())&&(n=mf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new fh(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=mf(t.commitTime);return this.listener.wh(n,e)}return ec(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Ef(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return If(e.Kt,t)})};this.eh(n)},e}(Em),Tm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object($u.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new lc(cc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===cc.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===cc.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Im=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Ju(e),this.Ph=!1):Qu("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Cm=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object($u.b)(s,void 0,void 0,function(){return Object($u.d)(this,function(t){switch(t.label){case 0:return Lm(this)?(Qu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object($u.b)(this,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:return(e=nc(t)).Fh.add(4),[4,jm(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,xm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Im(n,r)};function xm(t){return Object($u.b)(this,void 0,void 0,function(){var e,n;return Object($u.d)(this,function(r){switch(r.label){case 0:if(!Lm(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function jm(t){return Object($u.b)(this,void 0,void 0,function(){var e,n;return Object($u.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function km(t,e){var n=nc(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Dm(n)?Rm(n):Jm(n).Ju()&&Nm(n,e))}function Am(t,e){var n=nc(t),r=Jm(n);n.Nh.delete(e),r.Ju()&&Pm(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Lm(n)&&n.Mh.set("Unknown"))}function Nm(t,e){t.Lh.cn(e.targetId),Jm(t).hh(e)}function Pm(t,e){t.Lh.cn(e),Jm(t).lh(e)}function Rm(t){t.Lh=new of({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Jm(t).start(),t.Mh.yh()}function Dm(t){return Lm(t)&&!Jm(t).Hu()&&t.Nh.size>0}function Lm(t){return 0===nc(t).Fh.size}function Fm(t){t.Lh=void 0}function Mm(t){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(e){return t.Nh.forEach(function(e,n){Nm(t,e)}),[2]})})}function Um(t,e){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(n){return Fm(t),Dm(t)?(t.Mh.ph(e),Rm(t)):t.Mh.set("Unknown"),[2]})})}function Vm(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i,s;return Object($u.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof rf&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s;return Object($u.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Qu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Hm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ef?t.Lh.wn(e):e instanceof nf?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Ic.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Dp(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(uc.h,n.Mt)),Pm(t,e);var r=new Wl(n.target,e,1,n.sequenceNumber);Nm(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Qu("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Hm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Hm(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r=this;return Object($u.d)(this,function(i){switch(i.label){case 0:if(!Xf(e))throw e;return t.Fh.add(1),[4,jm(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Dp(t.Sh)}),t.fs.vo(function(){return Object($u.b)(r,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return Qu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,xm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function qm(t,e){return e().catch(function(n){return Hm(t,n,e)})}function zm(t){return Object($u.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object($u.d)(this,function(o){switch(o.label){case 0:e=nc(t),n=Zm(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Lm(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Mp(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Zm(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Hm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Bm(e)&&Gm(e),[2]}})})}function Bm(t){return Lm(t)&&!Zm(t).Hu()&&t.xh.length>0}function Gm(t){Zm(t).start()}function Km(t){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(e){return Zm(t).Th(),[2]})})}function $m(t){return Object($u.b)(this,void 0,void 0,function(){var e,n,r;return Object($u.d)(this,function(i){for(e=Zm(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function Xm(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:return r=t.xh.shift(),i=xd.from(r,e,n),[4,qm(t,function(){return t.Ch.qh(i)})];case 1:return s.sent(),[4,zm(t)];case 2:return s.sent(),[2]}})})}function Wm(t,e){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(n){switch(n.label){case 0:return e&&Zm(t).fh?[4,function(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r;return Object($u.d)(this,function(i){switch(i.label){case 0:return Nh(r=e.code)&&r!==cc.ABORTED?(n=t.xh.shift(),Zm(t).Xu(),[4,qm(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,zm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Bm(t)&&Gm(t),[2]}})})}function Qm(t,e){return Object($u.b)(this,void 0,void 0,function(){var n;return Object($u.d)(this,function(r){switch(r.label){case 0:return n=nc(t),e?(n.Fh.delete(2),[4,xm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,jm(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Jm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=nc(t);return r.mh(),new Sm(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Mm.bind(null,t),Iu:Um.bind(null,t),uh:Vm.bind(null,t)}),t.Oh.push(function(n){return Object($u.b)(e,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Dm(t)?Rm(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Fm(t),e.label=3;case 3:return[2]}})})})),t.Qh}function Zm(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=nc(t);return r.mh(),new Om(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Km.bind(null,t),Iu:Wm.bind(null,t),Eh:$m.bind(null,t),wh:Xm.bind(null,t)}),t.Oh.push(function(n){return Object($u.b)(e,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,zm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Qu("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Ym=function(){this.Wh=void 0,this.listeners=[]},tg=function(){this.queries=new Qd(function(t){return Bl(t)},zl),this.onlineState="Unknown",this.jh=new Set};function eg(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object($u.d)(this,function(c){switch(c.label){case 0:if(n=nc(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Ym),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=td(a,"Initialization of query '"+Gl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.Wh&&e.Hh(s.Wh)&&sg(n),[2]}})})}function ng(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object($u.d)(this,function(a){return n=nc(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function rg(t,e){for(var n=nc(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(o)&&(r=!0);a.Wh=o}}r&&sg(n)}function ig(t,e,n){var r=nc(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function sg(t){t.jh.forEach(function(t){t.next()})}var og=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Zh(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Zh.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),ag=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),ug=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return bf(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Tf(this.Kt,t.document,!1):new ll(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return mf(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new ug(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||$h()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object($u.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:return[4,Gp(this.Sh,new ug(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Kp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ed(Object.assign({},this.progress),t))]}})})}}();var cg=function(t){this.key=t},lg=function(t){this.key=t},hg=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=$h(),this.Ce=$h(),this.ll=$l(t),this._l=new Qh(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Jh,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=Dl(this.query)&&i.size===this.query.limit?i.last():null,c=Ll(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof cl?e:null;h&&(h=Kl(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Dl(this.query)||Ll(this.query))for(;o.size>this.query.limit;){var l=Dl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tc()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new Zh(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new Jh,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=$h(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new lg(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new cg(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=$h();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return Zh.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),fg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},dg=function(t){this.key=t,this.yl=!1},pg=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new Qd(function(t){return Bl(t)},zl),this.Dl=new Map,this.Cl=[],this.xl=new Rh(Ac.J),this.Nl=new Map,this.Fl=new Xp,this.Ol={},this.kl=new Map,this.Ml=sp.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function mg(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object($u.d)(this,function(a){switch(a.label){case 0:return n=Bg(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Up(n.Sh,Hl(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,gg(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&km(n.gl,s),a.label=4;case 4:return[2,r]}})})}function gg(t,e,n,r){return Object($u.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object($u.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object($u.b)(this,void 0,void 0,function(){var i,s,o;return Object($u.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Hp(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Oe.get(e.targetId),o=e.view.Ti(i,t.$l,s),[2,(jg(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,r)},[4,Hp(t.Sh,e,!0)];case 1:return i=l.sent(),s=new hg(e,i.Pc),o=s.dl(i.documents),a=tf.Be(n,r&&"Offline"!==t.onlineState),u=s.Ti(o,t.$l,a),jg(t,n,u.ml),c=new fg(e,n,s),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function yg(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:return n=nc(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!zl(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Vp(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Am(n.gl,r.targetId),Cg(n,r.targetId)}).catch(Wd)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Cg(n,r.targetId),[4,Vp(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function vg(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object($u.d)(this,function(a){switch(a.label){case 0:r=Gg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=nc(t),i=Tc.now(),s=e.reduce(function(t,e){return t.add(e.key)},$h());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=vh(c,n.get(c.key));null!=l&&o.push(new Eh(c.key,l,al(l.proto.mapValue),dh.exists(!0)))}return r.Ho.yi(t,i,o,e)})}).then(function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Rh(sc)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Ng(r,i.ci)];case 3:return a.sent(),[4,zm(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=td(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function bg(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r;return Object($u.d)(this,function(i){switch(i.label){case 0:n=nc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Lp(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(ec(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?ec(r.yl):t.Ke.size>0&&(ec(r.yl),r.yl=!1))}),[4,Ng(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Wd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function wg(t,e,n){var r=nc(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=nc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)}),r&&sg(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function _g(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object($u.d)(this,function(c){switch(c.label){case 0:return(r=nc(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new Rh(Ac.J)).Ht(s,new ll(s,Ic.min())),a=$h().add(s),u=new Yh(Ic.min(),new Map,new Fh(sc),o,a),[4,bg(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),Ag(r),[3,4];case 2:return[4,Vp(r.Sh,e,!1).then(function(){return Cg(r,e,n)}).catch(Wd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Eg(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:n=nc(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Rp(n.Sh,e)];case 2:return i=s.sent(),Ig(n,r,null),Tg(n,r),n.pl.Fa(r,"acknowledged"),[4,Ng(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Wd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Sg(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:r=nc(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=nc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.gi(t,e).next(function(e){return ec(null!==e),r=e.keys(),n.Ho.Ni(t,e)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=s.sent(),Ig(r,e,n),Tg(r,e),r.pl.Fa(e,"rejected",n),[4,Ng(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Wd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Og(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object($u.d)(this,function(a){switch(a.label){case 0:Lm((n=nc(t)).gl)||Qu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=nc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=td(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Tg(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Ig(t,e,n){var r=nc(t),i=r.Ol[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Cg(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.Mi(e)||xg(t,e)})}function xg(t,e){var n=t.xl.get(e);null!==n&&(Am(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Ag(t))}function jg(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof cg?(t.Fl.ir(s.key,e),kg(t,s)):s instanceof lg?(Qu("SyncEngine","Document no longer in limbo: "+s.key),t.Fl.cr(s.key,e),t.Fl.Mi(s.key)||xg(t,s.key)):tc()}}function kg(t,e){var n=e.key;t.xl.get(n)||(Qu("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Ag(t))}function Ag(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new dg(e)),t.xl=t.xl.Ht(e,n),km(t.gl,new Wl(Hl(Rl(e.path)),n,2,Oc.U))}}function Ng(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object($u.d)(this,function(a){switch(a.label){case 0:return r=nc(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){o.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=jp.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object($u.d)(this,function(l){switch(l.label){case 0:n=nc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return zf.forEach(e,function(e){return zf.forEach(e.rc,function(r){return n.persistence.mi.ir(t,e.targetId,r)}).next(function(){return zf.forEach(e.oc,function(r){return n.persistence.mi.cr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Xf(r=l.sent()))throw r;return Qu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Pg(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r;return Object($u.d)(this,function(i){switch(i.label){case 0:return(n=nc(t)).currentUser.isEqual(e)?[3,3]:(Qu("SyncEngine","User change. New user:",e.R()),[4,Pp(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new lc(cc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Ng(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Rg(t,e){var n=nc(t),r=n.Nl.get(e);if(r&&r.yl)return $h().add(r.key);var i=$h(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function Dg(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:return[4,Hp((n=nc(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&jg(n,e.targetId,i.ml),i)]}})})}function Lg(t){return Object($u.b)(this,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){return[2,zp((e=nc(t)).Sh).then(function(t){return Ng(e,t)})]})})}function Fg(t,e,n,r){return Object($u.b)(this,void 0,void 0,function(){var i,s;return Object($u.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=nc(t),r=nc(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vi(t,e).next(function(e){return e?n.Ic.Zo(t,e):zf.resolve(null)})})}((i=nc(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,zm(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ig(i,e,r||null),Tg(i,e),function(t,e){nc(nc(t).Ho).Fi(e)}(i.Sh,e)):tc(),o.label=4;case 4:return[4,Ng(i,s)];case 5:return o.sent(),[3,7];case 6:Qu("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Mg(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object($u.d)(this,function(c){switch(c.label){case 0:return Bg(n=nc(t)),Gg(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Ug(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Qm(n.gl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)km(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return Cg(n,e),Vp(n.Sh,e,!0)}),Am(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,Ug(n,a)];case 5:return c.sent(),function(t){var e=nc(t);e.Nl.forEach(function(t,n){Am(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new Rh(Ac.J)}(n),n.Ll=!1,[4,Qm(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ug(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object($u.d)(this,function(m){switch(m.label){case 0:n=nc(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Dl.get(a=o[s]))&&0!==c.length?[4,Up(n.Sh,Hl(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Dg(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,qp(n.Sh,a)];case 8:return p=m.sent(),[4,Up(n.Sh,p)];case 9:return u=m.sent(),[4,gg(n,Vg(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function Vg(t){return Pl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Hg(t){var e=nc(t);return nc(nc(e.Sh).persistence).Ko()}function qg(t,e,n,r){return Object($u.b)(this,void 0,void 0,function(){var i,s,o;return Object($u.d)(this,function(a){switch(a.label){case 0:return(i=nc(t)).Ll?(Qu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,zp(i.Sh)];case 3:return s=a.sent(),o=Yh.$e(e,"current"===n),[4,Ng(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Vp(i.Sh,e,!0)];case 6:return a.sent(),Cg(i,e,r),[3,8];case 7:tc(),a.label=8;case 8:return[2]}})})}function zg(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object($u.d)(this,function(f){switch(f.label){case 0:if(!(r=Bg(t)).Ll)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(Qu("SyncEngine","Adding an already active target "+o),[3,5]):[4,qp(r.Sh,o)]:[3,6];case 2:return a=f.sent(),[4,Up(r.Sh,a)];case 3:return u=f.sent(),[4,gg(r,Vg(a),u.targetId,!1)];case 4:f.sent(),km(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object($u.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Vp(r.Sh,t,!1).then(function(){Am(r.gl,t),Cg(r,t)}).catch(Wd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Bg(t){var e=nc(t);return e.gl.Ch.Bh=bg.bind(null,e),e.gl.Ch.Sn=Rg.bind(null,e),e.gl.Ch.$h=_g.bind(null,e),e.vl.uh=rg.bind(null,e.Vl),e.vl.ql=ig.bind(null,e.Vl),e}function Gg(t){var e=nc(t);return e.gl.Ch.qh=Eg.bind(null,e),e.gl.Ch.Uh=Sg.bind(null,e),e}var Kg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return this.Kt=wm(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Np(this.persistence,new kp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new tm(nm.ra,this.Kt)},t.prototype.jl=function(t){return new fm},t.prototype.terminate=function(){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},t}(),$g=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object($u.c)(e,t),e.prototype.initialize=function(e){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Bp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Gg(this.Xl.fa)];case 4:return n.sent(),[4,zm(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Np(this.persistence,new kp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new fp(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=Cp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Xd.Zs(this.cacheSizeBytes):Xd.ni;return new Op(this.synchronizeTabs,e,t.clientId,n,t.fs,vm(),bm(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new fm},e}(Kg),Xg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object($u.c)(e,t),e.prototype.initialize=function(e){return Object($u.b)(this,void 0,void 0,function(){var n,r=this;return Object($u.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof hm?(this.pl.fa={nu:Fg.bind(null,n),su:qg.bind(null,n),iu:zg.bind(null,n),Ko:Hg.bind(null,n),eu:Lg.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo(function(t){return Object($u.b)(r,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return[4,Mg(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=vm();if(!hm.Wn(e))throw new lc(cc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cp(t.gu.T,t.gu.persistenceKey);return new hm(e,t.fs,n,t.clientId,t.Yl)},e}($g),Wg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object($u.b)(this,void 0,void 0,function(){var n=this;return Object($u.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return wg(n.fa,t,1)},this.gl.Ch.s_=Pg.bind(null,this.fa),[4,Qm(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new tg},t.prototype.Zl=function(t){var e=wm(t.gu.T),n=new ym(t.gu);return function(t,e,n){return new Tm(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return wg(o.fa,t,0)},s=pm.Wn()?new pm:new dm,new Cm(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new pg(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object($u.b)(this,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:return e=nc(t),Qu("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,jm(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Qg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Jg=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new qf,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object($u.b)(this,void 0,void 0,function(){var t,e,n,r;return Object($u.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new ag(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object($u.b)(this,void 0,void 0,function(){var t,e;return Object($u.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object($u.b)(this,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object($u.b)(this,void 0,void 0,function(){var t,e;return Object($u.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new lc(cc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new kc(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Zg=function(t){this._methodName=t};function Yg(t,e,n){if(!n)throw new lc(cc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ty(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new lc(cc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ey(t,e,n,r){if(!0===e&&!0===r)throw new lc(cc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ny(t){if(!Ac.Et(t))throw new lc(cc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ry(t){if(Ac.Et(t))throw new lc(cc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function iy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":tc()}function sy(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new lc(cc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iy(t);throw new lc(cc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function oy(t,e){if(e<=0)throw new lc(cc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ay=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new lc(cc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lc(cc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ey("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),uy=new Map,cy=function(){function t(t,e){this.w_="(lite)",this.E_=new ay({}),this.T_=!1,t instanceof yc?(this.I_=t,this.m_=new wc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new lc(cc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(t.options.projectId)}(t),this.m_=new _c(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new lc(cc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new lc(cc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new ay(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new wc;switch(t.type){case"gapi":var e=t.client;return ec(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Sc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new lc(cc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=uy.get(this))&&(Qu("ComponentProvider","Removing Datastore"),uy.delete(this),t.terminate()),Promise.resolve();var t},t}(),ly=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new fy(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),hy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Rl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object($u.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new ly(this.firestore,null,new Ac(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(hy);function dy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof fc&&(t=t._),Yg("collection","path",e),t instanceof cy)return ry(n=xc.ct.apply(xc,Object($u.g)([e],r))),new fy(t,null,n);if(!(t instanceof ly||t instanceof fy))throw new lc(cc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ry(n=xc.ct.apply(xc,Object($u.g)([t.path],r)).child(xc.ct(e))),new fy(t.firestore,null,n)}function py(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof fc&&(t=t._),1===arguments.length&&(e=ic.t()),Yg("doc","path",e),t instanceof cy)return ny(n=xc.ct.apply(xc,Object($u.g)([e],r))),new ly(t,null,new Ac(n));if(!(t instanceof ly||t instanceof fy))throw new lc(cc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ny(n=t.D_.child(xc.ct.apply(xc,Object($u.g)([e],r)))),new ly(t.firestore,t instanceof fy?t.v_:null,new Ac(n))}function my(t,e){return t instanceof fc&&(t=t._),e instanceof fc&&(e=e._),(t instanceof ly||t instanceof fy)&&(e instanceof ly||e instanceof fy)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function gy(t,e){return t instanceof fc&&(t=t._),e instanceof fc&&(e=e._),t instanceof hy&&e instanceof hy&&t.firestore===e.firestore&&zl(t.C_,e.C_)&&t.v_===e.v_}var yy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new lc(cc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lc(cc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return sc(this.x_,t.x_)||sc(this.N_,t.N_)},t}(),vy=/^__.*__$/,by=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Eh(t,this.data,this.zt,e,this.fieldTransforms):new _h(t,this.data,e,this.fieldTransforms)},t}(),wy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Eh(t,this.data,this.zt,e,this.fieldTransforms)},t}();function _y(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tc()}}var Ey=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return qy(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(_y(this.k_)&&vy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Sy=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||wm(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Ey({k_:t,methodName:e,j_:n,path:kc.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Oy(t){var e=t.p_(),n=wm(t.I_);return new Sy(t.I_,!!e.ignoreUndefinedProperties,n)}function Ty(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);My("Data must be an object, but it was:",o,r);var a,u,c=Ly(r,o);if(s.merge)a=new Dc(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Uy(e,f[h],n);if(!o.contains(d))throw new lc(cc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");zy(l,d)||l.push(d)}a=new Dc(l),u=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=o.fieldTransforms;return new by(new sl(c),a,u)}var Iy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Zg);function Cy(t,e,n){return new Ey({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var xy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.z_=function(t){return new hh(t.path,new rh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Zg),jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object($u.c)(e,t),e.prototype.z_=function(t){var e=Cy(this,t,!0),n=this.H_.map(function(t){return Dy(t,e)}),r=new ih(n);return new hh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zg),ky=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object($u.c)(e,t),e.prototype.z_=function(t){var e=Cy(this,t,!0),n=this.H_.map(function(t){return Dy(t,e)}),r=new oh(n);return new hh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zg),Ay=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object($u.c)(e,t),e.prototype.z_=function(t){var e=new uh(t.Kt,Zl(t.Kt,this.J_));return new hh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Zg);function Ny(t,e,n,r){var i=t.G_(1,e,n);My("Data must be an object, but it was:",i,r);var s=[],o=new ol;Pc(r,function(t,r){var a=Hy(e,t,n);r instanceof fc&&(r=r._);var u=i.U_(a);if(r instanceof Iy)s.push(a);else{var c=Dy(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Dc(s);return new wy(o.yt(),a,i.fieldTransforms)}function Py(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[Uy(e,r,n)],u=[i];if(s.length%2!=0)throw new lc(cc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Uy(e,s[c])),u.push(s[c+1]);for(var l=[],h=new ol,f=a.length-1;f>=0;--f)if(!zy(l,a[f])){var d=a[f],p=u[f];p instanceof fc&&(p=p._);var m=o.U_(d);if(p instanceof Iy)l.push(d);else{var g=Dy(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new Dc(l);return new wy(h.yt(),y,o.fieldTransforms)}function Ry(t,e,n,r){return void 0===r&&(r=!1),Dy(n,t.G_(r?4:3,e))}function Dy(t,e){if(t instanceof fc&&(t=t._),Fy(t))return My("Unsupported field value:",e,t),Ly(t,e);if(t instanceof Zg)return function(t,e){if(!_y(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Dy(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof fc&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zl(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Tc.fromDate(t);return{timestampValue:ff(e.Kt,n)}}if(t instanceof Tc)return n=new Tc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ff(e.Kt,n)};if(t instanceof yy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hc)return{bytesValue:df(e.Kt,t.l)};if(t instanceof ly){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:gf(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+iy(t))}(t,e)}function Ly(t,e){var n={};return Rc(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Pc(t,function(t,r){var i=Dy(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Fy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Tc||t instanceof yy||t instanceof hc||t instanceof ly||t instanceof Zg)}function My(t,e,n){if(!Fy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=iy(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Uy(t,e,n){if(e instanceof fc&&(e=e._),e instanceof Jg)return e.d_;if("string"==typeof e)return Hy(t,e);throw qy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Vy=new RegExp("[~\\*/\\[\\]]");function Hy(t,e,n){if(e.search(Vy)>=0)throw qy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Jg.bind.apply(Jg,Object($u.g)([void 0],e.split("."))))).d_}catch(r){throw qy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function qy(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new lc(cc.INVALID_ARGUMENT,(a+=". ")+t+u)}function zy(t,e){return t.some(function(t){return t.isEqual(e)})}var By=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object($u.b)(this,void 0,void 0,function(){var e,n=this;return Object($u.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new lc(cc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object($u.d)(this,function(u){switch(u.label){case 0:return n=nc(t),r=Ef(n.Kt)+"/documents",i={documents:e.map(function(t){return vf(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ec(!!e.found);var n=bf(t,e.found.name),r=mf(e.found.updateTime),i=new sl({mapValue:{fields:e.found.fields}});return new cl(n,r,i,{})}(t,e):"missing"in e?function(t,e){ec(!!e.missing),ec(!!e.readTime);var n=bf(t,e.missing),r=mf(e.readTime);return new ll(n,r)}(t,e):tc()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());ec(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof ll||t instanceof cl?n.sf(t):tc()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new jh(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object($u.b)(this,void 0,void 0,function(){var t,e=this;return Object($u.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ac.ft(n);e.mutations.push(new kh(r,e.Gt(r)))}),[4,function(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:return n=nc(t),r=Ef(n.Kt)+"/documents",i={writes:e.map(function(t){return If(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof cl)e=t.version;else{if(!(t instanceof ll))throw tc();e=Ic.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new lc(cc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?dh.updateTime(e):dh.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Ic.min()))throw new lc(cc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dh.updateTime(e)}return dh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Gy=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new _m(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object($u.b)(t,void 0,void 0,function(){var t,e,n=this;return Object($u.d)(this,function(r){return t=new By(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!zc(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Nh(e)}return!1},t}(),Ky=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=vc.UNAUTHENTICATED,this.clientId=ic.t(),this._f=function(){},this.N=new qf,this.credentials.S(function(t){Qu("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new lc(cc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new qf;return this.fs.Tf(function(){return Object($u.b)(t,void 0,void 0,function(){var t,n;return Object($u.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=td(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function $y(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r,i=this;return Object($u.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),Qu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.vo(function(){return Object($u.b)(i,void 0,void 0,function(){return Object($u.d)(this,function(t){switch(t.label){case 0:return[4,Pp(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Vo(function(){return t.terminate()}),t.mf=e,[2]}})})}function Xy(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r;return Object($u.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Wy(t)];case 1:return n=i.sent(),Qu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.vo(function(){return function(t,e){return Object($u.b)(this,void 0,void 0,function(){var n,r;return Object($u.d)(this,function(i){switch(i.label){case 0:return(n=nc(t)).fs.Af(),Qu("RemoteStore","RemoteStore received new credentials"),r=Lm(n),n.Fh.add(3),[4,jm(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,xm(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Wy(t){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Qu("FirestoreClient","Using default OfflineComponentProvider"),[4,$y(t,new Kg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Qy(t){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Qu("FirestoreClient","Using default OnlineComponentProvider"),[4,Xy(t,new Wg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Jy(t){return Wy(t).then(function(t){return t.persistence})}function Zy(t){return Wy(t).then(function(t){return t.Sh})}function Yy(t){return Qy(t).then(function(t){return t.gl})}function tv(t){return Qy(t).then(function(t){return t.fa})}function ev(t){return Object($u.b)(this,void 0,void 0,function(){var e,n;return Object($u.d)(this,function(r){switch(r.label){case 0:return[4,Qy(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=mg.bind(null,e.fa),n.Jh=yg.bind(null,e.fa),n)]}})})}function nv(t,e,n){var r=this;void 0===n&&(n={});var i=new qf;return t.fs.ys(function(){return Object($u.b)(r,void 0,void 0,function(){var r;return Object($u.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Qg({next:function(s){e.ys(function(){return ng(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new lc(cc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new lc(cc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new og(Rl(n.path),s,{includeMetadataChanges:!0,sl:!0});return eg(t,o)},[4,ev(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}function rv(t,e,n){var r=this;void 0===n&&(n={});var i=new qf;return t.fs.ys(function(){return Object($u.b)(r,void 0,void 0,function(){var r;return Object($u.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Qg({next:function(n){e.ys(function(){return ng(t,o)}),n.fromCache&&"server"===r.source?i.reject(new lc(cc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new og(n,s,{includeMetadataChanges:!0,sl:!0});return eg(t,o)},[4,ev(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}var iv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new _m(this,"async_queue_retry"),this.vf=function(){var e=bm();e&&Qu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=bm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=bm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object($u.b)(this,void 0,void 0,function(){var t,e=this;return Object($u.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Xf(t=n.sent()))throw t;return Qu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Ju("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Yf.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&tc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object($u.b)(this,void 0,void 0,function(){var t;return Object($u.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),sv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new iv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object($u.c)(e,t),e.prototype.b_=function(){return this.Lf||av(this),this.Lf.terminate()},e}(cy);function ov(t){return t.Lf||av(t),t.Lf.df(),t.Lf}function av(t){var e=t.p_(),n=function(t,e,n){return new gc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Ky(t.m_,t.Mf,n)}function uv(t,e,n){var r=this,i=new qf;return t.fs.enqueue(function(){return Object($u.b)(r,void 0,void 0,function(){var r;return Object($u.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,$y(t,n)];case 1:return s.sent(),[4,Xy(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===cc.FAILED_PRECONDITION||t.code===cc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cv(t){if(t.R_||t.P_)throw new lc(cc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lv=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Kc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mc(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Uc(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw tc()}},t.prototype.jf=function(t,e){var n=this,r={};return Pc(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new yy(Mc(t.latitude),Mc(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Hc(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(qc(t));default:return null}},t.prototype.Bf=function(t){var e=Fc(t);return new Tc(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=xc.ct(t);ec(Hf(n));var r=new yc(n.get(1),n.get(3)),i=new Ac(n.X(5));return r.isEqual(e)||Ju("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),hv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ly(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new fv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(dv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),fv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(hv);function dv(t,e){return"string"==typeof e?Hy(t,e):e instanceof fc?e._.d_:e.d_}function pv(t){if(Ll(t)&&0===t.Nt.length)throw new lc(cc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mv=function(){};function gv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object($u.c)(e,t),e.prototype.Yf=function(t){var e=Oy(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new lc(cc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Ov(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Sv(r,t,l[c]));a={arrayValue:{values:u}}}else a=Sv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ov(o,s),a=Ry(n,"where",o,"in"===s||"not-in"===s);var h=yl.create(i,s,a);return function(t,e){if(e.xt()){var n=Ml(t);if(null!==n&&!n.isEqual(e.field))throw new lc(cc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Fl(t);null!==r&&Tv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new lc(cc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new hy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Nl(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(mv),vv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object($u.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new lc(cc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new lc(cc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xl(e,n);return function(t,e){if(null===Fl(t)){var n=Ml(t);null!==n&&Tv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new hy(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Nl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(mv),bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object($u.c)(e,t),e.prototype.Yf=function(t){return new hy(t.firestore,t.v_,ql(t.C_,this.nd,this.sd))},e}(mv),wv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object($u.c)(e,t),e.prototype.Yf=function(t){var e=Ev(t,this.type,this.rd,this.od);return new hy(t.firestore,t.v_,function(t,e){return new Nl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(mv),_v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object($u.c)(e,t),e.prototype.Yf=function(t){var e=Ev(t,this.type,this.rd,this.od);return new hy(t.firestore,t.v_,function(t,e){return new Nl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(mv);function Ev(t,e,n,r){if(n[0]instanceof fc&&(n[0]=n[0]._),n[0]instanceof hv)return function(t,e,n,r,i){if(!r)throw new lc(cc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Vl(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(Yc(e,r.key));else{var c=r.field(u.field);if(Vc(c))throw new lc(cc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new lc(cc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Il(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Oy(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new lc(cc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ht()){if("string"!=typeof c)throw new lc(cc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ul(t)&&-1!==c.indexOf("/"))throw new lc(cc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(xc.ct(c));if(!Ac.Et(l))throw new lc(cc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ac(l);a.push(Yc(e,h))}else{var f=Ry(n,r,c);a.push(f)}}return new Il(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function Sv(t,e,n){if(n instanceof fc&&(n=n._),"string"==typeof n){if(""===n)throw new lc(cc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ul(e)&&-1!==n.indexOf("/"))throw new lc(cc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(xc.ct(n));if(!Ac.Et(r))throw new lc(cc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Yc(t,new Ac(r))}if(n instanceof ly)return Yc(t,n.S_);throw new lc(cc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+iy(n)+".")}function Ov(t,e){if(!Array.isArray(t)||0===t.length)throw new lc(cc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new lc(cc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Tv(t,e,n){if(!n.isEqual(e))throw new lc(cc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Iv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function Cv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var xv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object($u.c)(e,t),e.prototype.Uf=function(t){return new hc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ly(this.firestore,null,e)},e}(lv),jv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),kv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object($u.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Av(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(dv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(hv),Av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(kv),Nv=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new jv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Av(n.zf,n.Hf,r.key,r,new jv(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new lc(cc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Av(t.zf,t.Hf,e.doc.key,e.doc,new jv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Av(t.zf,t.Hf,e.doc.key,e.doc,new jv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Pv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function Pv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tc()}}function Rv(t,e){return t instanceof kv&&e instanceof kv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Nv&&e instanceof Nv&&t.zf===e.zf&&gy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Dv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object($u.c)(e,t),e.prototype.Uf=function(t){return new hc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ly(this.firestore,null,e)},e}(lv);function Lv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=sy(t,ly);var s=sy(t.firestore,sv),o=Oy(s);return e instanceof fc&&(e=e._),Mv(s,[("string"==typeof e||e instanceof Jg?Py(o,"updateDoc",t.S_,e,n,r):Ny(o,"updateDoc",t.S_,e)).F_(t.S_,dh.exists(!0))])}function Fv(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof fc&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Iv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Iv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ly)c=sy(t.firestore,sv),l=Rl(t.S_.path),u={next:function(e){i[a]&&i[a](Uv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=sy(t,hy);c=sy(d.firestore,sv),l=d.C_;var p=new Dv(c);u={next:function(t){i[a]&&i[a](new Nv(c,p,d,t))},error:i[a+1],complete:i[a+2]},pv(t.C_)}return function(t,e,n,r){var i=this,s=new Qg(r),o=new og(e,s,n);return t.fs.ys(function(){return Object($u.b)(i,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:return e=eg,[4,ev(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object($u.b)(i,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:return e=ng,[4,ev(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(ov(c),l,h,u)}function Mv(t,e){return function(t,e){var n=this,r=new qf;return t.fs.ys(function(){return Object($u.b)(n,void 0,void 0,function(){var n;return Object($u.d)(this,function(i){switch(i.label){case 0:return n=vg,[4,tv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ov(t),e)}function Uv(t,e,n){var r=n.docs.get(e.S_),i=new Dv(t);return new kv(t,i,e.S_,r,new jv(n.hasPendingWrites,n.fromCache),e.v_)}var Vv=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Oy(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Hv(t,this.zf),i=Cv(r.v_,e,n),s=Ty(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.F_(r.S_,dh.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=Hv(t,this.zf);return e instanceof fc&&(e=e._),s="string"==typeof e||e instanceof Jg?Py(this.wd,"WriteBatch.update",o.S_,e,n,r):Ny(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,dh.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Hv(t,this.zf);return this.fd=this.fd.concat(new jh(e.S_,dh.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new lc(cc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Hv(t,e){if(t instanceof fc&&(t=t._),t.firestore!==e)throw new lc(cc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object($u.c)(e,t),e.prototype.get=function(e){var n=this,r=Hv(e,this.zf),i=new Dv(this.zf);return t.prototype.get.call(this,e).then(function(t){return new kv(n.zf,i,r.S_,t.Jf,new jv(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Oy(t)}return t.prototype.get=function(t){var e=this,n=Hv(t,this.zf),r=new xv(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return tc();var i=t[0];if(i instanceof ll)return new hv(e.zf,r,n.S_,null,n.v_);if(i instanceof cl)return new hv(e.zf,r,i.key,i,n.v_);throw tc()})},t.prototype.set=function(t,e,n){var r=Hv(t,this.zf),i=Cv(r.v_,e,n),s=Ty(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Hv(t,this.zf);return e instanceof fc&&(e=e._),s="string"==typeof e||e instanceof Jg?Py(this.wd,"Transaction.update",o.S_,e,n,r):Ny(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=Hv(t,this.zf);return this.Td.delete(e.S_),this},t}()),zv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){cv(t=sy(t,sv));var n=ov(t),r=t.p_(),i=new Wg;return uv(n,i,new $g(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){cv(t=sy(t,sv));var e=ov(t),n=t.p_(),r=new Wg;return uv(e,r,new Xg(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new lc(cc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new qf;return t.Mf.Tf(function(){return Object($u.b)(e,void 0,void 0,function(){var e;return Object($u.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object($u.b)(this,void 0,void 0,function(){return Object($u.d)(this,function(e){switch(e.label){case 0:return Gf.Wn()?[4,Gf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Cp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),Bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof yc||(i.md=e),i}return Object($u.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&Zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object($u.b)(e,void 0,void 0,function(){var e,n;return Object($u.d)(this,function(r){switch(r.label){case 0:return[4,Jy(t)];case 1:return e=r.sent(),[4,Yy(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=nc(t);return e.Fh.delete(0),xm(e)}(n))]}})})})}(ov(sy(this._,sv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object($u.b)(e,void 0,void 0,function(){var e,n;return Object($u.d)(this,function(r){switch(r.label){case 0:return[4,Jy(t)];case 1:return e=r.sent(),[4,Yy(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object($u.b)(this,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:return(e=nc(t)).Fh.add(0),[4,jm(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(ov(sy(this._,sv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ey("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new qf;return t.fs.ys(function(){return Object($u.b)(e,void 0,void 0,function(){var e;return Object($u.d)(this,function(r){switch(r.label){case 0:return e=Og,[4,tv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ov(sy(this._,sv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Qg(e);return t.fs.ys(function(){return Object($u.b)(n,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){nc(t).jh.add(e),e.next()},[4,ev(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object($u.b)(n,void 0,void 0,function(){var e;return Object($u.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){nc(t).jh.delete(e)},[4,ev(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ov(t=sy(t,sv)),Iv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new lc(cc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new rb(this,dy(this._,t))}catch(t){throw Wv(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Xv(this,py(this._,t))}catch(t){throw Wv(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new tb(this,function(t,e){if(t=sy(t,cy),Yg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new lc(cc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new hy(t,null,function(t){return new Nl(xc.at(),t)}(e))}(this._,t))}catch(t){throw Wv(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new qf;return t.fs.ys(function(){return Object($u.b)(n,void 0,void 0,function(){var n;return Object($u.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Qy(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new Gy(t.fs,n,e,r).run(),[2]}})})}),r.promise}(ov(t),function(n){return e(new qv(t,n))})}(this._,function(n){return t(new Kv(e,n))})},e.prototype.batch=function(){var t=this;return ov(this._),new $v(new Vv(this._,function(e){return Mv(t._,e)}))},e.prototype.loadBundle=function(t){throw new lc(cc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new lc(cc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(fc),Gv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object($u.c)(e,t),e.prototype.Uf=function(t){return new mc(new hc(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Xv.Ad(e,this.firestore,null)},e}(lv),Kv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object($u.c)(e,t),e.prototype.get=function(t){var e=this,n=ib(t);return this._.get(n).then(function(t){return new Zv(e.zf,t)})},e.prototype.set=function(t,e,n){var r=ib(t);return n?(ty("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=ib(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object($u.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=ib(t);return this._.delete(e),this},e}(fc),$v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.set=function(t,e,n){var r=ib(t);return n?(ty("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=ib(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object($u.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=ib(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(fc),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Gv(e),r}return Object($u.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new lc(cc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new ly(n._,r,new Ac(t)))},e.Ad=function(t,n,r){return new e(n,new ly(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new rb(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new rb(this.firestore,dy(this._,t))}catch(t){throw Wv(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof fc&&(t=t._),t instanceof ly&&my(this._,t)},e.prototype.set=function(t,e){e=ty("DocumentReference.set",e);try{return function(t,e,n){t=sy(t,ly);var r=sy(t.firestore,sv),i=Cv(t.v_,e,n);return Mv(r,[Ty(Oy(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,dh.Wt())])}(this._,t,e)}catch(t){throw Wv(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Lv(this._,t):Lv.apply(void 0,Object($u.g)([this._,t,e],n))}catch(t){throw Wv(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Mv(sy((t=this._).firestore,sv),[new jh(t.S_,dh.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qv(e),i=Jv(e,function(e){return new Zv(t.firestore,new kv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return Fv(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=sy(t,ly);var e=sy(t.firestore,sv),n=ov(e),r=new Dv(e);return function(t,e){var n=this,r=new qf;return t.fs.ys(function(){return Object($u.b)(n,void 0,void 0,function(){var n;return Object($u.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i;return Object($u.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=nc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof cl?n.resolve(i):i instanceof ll?n.resolve(null):n.reject(new lc(cc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=td(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Zy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new kv(e,r,t.S_,n,new jv(n instanceof cl&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=sy(t,ly);var e=sy(t.firestore,sv);return nv(ov(e),t.S_,{source:"server"}).then(function(n){return Uv(e,t,n)})}(this._):function(t){t=sy(t,ly);var e=sy(t.firestore,sv);return nv(ov(e),t.S_).then(function(n){return Uv(e,t,n)})}(this._)).then(function(t){return new Zv(e.firestore,new kv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(fc);function Wv(t,e,n){return t.message=t.message.replace(e,n),t}function Qv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Iv(r))return r}return{}}function Jv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Iv(t[0])?t[0]:Iv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Zv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object($u.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Xv(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Rv(this._,t._)},e}(fc),Yv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Zv),tb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Gv(e),r}return Object($u.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,gv(this._,function(t,e,n){var r=e,i=dv("where",t);return new yv(i,r,n)}(t,n,r)))}catch(t){throw Wv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,gv(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=dv("orderBy",t);return new vv(r,n)}(t,n)))}catch(t){throw Wv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,gv(this._,function(t){return oy("limit",t),new bv("limit",t,"F")}(t)))}catch(t){throw Wv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,gv(this._,function(t){return oy("limitToLast",t),new bv("limitToLast",t,"L")}(t)))}catch(t){throw Wv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Wv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Wv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _v("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Wv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _v("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Wv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return gy(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=sy(t,hy);var e=sy(t.firestore,sv),n=ov(e),r=new Dv(e);return function(t,e){var n=this,r=new qf;return t.fs.ys(function(){return Object($u.b)(n,void 0,void 0,function(){var n;return Object($u.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object($u.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object($u.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Hp(t,e,!0)];case 1:return a=u.sent(),r=new hg(e,a.Pc),i=r.dl(a.documents),s=r.Ti(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=td(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Zy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Nv(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=sy(t,hy);var e=sy(t.firestore,sv),n=ov(e),r=new Dv(e);return rv(n,t.C_,{source:"server"}).then(function(n){return new Nv(e,r,t,n)})}(this._):function(t){t=sy(t,hy);var e=sy(t.firestore,sv),n=ov(e),r=new Dv(e);return pv(t.C_),rv(n,t.C_).then(function(n){return new Nv(e,r,t,n)})}(this._)).then(function(t){return new nb(e.firestore,new Nv(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qv(e),i=Jv(e,function(e){return new nb(t.firestore,new Nv(t.firestore._,t.Hf,t._,e.ud))});return Fv(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(fc),eb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object($u.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Yv(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(fc),nb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object($u.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new tb(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Yv(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new eb(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Yv(n.zf,r))})},e.prototype.isEqual=function(t){return Rv(this._,t._)},e}(fc),rb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object($u.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Xv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xv(this.firestore,void 0===t?py(this._):py(this._,t))}catch(t){throw Wv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=sy(t.firestore,sv),r=py(t),i=Cv(t.v_,e);return Mv(n,[Ty(Oy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,dh.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Xv(e.firestore,t)})},e.prototype.isEqual=function(t){return my(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(tb);function ib(t){return t instanceof fc&&(t=t._),sy(t,ly)}var sb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Jg.bind.apply(Jg,Object($u.g)([void 0],e))))||this}return Object($u.c)(e,t),e.documentId=function(){return new e(kc.lt().ot())},e.prototype.isEqual=function(t){return t instanceof fc&&(t=t._),t instanceof Jg&&this._.d_.isEqual(t.d_)},e}(fc),ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($u.c)(e,t),e.serverTimestamp=function(){var t=new xy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Iy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jy("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ky("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ay("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(fc);!function(){function t(){this.Pd={},this.yd=new qf,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var ab,ub=n("/6Yf"),cb={Firestore:Bv,GeoPoint:yy,Timestamp:Tc,Blob:mc,Transaction:Kv,WriteBatch:$v,DocumentReference:Xv,DocumentSnapshot:Zv,Query:tb,QueryDocumentSnapshot:Yv,QuerySnapshot:nb,CollectionReference:rb,FieldPath:sb,FieldValue:ob,setLogLevel:function(t){Xu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ub.a("firestore",function(t){return function(t,e){return new Bv(t,new sv(t,e),new zv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},cb)))})(ab=qi.a),ab.registerVersion("@firebase/firestore","2.1.1");var lb=n("VRyK"),hb=n("qgXg"),fb=n("Ylt2");class db extends jt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new pb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new kt.a;if(this.isStopped||this.hasError?s=ke.a.EMPTY:(this.observers.push(t),s=new fb.a(this,t)),r&&t.add(t=new Ui.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||hb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class pb{constructor(t,e){this.time=t,this.value=e}}function mb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new db(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function gb(t,e){return e?fe(()=>t,e):fe(()=>t)}var yb=n("tf+s");const vb=new r.q("angularfire2.auth.use-emulator"),bb=new r.q("angularfire2.auth.settings"),wb=new r.q("angularfire2.auth.tenant-id"),_b=new r.q("angularfire2.auth.langugage-code"),Eb=new r.q("angularfire2.auth.use-device-language"),Sb=new r.q("angularfire.auth.persistence");let Ob=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Vi.e(i),f=Object(Vi.i)(h),d=new jt.a,p=Object(Ct.a)(void 0).pipe(Object(Ui.b)(h.outsideAngular),fe(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object($t.a)(()=>Object(Vi.h)(t,i,e)),Object($t.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Vi.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),mb({bufferSize:1,refCount:!1}));if(K(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ct.a)(null);else{p.pipe(xe()).subscribe();const t=p.pipe(fe(t=>t.getRedirectResult().then(t=>t,()=>null)),f,mb({bufferSize:1,refCount:!1})),e=t=>new Mt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(fe(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(fe(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(gb(n),Object(yb.a)(h.outsideAngular),Object(Ui.b)(h.insideAngular)),this.user=t.pipe(gb(r),Object(yb.a)(h.outsideAngular),Object(Ui.b)(h.insideAngular)),this.idToken=this.user.pipe(fe(t=>t?Object(xt.a)(t.getIdToken()):Object(Ct.a)(null))),this.idTokenResult=this.user.pipe(fe(t=>t?Object(xt.a)(t.getIdTokenResult()):Object(Ct.a)(null))),this.credential=Object(lb.a)(t,d,this.authState.pipe(Qt(t=>!t))).pipe(Object($t.a)(t=>(null==t?void 0:t.user)?t:null),Object(yb.a)(h.outsideAngular),Object(Ui.b)(h.insideAngular))}return Object(Vi.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Vi.c),r.Xb(Vi.b,8),r.Xb(r.B),r.Xb(r.z),r.Xb(vb,8),r.Xb(bb,8),r.Xb(wb,8),r.Xb(_b,8),r.Xb(Eb,8),r.Xb(Sb,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(Vi.c),Object(r.Xb)(Vi.b,8),Object(r.Xb)(r.B),Object(r.Xb)(r.z),Object(r.Xb)(vb,8),Object(r.Xb)(bb,8),Object(r.Xb)(wb,8),Object(r.Xb)(_b,8),Object(r.Xb)(Eb,8),Object(r.Xb)(Sb,8))},token:t,providedIn:"any"}),t})();function Tb(t,e){return function(t,e=Ni.b){return new Mt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Ib(t,e){return Tb(t,e).pipe(Object($t.a)(t=>({payload:t,type:"query"})))}function Cb(t,e){return Ib(t,e).pipe(be(void 0),Pi(),Object($t.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function xb(t,e,n){return Cb(t,n).pipe(we((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return jb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return jb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Li(),Object($t.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function jb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function kb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Vi.f)(Ob,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Ab{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Cb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object($t.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(be(void 0),Pi(),Qt(([t,e])=>e.length>0||!t),Object($t.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(we((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=kb(t);return xb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ib(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(xt.a)(this.query.get(t)).pipe(Object(Ui.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Nb(this.ref.doc(t),this.afs)}}class Nb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Mb(n,e);return new Ab(r,i,this.afs)}snapshotChanges(){return Tb(this.ref,this.afs.schedulers.outsideAngular).pipe(be(void 0),Pi(),Object($t.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object($t.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(xt.a)(this.ref.get(t)).pipe(Object(Ui.b)(this.afs.schedulers.insideAngular))}}class Pb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Cb(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Qt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Cb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(we((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=kb(t);return xb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ib(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(xt.a)(this.query.get(t)).pipe(Object(Ui.b)(this.afs.schedulers.insideAngular))}}const Rb=new r.q("angularfire2.enableFirestorePersistence"),Db=new r.q("angularfire2.firestore.persistenceSettings"),Lb=new r.q("angularfire2.firestore.settings"),Fb=new r.q("angularfire2.firestore.use-emulator");function Mb(t,e=(t=>t)){return{query:e(t),ref:t}}let Ub=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Vi.e(s),this.keepUnstableUntilFirst=Object(Vi.i)(this.schedulers);const c=Object(Vi.h)(t,s,e);!Hi.a.auth&&u&&Object(Vi.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Vi.g)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!K(i)){const e=()=>{try{return Object(xt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(ab){return"undefined"!=typeof console&&console.warn(ab),Object(Ct.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ct.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Mb(n,e),s=this.schedulers.ngZone.run(()=>r);return new Ab(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Pb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Nb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Vi.c),r.Xb(Vi.b,8),r.Xb(Rb,8),r.Xb(Lb,8),r.Xb(r.B),r.Xb(r.z),r.Xb(Db,8),r.Xb(Fb,8),r.Xb(vb,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(Vi.c),Object(r.Xb)(Vi.b,8),Object(r.Xb)(Rb,8),Object(r.Xb)(Lb,8),Object(r.Xb)(r.B),Object(r.Xb)(r.z),Object(r.Xb)(Db,8),Object(r.Xb)(Fb,8),Object(r.Xb)(vb,8))},token:t,providedIn:"any"}),t})(),Vb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Rb,useValue:!0},{provide:Db,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Ub]}),t})(),Hb=(()=>{class t{constructor(t,e){this.firestore=t,this.auth=e,this.scores=this.firestore.collection("score")}login(){this.auth.signInAnonymously()}createScore(t){this.scores.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Ub),r.Xb(Ob))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qb=n("n6bG");function zb(t,e,n,r){return Object(qb.a)(n)&&(r=n,n=void 0),r?zb(t,e,n).pipe(Object($t.a)(t=>Object(Pt.a)(t)?r(...t):r(t))):new Mt.a(r=>{Bb(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Bb(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Bb(t[s],e,n,r,i)}r.add(s)}var Gb=n("Y7HM");function Kb(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function $b(...t){if(1===t.length){if(!Object(Pt.a)(t[0]))return t[0];t=t[0]}return Object(Vt.a)(t,void 0).lift(new Xb)}class Xb{call(t,e){return e.subscribe(new Wb(t))}}class Wb extends Dt{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Ut(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var Qb=n("KqfI");const Jb=new Mt.a(Qb.a);var Zb=n("Lhse");function Yb(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(Vt.a)(t,void 0).lift(new tw(e))}class tw{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ew(t,this.resultSelector))}}class ew extends Rt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(Pt.a)(t)?e.push(new rw(t)):e.push("function"==typeof t[Zb.a]?new nw(t[Zb.a]()):new iw(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class nw{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class rw{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Zb.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class iw extends he.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Zb.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(he.c)(this.observable,new he.a(this))}}function sw(t){return e=>e.lift(new ow(t))}class ow{constructor(t){this.notifier=t}call(t,e){const n=new aw(t),r=Object(he.c)(this.notifier,new he.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class aw extends he.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function uw(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new cw(t,n))}}class cw{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new lw(t,this.observables,this.project))}}class lw extends Dt{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Ut(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var hw=n("WMd4");function fw(t,e=Ni.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new dw(r,e))}class dw{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new pw(t,this.delay,this.scheduler))}}class pw extends Rt.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(pw.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new mw(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(hw.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(hw.a.createComplete()),this.unsubscribe()}}class mw{constructor(t,e){this.time=t,this.notification=e}}var gw=n("w1tV");n("XoHu");let yw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),vw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),bw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[yw],imports:[vw]}),t})();const ww=["*"],_w=["dialog"];function Ew(t){return null!=t}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Sw={animation:!0,transitionTimerDelayMs:5};let Ow=(()=>{class t{constructor(){this.animation=Sw.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Tw=()=>{},{transitionTimerDelayMs:Iw}=Sw,Cw=new Map,xw=(t,e,n)=>{let r=n.context||{};const i=Cw.get(t);if(i)switch(n.runningTransition){case"continue":return Gt.a;case"stop":i.transition$.complete(),r=Object.assign(i.context,r),Cw.delete(t)}!function(t){t||document}(t);const s=e(t,r)||Tw;if(!n.animation||"none"===window.getComputedStyle(t).transitionProperty)return s(),Object(Ct.a)(void 0);const o=new jt.a,a=o.pipe(function(...t){return e=>ve(e,Object(Ct.a)(...t))}(!0));Cw.set(t,{transition$:o,context:r});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(t),c=zb(t,"transitionend").pipe(sw(a),Qt(({target:e})=>e===t));return $b(function(t=0,e,n){let r=-1;return Object(Gb.a)(e)?r=Number(e)<1?1:Number(e):Object(Nt.a)(e)&&(n=e),Object(Nt.a)(n)||(n=Ni.a),new Mt.a(e=>{const i=Object(Gb.a)(t)?t:+t-n.now();return n.schedule(Kb,i,{index:0,period:r,subscriber:e})})}(u+Iw).pipe(sw(a)),c).pipe(sw(a)).subscribe(()=>{Cw.delete(t),s(),o.next(),o.complete()}),o.asObservable()};let jw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),kw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),Aw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Nw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),Pw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();var Rw=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const Dw=(t,e)=>!!e&&e.some(e=>e.contains(t)),Lw=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),Fw="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Mw=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Uw(t){const e=Array.from(t.querySelectorAll(Mw)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const Vw=/\s+/,Hw=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=o.top-(e.offsetHeight+u+c);break;case"bottom":f=o.top+o.height;break;case"left":d=o.left-(e.offsetWidth+l+h);break;case"right":d=o.left+o.width}switch(s){case"top":f=o.top;break;case"bottom":f=o.top+o.height-e.offsetHeight;break;case"left":d=o.left;break;case"right":d=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=o.left+o.width/2-e.offsetWidth/2:f=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=g}};new Date(1882,10,12),new Date(2174,10,25);let qw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B,bw]]}),t})(),zw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Bw=(()=>{class t{constructor(t){this.backdrop=!0,this.keyboard=!0,this.animation=t.animation}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Ow))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(Ow))},token:t,providedIn:"root"}),t})();class Gw{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class Kw{constructor(t,e,n,r,i,s,o){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=r,this._ngZone=i,this._componentFactoryResolver=s,this._applicationRef=o,this._windowRef=null,this._contentRef=null}open(t,e,n=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));const{nativeElement:r}=this._windowRef.location,i=this._ngZone.onStable.asObservable().pipe(me(1)).pipe(Object(Ie.a)(()=>this._ngZone.run(()=>xw(r,({classList:t})=>t.add("show"),{animation:n,runningTransition:"continue"}))));return{windowRef:this._windowRef,transition$:i}}close(t=!1){return this._windowRef?xw(this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:t,runningTransition:"stop"}).pipe(Object(je.a)(()=>{var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Object(Ct.a)(void 0)}_getContentRef(t,e){if(t){if(t instanceof r.K){const n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new Gw([n.rootNodes],n)}return new Gw([[this._renderer.createText(""+t)]])}return new Gw([])}}const $w=()=>{};let Xw=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):$w}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(a))},token:t,providedIn:"root"}),t})(),Ww=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(me(1)).subscribe(()=>{xw(this._el.nativeElement,({classList:t})=>t.add("show"),{animation:this.animation,runningTransition:"continue"})})}hide(){return xw(this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Ab("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Cb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Qw{close(t){}dismiss(t){}}class Jw{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new jt.a,this._dismissed=new jt.a,this._hidden=new jt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(sw(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(sw(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Ct.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Yb(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Zw=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Yw=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new jt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new jt.a,this.hidden=new jt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Yb(xw(t,()=>t.classList.remove("show"),e),xw(this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"continue"};Yb(xw(t,()=>t.classList.add("show"),e),xw(this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{zb(t,"keydown").pipe(sw(this._closed$),Qt(t=>t.which===Rw.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Zw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;zb(this._dialogEl.nativeElement,"mousedown").pipe(sw(this._closed$),Object(je.a)(()=>e=!1),fe(()=>zb(t,"mouseup").pipe(sw(this._closed$),me(1))),Qt(({target:e})=>t===e)).subscribe(()=>{e=!0}),zb(t,"click").pipe(sw(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Zw.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Uw(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&xw(this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(a),r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.wc(_w,!0),2&t&&r.pc(n=r.bc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.zb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Ab("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Cb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ww,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.hc(),r.Pb(0,"div",0,1),r.Pb(2,"div",2),r.gc(3),r.Ob(),r.Ob()),2&t&&r.Ab("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),t_=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new jt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=zb(e,"focusin").pipe(sw(n),Object($t.a)(t=>t.target));zb(e,"keydown").pipe(sw(n),Qt(t=>t.which===Rw.Tab),uw(t)).subscribe(([t,n])=>{const[r,i]=Uw(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&zb(e,"click").pipe(sw(n),uw(t),Object($t.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Ew(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new Qw,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new Jw(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(o,o),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Ww).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Yw).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Ew(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Ew(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.K?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new Gw([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Gw([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new Gw([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.r.create({providers:[{provide:Qw,useValue:i}],parent:e}),u=o.create(a),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Gw([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.g),r.Xb(r.r),r.Xb(a),r.Xb(Xw),r.Xb(r.E),r.Xb(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(r.g),Object(r.Xb)(r.o),Object(r.Xb)(a),Object(r.Xb)(Xw),Object(r.Xb)(r.E),Object(r.Xb)(r.z))},token:t,providedIn:"root"}),t})(),e_=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.j),r.Xb(r.r),r.Xb(t_),r.Xb(Bw))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(r.j),Object(r.Xb)(r.o),Object(r.Xb)(t_),Object(r.Xb)(Bw))},token:t,providedIn:"root"}),t})(),n_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[e_]}),t})(),r_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),i_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})();class s_{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const o_={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},a_=t=>t>0?fw(t):t=>t;let u_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),c_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),l_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),h_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),f_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})(),d_=(()=>{class t{constructor(t){this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0,this.animation=t.animation}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Ow))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(Ow))},token:t,providedIn:"root"}),t})(),p_=0,m_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Sb("id",e.id),r.Ab("tooltip"+(e.tooltipClass?" "+e.tooltipClass:"")),r.Cb("fade",e.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:ww,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(r.hc(),r.Lb(0,"div",0),r.Pb(1,"div",1),r.gc(2),r.Ob())},styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{bottom:.4rem;top:auto}"],encapsulation:2,changeDetection:0}),t})(),g_=(()=>{class t{constructor(t,e,n,i,s,o,a,u,c,l){this._elementRef=t,this._renderer=e,this._ngZone=a,this._document=u,this._changeDetector=c,this.shown=new r.n,this.hidden=new r.n,this._ngbTooltipWindowId="ngb-tooltip-"+p_++,this._windowRef=null,this.animation=o.animation,this.autoClose=o.autoClose,this.placement=o.placement,this.triggers=o.triggers,this.container=o.container,this.disableTooltip=o.disableTooltip,this.tooltipClass=o.tooltipClass,this.openDelay=o.openDelay,this.closeDelay=o.closeDelay,this._popupService=new Kw(m_,n,s,e,this._ngZone,i,l),this._zoneSubscription=a.onStable.subscribe(()=>{this._windowRef&&function(t,e,n,r,i){let s=Array.isArray(n)?n:n.split(Vw);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,u=t=>{const[e,n]=t.split("-"),r=[];return r.push("bs-tooltip-"+e),n&&r.push(`bs-tooltip-${e}-${n}`),r.forEach(t=>{a.add(t)}),r};o.forEach(t=>{a.remove("bs-tooltip-"+t)});let c=s.findIndex(t=>"auto"===t);c>=0&&o.forEach(function(t){null==s.find(e=>-1!==e.search("^"+t))&&s.splice(c++,1,t)});const l=e.style;l.position="absolute",l.top="0",l.left="0",l["will-change"]="transform";let h=null,f=!1;for(h of s){let n=u(h);if(Hw.positionElements(t,e,h,r)){f=!0;break}n.forEach(t=>{a.remove(t)})}f||(h=s[0],u(h),Hw.positionElements(t,e,h,r))}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:e,transition$:n}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=e,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(t,e,n,r,i,s,o,a){var u;n&&t.runOutsideAngular((u=()=>{const u=zb(e,"keydown").pipe(sw(i),Qt(t=>t.which===Rw.Escape),Object(je.a)(t=>t.preventDefault())),c=zb(e,"mousedown").pipe(Object($t.a)(t=>{const e=t.target;return 2!==t.button&&!Dw(e,o)&&("inside"===n?Dw(e,s)&&Lw(e,a):"outside"===n?!Dw(e,s):Lw(e,a)||!Dw(e,s))}),sw(i)),l=zb(e,"mouseup").pipe(uw(c),Qt(([t,e])=>e),fw(0),sw(i));$b([u.pipe(Object($t.a)(t=>0)),l.pipe(Object($t.a)(t=>1))]).subscribe(e=>t.run(()=>r(e)))},Fw?()=>setTimeout(()=>u(),100):u))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),n.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(t,e,n,r,i,s,o=0,a=0){const u=function(t,e=o_){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{let n=e[t[0]]||t;return new s_(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===u.length&&u[0].isManual())return()=>{};const c=function(t,e,n,r){return new Mt.a(i=>{const s=[],o=()=>i.next(!0),a=()=>i.next(!1),u=()=>i.next(!r());return n.forEach(n=>{n.open===n.close?s.push(t.listen(e,n.open,u)):s.push(t.listen(e,n.open,o),t.listen(e,n.close,a))}),()=>{s.forEach(t=>t())}})}(t,e,u,r).pipe(function(t,e,n){return r=>{let i=null;const s=r.pipe(Object($t.a)(t=>({open:t})),Qt(t=>{const e=n();return e===t.open||i&&i.open!==e?(i&&i.open!==t.open&&(i=null),!1):(i=t,!0)}),Object(gw.a)()),o=s.pipe(Qt(t=>t.open),a_(t)),a=s.pipe(Qt(t=>!t.open),a_(e));return Object(lb.a)(o,a).pipe(Qt(t=>t===i&&(i=null,t.open!==n())),Object($t.a)(t=>t.open))}}(o,a,r)).subscribe(t=>t?i():s());return()=>c.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.D),r.Kb(r.r),r.Kb(r.j),r.Kb(r.P),r.Kb(d_),r.Kb(r.z),r.Kb(a),r.Kb(r.h),r.Kb(r.g))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[r.wb]}),t})(),y_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();new r.q("live announcer delay",{providedIn:"root",factory:function(){return 100}});let v_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[B]]}),t})();const b_=[jw,kw,Aw,Nw,Pw,qw,zw,n_,r_,i_,u_,c_,l_,h_,f_,y_,v_];let w_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[b_,jw,kw,Aw,Nw,Pw,qw,zw,n_,r_,i_,u_,c_,l_,h_,f_,y_,v_]}),t})();const __=function(){return["/HideAndReveal"]},E_=function(t){return["/HideAndReveal",t]};let S_=(()=>{class t{constructor(){this.min=0,this.sec=0,this.totalSec=0,this.counter=0,this.resetEvent=new r.n}ngOnInit(){this.timer=setInterval(()=>{++this.totalSec,this.sec=this.totalSec%60,this.min=Math.floor(this.totalSec/60)},1e3)}iceTime(){}reset(){this.resetEvent.emit(null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-navbar"]],inputs:{levelsURL:"levelsURL"},outputs:{resetEvent:"resetEvent"},decls:14,vars:13,consts:[["id","nav",1,"d-flex","justify-content-around","align-items-center"],["placement","bottom","ngbTooltip","Quit",1,"nav-item","clickable"],[3,"routerLink"],["src","assets/img/close.svg",1,"svg"],["placement","bottom","ngbTooltip","Reset",1,"nav-item","clickable",3,"click"],["src","assets/img/reset.svg",1,"svg"],["placement","bottom","ngbTooltip","Levels",1,"nav-item","clickable"],["src","assets/img/levels.svg",1,"svg"],["placement","bottom","ngbTooltip","Timer",1,"nav-item",2,"min-width","20%",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"a",2),r.Lb(3,"img",3),r.Ob(),r.Ob(),r.Pb(4,"div",4),r.ac("click",function(){return e.reset()}),r.Lb(5,"img",5),r.Ob(),r.Pb(6,"div",6),r.Pb(7,"a",2),r.Lb(8,"img",7),r.Ob(),r.Ob(),r.Pb(9,"div",8),r.ac("click",function(){return e.iceTime()}),r.Pb(10,"span"),r.Ac(11),r.dc(12,"number"),r.dc(13,"number"),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.yb(2),r.ic("routerLink",r.lc(10,__)),r.yb(5),r.ic("routerLink",r.mc(11,E_,e.levelsURL)),r.yb(4),r.Dc("",r.fc(12,4,e.min,"2.0"),":",r.fc(13,7,e.sec,"2.0"),""))},directives:[g_,ai],pipes:[z],styles:["#nav[_ngcontent-%COMP%]{margin-bottom:2.5%;background-color:#8f7962}.svg[_ngcontent-%COMP%]{height:4vh}.nav-item[_ngcontent-%COMP%]{padding:.5rem 1rem}.icon[_ngcontent-%COMP%]{width:15%}.clickable[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function O_(t,e){1&t&&r.Lb(0,"img",2),2&t&&r.kc("src","assets/img/",e.$implicit,".svg",r.tc)}let T_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-challenge"]],inputs:{challengeIcons:"challengeIcons",levelNumber:"levelNumber"},decls:2,vars:2,consts:[["placement","bottom",1,"d-flex","justify-content-around","m-1",3,"ngbTooltip"],["class","item",3,"src",4,"ngFor","ngForOf"],[1,"item",3,"src"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.yc(1,O_,1,1,"img",1),r.Ob()),2&t&&(r.kc("ngbTooltip","challenge ",e.levelNumber,""),r.yb(1),r.ic("ngForOf",e.challengeIcons))},directives:[g_,M],styles:["img[_ngcontent-%COMP%]{height:7vh}.item[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}"]}),t})();const I_=["nav"],C_=["piece"],x_=["piecePlace"];let j_=(()=>{class t{constructor(t,e,n,r){this.aRoute=t,this.route=e,this.db=n,this.renderer=r,this.activePiece=null,this.angle=[0,0,0,0],this.angleCounter=0,this.postion=[-1,-1,-1,-1],this.postionCounter=0}ngOnInit(){this.levelNumber=Number(this.aRoute.snapshot.params.level),this.level=this.aRoute.snapshot.data.level,this.challengeIcons=this.level.challenge,this.parentURL=this.aRoute.snapshot.url[1].path,this.route.routeReuseStrategy.shouldReuseRoute=()=>!1}pieceClicked(t){this.activePiece==t.target?(3==this.activePiece.id?this.angle[3]=(this.angle[3]+1)%2:this.angle[this.activePiece.id]=(this.angle[this.activePiece.id]+1)%4,this.activePiece.style.transform="rotate("+90*this.angle[this.activePiece.id]+"deg)",this.angleCounter++):(this.activePiece&&this.activePiece.classList.remove("active"),this.activePiece=t.target,this.activePiece.classList.add("active"))}boardClicked(t){this.activePiece&&(this.renderer.appendChild(t.currentTarget,this.activePiece),this.postion[this.activePiece.id]=Number(t.currentTarget.id),this.postionCounter++,this.winDelay&&clearTimeout(this.winDelay),this.isSolved()&&(this.winDelay=setTimeout(()=>{alert("\u0645\u0628\u0631\u0648\u0643 \u0627\u0644\u0641\u0648\u0632!"),this.levelNumber+1>Number(localStorage.getItem(this.parentURL))&&(localStorage.setItem(this.parentURL,String(this.levelNumber+1)),this.db.createScore({level:this.levelNumber,seconds:this.getTime(),difficalty:0,url:this.parentURL,angCounter:this.angleCounter,posCounter:this.postionCounter})),this.route.navigate(["/HideAndReveal",this.parentURL,this.levelNumber+1]),this.ngOnInit()},500)))}piecePlaceClicked(t){this.renderer.appendChild(t.currentTarget,this.activePiece),this.postion[this.activePiece.id]=-1}isSolved(){return JSON.stringify(this.angle)==JSON.stringify(this.level.ang)&&JSON.stringify(this.postion)==JSON.stringify(this.level.pos)}getTime(){return this.nav.totalSec}reset(t){const e=this.picesPlace.toArray();this.pices.forEach((t,n)=>{this.renderer.appendChild(e[n].nativeElement,t.nativeElement)}),this.postion=[-1,-1,-1,-1]}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Vn),r.Kb(si),r.Kb(Hb),r.Kb(r.D))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-game"]],viewQuery:function(t,e){var n;1&t&&(r.Ec(I_,!0),r.Ec(C_,!0),r.Ec(x_,!0)),2&t&&(r.pc(n=r.bc())&&(e.nav=n.first),r.pc(n=r.bc())&&(e.pices=n),r.pc(n=r.bc())&&(e.picesPlace=n))},decls:30,vars:3,consts:[[1,"container"],[3,"levelsURL","resetEvent"],["nav",""],[3,"challengeIcons","levelNumber"],["id","boardContainer",1,"flex-container"],["id","0",1,"board",3,"click"],["src","assets/img/UpperLeft.svg"],["id","1",1,"board",3,"click"],["src","assets/img/UpperRight.svg"],["id","2",1,"board",3,"click"],["src","assets/img/BottomLeft.svg"],["id","3",1,"board",3,"click"],["src","assets/img/BottomRight.svg"],[1,"flex-container"],[1,"piece-place",3,"click"],["piecePlace",""],["id","0","src","assets/img/Piece1.svg",1,"piece",3,"click"],["piece",""],["id","1","src","assets/img/Piece2.svg",1,"piece",3,"click"],["id","2","src","assets/img/Piece3.svg",1,"piece",3,"click"],["id","3","src","assets/img/Piece4.svg",1,"piece",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"app-navbar",1,2),r.ac("resetEvent",function(t){return e.reset(t)}),r.Ob(),r.Lb(3,"app-challenge",3),r.Pb(4,"div",4),r.Pb(5,"div",5),r.ac("click",function(t){return e.boardClicked(t)}),r.Lb(6,"img",6),r.Ob(),r.Pb(7,"div",7),r.ac("click",function(t){return e.boardClicked(t)}),r.Lb(8,"img",8),r.Ob(),r.Pb(9,"div",9),r.ac("click",function(t){return e.boardClicked(t)}),r.Lb(10,"img",10),r.Ob(),r.Pb(11,"div",11),r.ac("click",function(t){return e.boardClicked(t)}),r.Lb(12,"img",12),r.Ob(),r.Ob(),r.Pb(13,"div",13),r.Pb(14,"div",14,15),r.ac("click",function(t){return e.piecePlaceClicked(t)}),r.Pb(16,"img",16,17),r.ac("click",function(t){return e.pieceClicked(t)}),r.Ob(),r.Ob(),r.Pb(18,"div",14,15),r.ac("click",function(t){return e.piecePlaceClicked(t)}),r.Pb(20,"img",18,17),r.ac("click",function(t){return e.pieceClicked(t)}),r.Ob(),r.Ob(),r.Pb(22,"div",14,15),r.ac("click",function(t){return e.piecePlaceClicked(t)}),r.Pb(24,"img",19,17),r.ac("click",function(t){return e.pieceClicked(t)}),r.Ob(),r.Ob(),r.Pb(26,"div",14,15),r.ac("click",function(t){return e.piecePlaceClicked(t)}),r.Pb(28,"img",20,17),r.ac("click",function(t){return e.pieceClicked(t)}),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.yb(1),r.ic("levelsURL",e.parentURL),r.yb(2),r.ic("challengeIcons",e.challengeIcons)("levelNumber",e.levelNumber))},directives:[S_,T_],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#d8b38b;color:#fff}.container[_ngcontent-%COMP%]{width:min(100%,61vh);height:100%;padding:0}.board[_ngcontent-%COMP%]{position:relative;width:50%;padding:5px}.piece[_ngcontent-%COMP%]{position:absolute;filter:drop-shadow(0 0 1px black);z-index:1;width:100%;padding:5px;top:0;left:0}.active[_ngcontent-%COMP%]{filter:drop-shadow(0 0 3px green)}.piece-place[_ngcontent-%COMP%]{background:#8f7962;position:relative;width:25%;padding-top:25%;border:1px solid #f2d0a7;border-radius:1.5em;margin-top:2.5%}.icon[_ngcontent-%COMP%]{width:15%}.flex-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.svg[_ngcontent-%COMP%]{width:100%}.nav-item[_ngcontent-%COMP%]{padding:.5rem 1rem}.overlay[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:2;left:0;top:0;background-color:rgba(0,0,0,.9);transition:.5s}#nav[_ngcontent-%COMP%]{margin-bottom:2.5%}#nav[_ngcontent-%COMP%], #win[_ngcontent-%COMP%]{background-color:#8f7962}#win[_ngcontent-%COMP%]{display:none;position:fixed;text-align:center;width:min(100%,61vh);z-index:3;border-radius:2em}#boardContainer[_ngcontent-%COMP%]{background-color:#8f7962;border-radius:2.5%}.btns[_ngcontent-%COMP%]{background-color:#9b7564;margin-bottom:2%;font-size:1.3em;color:#fff;width:60%}.btns[_ngcontent-%COMP%]:hover{background-color:#403121}.buttons[_ngcontent-%COMP%]{color:#fff}"]}),t})(),k_=(()=>{class t{constructor(){this.levels=[{i:1,pos:[0,3,2,1],ang:[1,2,1,1],challenge:["camel","camel","camel","camel","camel"]},{i:2,pos:[2,0,3,1],ang:[1,1,2,0],challenge:["tent","tent","wolf","wolf"]},{i:3,pos:[0,1,2,3],ang:[0,3,3,0],challenge:["man","man","man","tent"]},{i:4,pos:[2,0,1,3],ang:[1,2,3,0],challenge:["man","camel","wolf"]},{i:5,pos:[0,2,3,1],ang:[1,3,1,0],challenge:["camel","man","man","wolf","wolf","wolf","tent"]},{i:6,pos:[0,1,3,2],ang:[1,1,1,1],challenge:["man","man","man","wolf","camel","camel","camel"]},{i:7,pos:[2,1,3,0],ang:[1,3,3,1],challenge:["dlah","dlah","man","tent"]},{i:8,pos:[2,3,1,0],ang:[1,3,0,1],challenge:["dlah","tent","camel","tent","dlah"]},{i:9,pos:[2,1,3,0],ang:[2,2,0,1],challenge:["man","wolf","dlah","man","dlah","man","tent"]},{i:10,pos:[0,2,1,3],ang:[0,2,3,0],challenge:["wolf","wolf","tent","man"]}]}resolve(t){return this.levels[Number(t.params.level-1)]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A_=(()=>{class t{constructor(){this.levels=[{pos:[0,3,2,1],ang:[1,2,1,1],challenge:["camel","camel","camel","camel","camel"]},{pos:[0,2,1,3],ang:[0,2,3,0],challenge:["man","tent","wolf","wolf"]},{pos:[2,1,3,0],ang:[2,2,0,1],challenge:["dlah","dlah","man","man","man","tent","wolf"]},{pos:[3,0,1,2],ang:[1,1,0,0],challenge:["camel","tent","tent"]},{pos:[0,1,3,2],ang:[1,2,1,1],challenge:["camel","camel","man","man","man","wolf","wolf"]},{pos:[3,1,0,2],ang:[2,0,0,0],challenge:["camel","dlah","dlah","dlah","man","tent"]},{pos:[3,2,0,1],ang:[2,2,0,1],challenge:["camel","dlah","dlah","dlah","wolf"]},{pos:[0,1,2,3],ang:[0,3,3,0],challenge:["man","man","man","tent"]},{pos:[3,0,2,1],ang:[1,2,2,1],challenge:["camel","camel","camel"]},{pos:[1,2,0,3],ang:[1,3,0,1],challenge:["dlah","dlah","dlah","man","wolf","wolf","wolf"]},{pos:[0,3,2,1],ang:[1,0,1,1],challenge:["camel","camel","camel","camel","camel","man"]},{pos:[3,1,0,2],ang:[2,1,0,1],challenge:["camel","camel","dlah","dlah","dlah","man","man"]},{pos:[1,0,2,3],ang:[2,1,3,0],challenge:["man","man","tent"]},{pos:[0,2,1,3],ang:[0,3,3,0],challenge:["man","man","tent","wolf","wolf"]},{pos:[1,2,0,3],ang:[2,2,0,1],challenge:["dlah","dlah","dlah","wolf","wolf"]},{pos:[0,1,2,3],ang:[1,1,0,0],challenge:["camel","camel","camel","man","man","man"]},{pos:[2,1,0,3],ang:[1,0,0,1],challenge:["dlah","dlah","dlah","man","tent","wolf"]},{pos:[1,2,0,3],ang:[1,2,0,1],challenge:["dlah","dlah","dlah","wolf","wolf","wolf"]},{pos:[1,3,2,0],ang:[0,3,1,0],challenge:["camel","camel","camel","camel","camel","dlah","dlah"]},{pos:[1,3,0,2],ang:[0,3,0,1],challenge:["camel","camel","camel","dlah","dlah","dlah","man"]},{pos:[2,0,1,3],ang:[1,2,3,0],challenge:["camel","man","wolf"]},{pos:[3,1,0,2],ang:[0,2,2,1],challenge:["camel","camel","man","man","tent","wolf","wolf"]},{pos:[2,0,1,3],ang:[1,1,0,0],challenge:["man","tent","tent"]},{pos:[1,3,0,2],ang:[3,3,0,0],challenge:["camel","camel","dlah","dlah","dlah","tent"]},{pos:[2,1,0,3],ang:[2,0,0,1],challenge:["dlah","dlah","dlah","man","man","tent","wolf"]},{pos:[0,1,2,3],ang:[0,0,3,0],challenge:["man","man","man","tent","tent"]},{pos:[1,0,2,3],ang:[2,2,3,0],challenge:["camel","man","man"]},{pos:[2,0,3,1],ang:[1,1,2,0],challenge:["tent","tent","wolf","wolf"]},{pos:[2,0,3,1],ang:[2,1,1,0],challenge:["man","man","tent","tent","wolf","wolf"]},{pos:[0,1,2,3],ang:[1,2,3,0],challenge:["camel","man","man","man","wolf"]},{pos:[2,1,0,3],ang:[2,2,0,1],challenge:["dlah","dlah","dlah","man","man","wolf","wolf"]},{pos:[0,2,3,1],ang:[0,3,1,0],challenge:["man","man","tent","tent","wolf","wolf","wolf"]},{pos:[2,1,0,3],ang:[1,3,0,1],challenge:["dlah","dlah","dlah","man","wolf"]},{pos:[0,1,2,3],ang:[0,2,3,0],challenge:["man","man","man","tent","wolf"]},{pos:[1,3,2,0],ang:[0,1,1,0],challenge:["camel","camel","camel","camel","camel","dlah","wolf"]},{pos:[3,1,0,2],ang:[2,3,0,1],challenge:["camel","dlah","dlah","dlah","man","man"]},{pos:[0,1,3,2],ang:[0,2,1,1],challenge:["camel","man","man","man","tent","wolf","wolf"]},{pos:[3,2,0,1],ang:[0,3,1,0],challenge:["dlah","man","tent","tent","wolf","wolf","wolf"]},{pos:[2,1,0,3],ang:[2,2,0,0],challenge:["dlah","dlah","man","man","man","wolf"]},{pos:[2,0,1,3],ang:[1,1,3,0],challenge:["man","tent","wolf"]},{pos:[0,1,3,2],ang:[1,1,1,1],challenge:["camel","camel","camel","man","man","man","wolf"]},{pos:[2,1,0,3],ang:[2,3,0,0],challenge:["dlah","dlah","man","man","man"]},{pos:[3,1,0,2],ang:[2,0,0,1],challenge:["camel","dlah","dlah","dlah","man","man","tent"]},{pos:[2,1,3,0],ang:[1,3,3,1],challenge:["dlah","dlah","man","tent"]},{pos:[0,1,3,2],ang:[0,0,1,1],challenge:["camel","man","man","man","tent","tent","wolf"]},{pos:[0,3,1,2],ang:[1,1,2,1],challenge:["camel","camel","camel","camel","man","wolf","wolf"]},{pos:[0,1,2,3],ang:[1,3,3,0],challenge:["camel","man","man","man"]},{pos:[2,1,0,3],ang:[2,3,0,1],challenge:["dlah","dlah","dlah","man","man","wolf"]},{pos:[1,2,3,0],ang:[1,3,1,0],challenge:["camel","dlah","man","man","wolf","wolf","wolf"]},{pos:[0,3,1,2],ang:[1,0,2,1],challenge:["camel","camel","camel","camel","man","man","wolf"]},{pos:[0,2,3,1],ang:[0,2,2,0],challenge:["tent","tent","wolf","wolf","wolf"]},{pos:[1,3,2,0],ang:[0,0,1,0],challenge:["camel","camel","camel","camel","camel","dlah","man"]},{pos:[2,3,0,1],ang:[1,3,0,0],challenge:["camel","dlah","dlah","dlah","tent","wolf"]},{pos:[0,3,2,1],ang:[1,1,1,1],challenge:["camel","camel","camel","camel","camel","wolf"]},{pos:[3,1,0,2],ang:[3,1,2,1],challenge:["camel","camel","camel","man","man","man","tent"]},{pos:[2,1,3,0],ang:[1,0,3,1],challenge:["dlah","dlah","man","tent","tent"]},{pos:[2,1,3,0],ang:[2,0,0,1],challenge:["dlah","dlah","man","man","man","tent","tent"]},{pos:[0,2,3,1],ang:[1,2,2,0],challenge:["camel","tent","wolf","wolf","wolf"]},{pos:[1,3,0,2],ang:[3,3,0,1],challenge:["camel","camel","dlah","dlah","dlah","man","tent"]},{pos:[0,2,1,3],ang:[1,2,3,0],challenge:["camel","man","wolf","wolf"]},{pos:[0,3,2,1],ang:[1,1,1,0],challenge:["camel","camel","camel","camel","tent","wolf","wolf"]},{pos:[3,2,0,1],ang:[0,2,1,0],challenge:["dlah","tent","tent","wolf","wolf","wolf"]},{pos:[3,2,0,1],ang:[3,3,2,0],challenge:["camel","man","man","tent","tent","wolf","wolf"]},{pos:[2,3,1,0],ang:[1,3,0,1],challenge:["camel","dlah","dlah","tent","tent"]},{pos:[2,1,3,0],ang:[2,0,1,1],challenge:["dlah","man","man","man","tent","tent","wolf"]},{pos:[3,1,0,2],ang:[3,0,2,1],challenge:["camel","camel","man","man","man","tent","tent"]},{pos:[2,1,0,3],ang:[1,3,0,0],challenge:["dlah","dlah","man","man"]},{pos:[0,3,1,2],ang:[1,1,2,0],challenge:["camel","camel","camel","camel","wolf","wolf"]},{pos:[0,2,1,3],ang:[1,3,3,0],challenge:["camel","man","man","wolf","wolf"]},{pos:[0,2,3,1],ang:[1,3,1,0],challenge:["camel","man","man","tent","wolf","wolf","wolf"]},{pos:[2,1,3,0],ang:[2,2,1,1],challenge:["dlah","man","man","man","tent","wolf","wolf"]},{pos:[3,1,0,2],ang:[2,3,0,0],challenge:["camel","dlah","dlah","dlah","man"]}]}resolve(t){return this.levels[Number(t.params.level-1)]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const N_=function(t){return[t]};function P_(t,e){if(1&t&&(r.Pb(0,"div",4),r.Ac(1),r.Ob()),2&t){const t=e.index,n=r.cc();r.Cb("unlocked",n.unlockedLevels>=t+1),r.ic("routerLink",r.mc(4,N_,t+1)),r.yb(1),r.Cc("",t+1," ")}}let R_=(()=>{class t{constructor(t,e,n){this.lr=t,this.nlr=e,this.route=n}ngOnInit(){this.parentURL=this.route.snapshot.url[1].path,console.log(this.parentURL),this.unlockedLevels=Number(localStorage.getItem(this.parentURL))||1,this.levels="levels"==this.parentURL?this.lr.levels:this.nlr.levels}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(k_),r.Kb(A_),r.Kb(Vn))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-levels"]],decls:6,vars:1,consts:[[1,"container","p-0",2,"max-width","min(100%,75vh)","text-align","center"],[2,"margin-top","10px"],[1,"flex-container","d-flex"],["class"," flex-item",3,"routerLink","unlocked",4,"ngFor","ngForOf"],[1,"flex-item",3,"routerLink"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"h2"),r.Ac(3,"\u0627\u0644\u0645\u0631\u0627\u062d\u0644"),r.Ob(),r.Ob(),r.Pb(4,"div",2),r.yc(5,P_,2,6,"div",3),r.Ob(),r.Ob()),2&t&&(r.yb(5),r.ic("ngForOf",e.levels))},directives:[M,oi],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.flex-item[_ngcontent-%COMP%]{margin:1%;width:min(20vh,30vw);line-height:min(20vh,30vw);font-size:xx-large;font-weight:bolder;border-radius:5%;background-color:#9b7564}.unlocked[_ngcontent-%COMP%]{background-color:#5d463c;cursor:pointer}"]}),t})(),D_=(()=>{class t{constructor(){}canActivate(t){let e=Number(localStorage.getItem(t.url[1].path))||1;return t.params.level<=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const L_=[{path:"",redirectTo:"HideAndReveal"},{path:"HideAndReveal",component:Ai},{path:"HideAndReveal/levels",component:R_},{path:"HideAndReveal/levels/:level",component:j_,canActivate:[D_],resolve:{level:k_}},{path:"HideAndReveal/newLevels",component:R_},{path:"HideAndReveal/newLevels/:level",component:j_,canActivate:[D_],resolve:{level:A_}},{path:"**",redirectTo:"HideAndReveal"}];let F_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bi.forRoot(L_)],bi]}),t})(),M_=(()=>{class t{ngOnInit(){localStorage.getItem("level")&&localStorage.getItem("levels")<localStorage.getItem("level")&&localStorage.setItem("levels",localStorage.getItem("level"))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:[ci],styles:[""]}),t})();class U_{}class V_{}class H_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof H_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new H_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof H_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class q_{encodeKey(t){return z_(t)}encodeValue(t){return z_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function z_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class B_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new q_,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new B_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function G_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function K_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function $_(t){return"undefined"!=typeof FormData&&t instanceof FormData}class X_{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new H_),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new B_,this.urlWithParams=e}serializeBody(){return null===this.body?null:G_(this.body)||K_(this.body)||$_(this.body)||"string"==typeof this.body?this.body:this.body instanceof B_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$_(this.body)?null:K_(this.body)?this.body.type||null:G_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof B_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new X_(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var W_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Q_{constructor(t,e=200,n="OK"){this.headers=t.headers||new H_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class J_ extends Q_{constructor(t={}){super(t),this.type=W_.ResponseHeader}clone(t={}){return new J_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Z_ extends Q_{constructor(t={}){super(t),this.type=W_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Z_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Y_ extends Q_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function tE(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let eE=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof X_)r=t;else{let i=void 0;i=n.headers instanceof H_?n.headers:new H_(n.headers);let s=void 0;n.params&&(s=n.params instanceof B_?n.params:new B_({fromObject:n.params})),r=new X_(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ct.a)(r).pipe(Ce(t=>this.handler.handle(t)));if(t instanceof X_||"events"===n.observe)return i;const s=i.pipe(Qt(t=>t instanceof Z_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object($t.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new B_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,tE(n,e))}post(t,e,n={}){return this.request("POST",t,tE(n,e))}put(t,e,n={}){return this.request("PUT",t,tE(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(U_))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class nE{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const rE=new r.q("HTTP_INTERCEPTORS");let iE=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const sE=/^\)\]\}',?\n/;class oE{}let aE=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),uE=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Mt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new H_(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new J_({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(sE,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Z_({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Y_({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Y_({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:W_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:W_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:W_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(oE))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const cE=new r.q("XSRF_COOKIE_NAME"),lE=new r.q("XSRF_HEADER_NAME");class hE{}let fE=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=L(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a),r.Xb(r.B),r.Xb(cE))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),dE=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(hE),r.Xb(lE))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),pE=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(rE,[]);this.chain=t.reduceRight((t,e)=>new nE(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(V_),r.Xb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),mE=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:dE,useClass:iE}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:cE,useValue:e.cookieName}:[],e.headerName?{provide:lE,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[dE,{provide:rE,useExisting:dE,multi:!0},{provide:hE,useClass:fE},{provide:cE,useValue:"XSRF-TOKEN"},{provide:lE,useValue:"X-XSRF-TOKEN"}]}),t})(),gE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[eE,{provide:U_,useClass:pE},uE,{provide:V_,useExisting:uE},aE,{provide:oE,useExisting:aE}],imports:[[mE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),yE=(()=>{class t{constructor(t){this.http=t,this.url="./assets/js/oldLevels.json",this.levels=[{pos:[0,2,3,1],ang:[0,3,1,0],challenge:["man","man","tent","tent","wolf","wolf","wolf"]},{pos:[3,2,0,1],ang:[0,3,1,0],challenge:["dlah","man","tent","tent","wolf","wolf","wolf"]},{pos:[2,1,3,0],ang:[2,2,1,1],challenge:["dlah","man","man","man","tent","wolf","wolf"]},{pos:[2,1,3,0],ang:[2,0,1,1],challenge:["dlah","man","man","man","tent","tent","wolf"]},{pos:[2,1,3,0],ang:[2,2,0,1],challenge:["dlah","dlah","man","man","man","tent","wolf"]},{pos:[2,1,3,0],ang:[2,0,0,1],challenge:["dlah","dlah","man","man","man","tent","tent"]},{pos:[1,2,0,3],ang:[1,3,0,1],challenge:["dlah","dlah","dlah","man","wolf","wolf","wolf"]},{pos:[2,1,0,3],ang:[2,2,0,1],challenge:["dlah","dlah","dlah","man","man","wolf","wolf"]},{pos:[2,1,0,3],ang:[2,0,0,1],challenge:["dlah","dlah","dlah","man","man","tent","wolf"]},{pos:[0,2,3,1],ang:[1,3,1,0],challenge:["camel","man","man","tent","wolf","wolf","wolf"]},{pos:[3,2,0,1],ang:[3,3,2,0],challenge:["camel","man","man","tent","tent","wolf","wolf"]},{pos:[0,1,3,2],ang:[0,2,1,1],challenge:["camel","man","man","man","tent","wolf","wolf"]},{pos:[0,1,3,2],ang:[0,0,1,1],challenge:["camel","man","man","man","tent","tent","wolf"]},{pos:[1,2,3,0],ang:[1,3,1,0],challenge:["camel","dlah","man","man","wolf","wolf","wolf"]},{pos:[3,1,0,2],ang:[2,0,0,1],challenge:["camel","dlah","dlah","dlah","man","man","tent"]},{pos:[3,1,0,2],ang:[0,2,2,1],challenge:["camel","camel","man","man","tent","wolf","wolf"]},{pos:[0,1,3,2],ang:[1,2,1,1],challenge:["camel","camel","man","man","man","wolf","wolf"]},{pos:[3,1,0,2],ang:[3,0,2,1],challenge:["camel","camel","man","man","man","tent","tent"]},{pos:[1,3,0,2],ang:[3,3,0,1],challenge:["camel","camel","dlah","dlah","dlah","man","tent"]},{pos:[3,1,0,2],ang:[2,1,0,1],challenge:["camel","camel","dlah","dlah","dlah","man","man"]},{pos:[0,1,3,2],ang:[1,1,1,1],challenge:["camel","camel","camel","man","man","man","wolf"]},{pos:[3,1,0,2],ang:[3,1,2,1],challenge:["camel","camel","camel","man","man","man","tent"]},{pos:[1,3,0,2],ang:[0,3,0,1],challenge:["camel","camel","camel","dlah","dlah","dlah","man"]},{pos:[0,3,2,1],ang:[1,1,1,0],challenge:["camel","camel","camel","camel","tent","wolf","wolf"]},{pos:[0,3,1,2],ang:[1,1,2,1],challenge:["camel","camel","camel","camel","man","wolf","wolf"]},{pos:[0,3,1,2],ang:[1,0,2,1],challenge:["camel","camel","camel","camel","man","man","wolf"]},{pos:[1,3,2,0],ang:[0,1,1,0],challenge:["camel","camel","camel","camel","camel","dlah","wolf"]},{pos:[1,3,2,0],ang:[0,0,1,0],challenge:["camel","camel","camel","camel","camel","dlah","man"]},{pos:[1,3,2,0],ang:[0,3,1,0],challenge:["camel","camel","camel","camel","camel","dlah","dlah"]},{pos:[2,0,3,1],ang:[2,1,1,0],challenge:["man","man","tent","tent","wolf","wolf"]},{pos:[3,2,0,1],ang:[0,2,1,0],challenge:["dlah","tent","tent","wolf","wolf","wolf"]},{pos:[2,1,0,3],ang:[2,2,0,0],challenge:["dlah","dlah","man","man","man","wolf"]},{pos:[1,2,0,3],ang:[1,2,0,1],challenge:["dlah","dlah","dlah","wolf","wolf","wolf"]},{pos:[2,1,0,3],ang:[1,0,0,1],challenge:["dlah","dlah","dlah","man","tent","wolf"]},{pos:[2,1,0,3],ang:[2,3,0,1],challenge:["dlah","dlah","dlah","man","man","wolf"]},{pos:[2,3,0,1],ang:[1,3,0,0],challenge:["camel","dlah","dlah","dlah","tent","wolf"]},{pos:[3,1,0,2],ang:[2,0,0,0],challenge:["camel","dlah","dlah","dlah","man","tent"]},{pos:[3,1,0,2],ang:[2,3,0,1],challenge:["camel","dlah","dlah","dlah","man","man"]},{pos:[1,3,0,2],ang:[3,3,0,0],challenge:["camel","camel","dlah","dlah","dlah","tent"]},{pos:[0,1,2,3],ang:[1,1,0,0],challenge:["camel","camel","camel","man","man","man"]},{pos:[0,3,1,2],ang:[1,1,2,0],challenge:["camel","camel","camel","camel","wolf","wolf"]},{pos:[0,3,2,1],ang:[1,1,1,1],challenge:["camel","camel","camel","camel","camel","wolf"]},{pos:[0,3,2,1],ang:[1,0,1,1],challenge:["camel","camel","camel","camel","camel","man"]},{pos:[0,2,3,1],ang:[0,2,2,0],challenge:["tent","tent","wolf","wolf","wolf"]},{pos:[0,2,1,3],ang:[0,3,3,0],challenge:["man","man","tent","wolf","wolf"]},{pos:[0,1,2,3],ang:[0,2,3,0],challenge:["man","man","man","tent","wolf"]},{pos:[0,1,2,3],ang:[0,0,3,0],challenge:["man","man","man","tent","tent"]},{pos:[2,1,3,0],ang:[1,0,3,1],challenge:["dlah","dlah","man","tent","tent"]},{pos:[2,1,0,3],ang:[2,3,0,0],challenge:["dlah","dlah","man","man","man"]},{pos:[1,2,0,3],ang:[2,2,0,1],challenge:["dlah","dlah","dlah","wolf","wolf"]},{pos:[2,1,0,3],ang:[1,3,0,1],challenge:["dlah","dlah","dlah","man","wolf"]},{pos:[0,2,3,1],ang:[1,2,2,0],challenge:["camel","tent","wolf","wolf","wolf"]},{pos:[0,2,1,3],ang:[1,3,3,0],challenge:["camel","man","man","wolf","wolf"]},{pos:[0,1,2,3],ang:[1,2,3,0],challenge:["camel","man","man","man","wolf"]},{pos:[2,3,1,0],ang:[1,3,0,1],challenge:["camel","dlah","dlah","tent","tent"]},{pos:[3,2,0,1],ang:[2,2,0,1],challenge:["camel","dlah","dlah","dlah","wolf"]},{pos:[3,1,0,2],ang:[2,3,0,0],challenge:["camel","dlah","dlah","dlah","man"]},{pos:[0,3,2,1],ang:[1,2,1,1],challenge:["camel","camel","camel","camel","camel"]},{pos:[2,0,3,1],ang:[1,1,2,0],challenge:["tent","tent","wolf","wolf"]},{pos:[0,2,1,3],ang:[0,2,3,0],challenge:["man","tent","wolf","wolf"]},{pos:[0,1,2,3],ang:[0,3,3,0],challenge:["man","man","man","tent"]},{pos:[2,1,3,0],ang:[1,3,3,1],challenge:["dlah","dlah","man","tent"]},{pos:[2,1,0,3],ang:[1,3,0,0],challenge:["dlah","dlah","man","man"]},{pos:[0,2,1,3],ang:[1,2,3,0],challenge:["camel","man","wolf","wolf"]},{pos:[0,1,2,3],ang:[1,3,3,0],challenge:["camel","man","man","man"]},{pos:[2,0,1,3],ang:[1,1,3,0],challenge:["man","tent","wolf"]},{pos:[2,0,1,3],ang:[1,1,0,0],challenge:["man","tent","tent"]},{pos:[1,0,2,3],ang:[2,1,3,0],challenge:["man","man","tent"]},{pos:[3,0,1,2],ang:[1,1,0,0],challenge:["camel","tent","tent"]},{pos:[2,0,1,3],ang:[1,2,3,0],challenge:["camel","man","wolf"]},{pos:[1,0,2,3],ang:[2,2,3,0],challenge:["camel","man","man"]},{pos:[3,0,2,1],ang:[1,2,2,1],challenge:["camel","camel","camel"]}]}getLevel(t){return this.levels[t-1]}getLevels(){return this.levels}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(eE))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var vE=n("z6cu"),bE=n("oB13");const wE="Service workers are disabled or not supported by this browser";class _E{constructor(t){if(this.serviceWorker=t,t){const e=zb(t,"controllerchange").pipe(Object($t.a)(()=>t.controller)),n=ve(Kt(()=>Object(Ct.a)(t.controller)),e);this.worker=n.pipe(Qt(t=>!!t)),this.registration=this.worker.pipe(fe(()=>t.getRegistration()));const r=zb(t,"message").pipe(Object($t.a)(t=>t.data)).pipe(Qt(t=>t&&t.type)).pipe(Object(bE.a)(new jt.a));r.connect(),this.events=r}else this.worker=this.events=this.registration=Kt(()=>Object(vE.a)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(t,e){return this.worker.pipe(me(1),Object(je.a)(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,n){const r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(Qt(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(me(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(Qt(e=>e.nonce===t),me(1),Object($t.a)(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let EE=(()=>{class t{constructor(t){if(this.sw=t,this.subscriptionChanges=new jt.a,!t.isEnabled)return this.messages=Jb,this.notificationClicks=Jb,void(this.subscription=Jb);this.messages=this.sw.eventsOfType("PUSH").pipe(Object($t.a)(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Object($t.a)(t=>t.data)),this.pushManager=this.sw.registration.pipe(Object($t.a)(t=>t.pushManager));const e=this.pushManager.pipe(fe(t=>t.getSubscription()));this.subscription=Object(lb.a)(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(wE));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return e.applicationServerKey=r,this.pushManager.pipe(fe(t=>t.subscribe(e)),me(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(me(1),fe(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(wE))}decodeBase64(t){return atob(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(_E))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),SE=(()=>{class t{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=Jb,void(this.activated=Jb);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(wE));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(wE));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(_E))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class OE{}const TE=new r.q("NGSW_REGISTER_SCRIPT");function IE(t,e,n,i){return()=>{if(!G(i)||!("serviceWorker"in navigator)||!1===n.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[e,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(e){case"registerImmediately":s=Object(Ct.a)(null);break;case"registerWithDelay":s=CE(+r[0]||0);break;case"registerWhenStable":s=r[0]?Object(lb.a)(xE(t),CE(+r[0])):xE(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: "+n.registrationStrategy)}}t.get(r.z).runOutsideAngular(()=>s.pipe(me(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(t=>console.error("Service worker registration failed with:",t))))}}function CE(t){return Object(Ct.a)(null).pipe(fw(t))}function xE(t){return t.get(r.g).isStable.pipe(Qt(t=>t))}function jE(t,e){return new _E(G(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let kE=(()=>{class t{static register(e,n={}){return{ngModule:t,providers:[{provide:TE,useValue:e},{provide:OE,useValue:n},{provide:_E,useFactory:jE,deps:[OE,r.B]},{provide:r.d,useFactory:IE,deps:[r.r,TE,OE,r.B],multi:!0}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[EE,SE]}),t})();function AE(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(ab){s(ab)}}function a(t){try{u(r.throw(t))}catch(ab){s(ab)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}class NE{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new PE(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class PE extends Rt.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new jt.a,n.set(e,i);const t=new DE(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new DE(e,i))}catch(s){return void this.error(s)}this.add(t.subscribe(new RE(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class RE extends Rt.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class DE extends Mt.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new ke.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new LE(n)),e.add(r.subscribe(t)),e}}class LE extends ke.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const FE=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),ME=new r.q("angularfire2.analytics.appVersion"),UE=new r.q("angularfire2.analytics.appName"),VE=new r.q("angularfire2.analytics.debugMode"),HE=new r.q("angularfire2.analytics.config");let qE=(()=>{class t{constructor(t,e,r,i,s,o,a,u){if(this.analyticsInitialized=new Promise(()=>{}),G(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),s&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),o&&this.updateConfig(o),s&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(Ct.a)(void 0).pipe(Object(Ui.b)(new Vi.e(u).outsideAngular),fe(()=>G(a)?u.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):Gt.a),Object($t.a)(()=>Object(Vi.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,o,s])),mb({bufferSize:1,refCount:!1}));return Object(Vi.j)(this,c,u)}updateConfig(t){return AE(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Vi.d),r.Xb(FE,8),r.Xb(ME,8),r.Xb(UE,8),r.Xb(VE,8),r.Xb(HE,8),r.Xb(r.B),r.Xb(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(Vi.d),Object(r.Xb)(FE,8),Object(r.Xb)(ME,8),Object(r.Xb)(UE,8),Object(r.Xb)(VE,8),Object(r.Xb)(HE,8),Object(r.Xb)(r.B),Object(r.Xb)(r.z))},token:t,providedIn:"any"}),t})();Object(Vi.f)(qE,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let zE=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],K(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(qE),r.Xb(r.B),r.Xb(Ob),r.Xb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const BE="screen_class";let GE=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const KE={},$E=t=>{const e=[t.screen_class,t.outlet].join("#");if(KE.hasOwnProperty(e))return KE[e];{const t=GE++;return KE[e]=t,t}};let XE=(()=>{class t{constructor(t,e,n,r,i,s,o){if(!e||!G(i))return this;s.runOutsideAngular(()=>{const i=e.events.pipe(Qt(t=>t instanceof Xe));var s;this.disposable=i.pipe(fe(t=>{var i;const s=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",o=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!o)return Object(Ct.a)(null);let a=o;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:"/"+s,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=o.component;if(l){if(l===Kr){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Ct.a)(Object.assign(Object.assign({},c),{[BE]:l}));if(l){const t=r.resolveComponentFactory(l);return Object(Ct.a)(Object.assign(Object.assign({},c),{[BE]:t.selector}))}return Object(Ct.a)(null)}),Qt(t=>t),Object($t.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:$E(t)},t)),(s=t=>t.outlet,t=>t.lift(new NE(s,void 0,void 0,void 0))),Object(Ie.a)(e=>e.pipe(Li((t,e)=>JSON.stringify(t)===JSON.stringify(e)),be(void 0),Pi(),Object($t.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),fe(e=>AE(this,void 0,void 0,function*(){return o&&(yield o.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(qE),r.Xb(si,8),r.Xb(It,8),r.Xb(r.j),r.Xb(r.B),r.Xb(r.z),r.Xb(zE,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),WE=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(qE),r.Xb(XE,8),r.Xb(zE,8))},providers:[qE]}),t})();class QE{}const JE="*";function ZE(t,e=null){return{type:2,steps:t,options:e}}function YE(t){return{type:6,styles:t,offset:null}}function tS(t){Promise.resolve(null).then(t)}class eS{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class nS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?tS(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function rS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function iS(t){switch(t.length){case 0:return new eS;case 1:return t[0];default:return new nS(t)}}function sS(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case JE:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function oS(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&aS(n,"start",t)));break;case"done":t.onDone(()=>r(n&&aS(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&aS(n,"destroy",t)))}}function aS(t,e,n){const r=n.totalTime,i=uS(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function uS(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function cS(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function lS(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let hS=(t,e)=>!1,fS=(t,e)=>!1,dS=(t,e,n)=>[];const pS=rS();(pS||"undefined"!=typeof Element)&&(hS=(t,e)=>t.contains(e),fS=(()=>{if(pS||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):fS}})(),dS=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let mS=null,gS=!1;function yS(t){mS||(mS=("undefined"!=typeof document?document.body:null)||{},gS=!!mS.style&&"WebkitAppearance"in mS.style);let e=!0;return mS.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in mS.style,!e&&gS)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in mS.style),e}const vS=fS,bS=hS,wS=dS;function _S(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let ES=(()=>{class t{validateStyleProperty(t){return yS(t)}matchesElement(t,e){return vS(t,e)}containsElement(t,e){return bS(t,e)}query(t,e,n){return wS(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new eS(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),SS=(()=>{class t{}return t.NOOP=new ES,t})();const OS="ng-enter",TS="ng-leave",IS="ng-trigger",CS=".ng-trigger",xS="ng-animating",jS=".ng-animating";function kS(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AS(parseFloat(e[1]),e[2])}function AS(t,e){switch(e){case"s":return 1e3*t;default:return t}}function NS(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=AS(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=AS(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function PS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function RS(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else PS(t,n);return n}function DS(t,e,n){return n?e+":"+n+";":""}function LS(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=DS(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=DS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function FS(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=GS(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),rS()&&LS(t))}function MS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=GS(e);t.style[n]=""}),rS()&&LS(t))}function US(t){return Array.isArray(t)?1==t.length?t[0]:ZE(t):t}const VS=new RegExp("{{\\s*(.+?)\\s*}}","g");function HS(t){let e=[];if("string"==typeof t){let n;for(;n=VS.exec(t);)e.push(n[1]);VS.lastIndex=0}return e}function qS(t,e,n){const r=t.toString(),i=r.replace(VS,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function zS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const BS=/-+([a-z0-9])/g;function GS(t){return t.replace(BS,(...t)=>t[1].toUpperCase())}function KS(t,e){return 0===t||0===e}function $S(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=WS(t,e)})}}return e}function XS(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function WS(t,e){return window.getComputedStyle(t)[e]}const QS="*";function JS(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(tO(i,o)),"<"!=s[0]||i==QS&&o==QS||e.push(tO(o,i))}(t,n,e)):n.push(t),n}const ZS=new Set(["true","1"]),YS=new Set(["false","0"]);function tO(t,e){const n=ZS.has(t)||YS.has(t),r=ZS.has(e)||YS.has(e);return(i,s)=>{let o=t==QS||t==i,a=e==QS||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?ZS.has(t):YS.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?ZS.has(e):YS.has(e)),o&&a}}const eO=new RegExp("s*:selfs*,?","g");function nO(t,e,n){return new rO(t).build(e,n)}class rO{constructor(t){this._driver=t}build(t,e){const n=new iO(e);return this._resetContextStyleTimingState(n),XS(this,US(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(sO(t)){const e=t;Object.keys(e).forEach(t=>{HS(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=zS(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=XS(this,US(t.animation),e);return{type:1,matchers:JS(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:oO(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>XS(this,t,e)),options:oO(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=XS(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:oO(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return aO(NS(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=aO(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||NS(r,e),aO(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:YE({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=YE(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==JE?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(sO(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=HS(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(sO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(sO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:XS(this,US(t.animation),e),options:oO(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:oO(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:oO(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(eO,"")),[t=t.replace(/@\*/g,CS).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,jS),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,cS(e.collectedStyles,e.currentQuerySelector,{});const o=XS(this,US(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:oO(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:NS(t.timings,e.errors,!0);return{type:12,animation:XS(this,US(t.animation),e),timings:n,options:null}}}class iO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function sO(t){return!Array.isArray(t)&&"object"==typeof t}function oO(t){var e;return t?(t=PS(t)).params&&(t.params=(e=t.params)?PS(e):null):t={},t}function aO(t,e,n){return{duration:t,delay:e,easing:n}}function uO(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class cO{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const lO=new RegExp(":enter","g"),hO=new RegExp(":leave","g");function fO(t,e,n,r,i,s={},o={},a,u,c=[]){return(new dO).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class dO{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new cO;const l=new mO(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),XS(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[uO(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?kS(n.duration):null,s=null!=n.delay?kS(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),XS(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=pO);const t=kS(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>XS(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?kS(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),XS(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return NS(e.params?qS(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?kS(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pO);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),XS(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;XS(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const pO={};class mO{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new gO(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=kS(n.duration)),null!=n.delay&&(r.delay=kS(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=qS(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new mO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=pO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new yO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(lO,"."+this._enterClassName)).replace(hO,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class gO{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new gO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||JE,this._currentKeyframe[t]=JE}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=JE})):RS(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=qS(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:JE),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=RS(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==JE&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?zS(t.values()):[],s=e.size?zS(e.values()):[];if(n){const t=r[0],e=PS(t);t.offset=0,e.offset=1,r=[t,e]}return uO(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class yO extends gO{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=RS(t[0],!1);a.offset=0,i.push(a);const u=RS(t[0],!1);u.offset=vO(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=RS(t[r],!1);o.offset=vO((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return uO(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function vO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class bO{}class wO extends bO{normalizePropertyName(t,e){return GS(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(_O[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const _O=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function EO(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const SO={};class OO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||SO,f=this.buildStyles(n,o&&o.params||SO,l),d=a&&a.params||SO,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:fO(t,e,this.ast.animation,i,s,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return EO(e,this._triggerName,n,r,v,f,p,[],[],g,y,_,l);w.forEach(t=>{const n=t.element,r=cS(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=cS(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=zS(m.values());return EO(e,this._triggerName,n,r,v,f,p,w,E,g,y,_)}}class TO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=PS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=qS(s,r,e)),n[t]=s})}}),n}}class IO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new TO(t.style,t.options&&t.options.params||{})}),CO(this.states,"true","1"),CO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new OO(t,e,this.states))}),this.fallbackTransition=new OO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function CO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const xO=new cO;class jO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=nO(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=sS(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=fO(this._driver,e,i,OS,TS,{},{},n,xO,r),s.forEach(t=>{const e=cS(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,JE)})});const a=iS(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=uS(e,"","","");return oS(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const kO="ng-animate-queued",AO="ng-animate-disabled",NO=".ng-animate-disabled",PO=[],RO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class LO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=PS(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const FO="void",MO=new LO(FO);class UO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,KO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=cS(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=cS(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(KO(t,IS),KO(t,"ng-trigger-"+e),a[e]=MO),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new HO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(KO(t,IS),KO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new LO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=MO),u.value!==FO&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{MS(t,n),FS(t,r)})}return}const c=cS(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(KO(t,kO),s.onStart(()=>{$O(t,kO)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,CS,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,FO,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&iS(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||MO,o=new LO(FO),a=new HO(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==RO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){KO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=uS(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,oS(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class VO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new UO(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(qO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!qO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),KO(t,AO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),$O(t,AO))}removeNode(t,e,n,r){if(qO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return qO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,CS,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jS,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return iS(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=RO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,NO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,NO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)KO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?iS(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new cO,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=GO(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=OS+p++;d.set(e,n),t.forEach(t=>KO(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=GO(h,Array.from(g));b.forEach((t,e)=>{const n=TS+p++;v.set(e,n),t.forEach(t=>KO(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>$O(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>$O(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>MS(i,p.fromStyles)),e.onDestroy(()=>FS(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>MS(i,p.fromStyles)),e.onDestroy(()=>FS(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>cS(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{cS(E,e,[]).push(t),t.destroy()})});const O=m.filter(t=>QO(t,a,u)),T=new Map;BO(T,this.driver,y,u,JE).forEach(t=>{QO(t,a,u)&&O.push(t)});const I=new Map;f.forEach((t,e)=>{BO(I,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=T.get(t),n=I.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const C=[],x=[],j={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>FS(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=j;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,I,T);if(s.setRealPlayer(n),t===j)C.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=iS(e)),r.push(s)}}else MS(e,o.fromStyles),s.onDestroy(()=>FS(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=iS(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if($O(t,TS),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,jS,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?XO(this,t,r):this.processLeaveNode(t)}return m.length=0,C.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),C}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==FO;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=cS(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}MS(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new eS(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return WO(t,e),e}((n.get(h)||PO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=sS(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new HO(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{cS(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>KO(t,xS));const f=iS(h);return f.onDestroy(()=>{c.forEach(t=>$O(t,xS)),FS(a,e.toStyles)}),l.forEach(t=>{cS(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new eS(t.duration,t.delay)}}class HO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new eS,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>oS(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){cS(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qO(t){return t&&1===t.nodeType}function zO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function BO(t,e,n,r,i){const s=[];n.forEach(t=>s.push(zO(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=DO,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>zO(t,s[a++])),o}function GO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function KO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function $O(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function XO(t,e,n){iS(n).onDone(()=>t.processLeaveNode(e))}function WO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof nS?WO(r.players,e):e.push(r)}}function QO(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class JO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new VO(t,e,n),this._timelineEngine=new jO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=nO(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new IO(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=lS(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=lS(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ZO(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=tT(e[0]),e.length>1&&(r=tT(e[e.length-1]))):e&&(n=tT(e)),n||r?new YO(t,n,r):null}let YO=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&FS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(FS(this._element,this._initialStyles),this._endStyles&&(FS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(MS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(MS(this._element,this._endStyles),this._endStyles=null),FS(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function tT(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];eT(i)&&(e=e||{},e[i]=t[i])}return e}function eT(t){return"display"===t||"position"===t}const nT="animation",rT="animationend";class iT{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=lT(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),cT(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),uT(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){sT(this._element,this._name,"paused")}resume(){sT(this._element,this._name,"running")}setPosition(t){const e=oT(this._element,this._name);this._position=t*this._duration,cT(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),uT(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=lT(t,"").split(","),r=aT(n,e);r>=0&&(n.splice(r,1),cT(t,"",n.join(",")))}(this._element,this._name))}}function sT(t,e,n){cT(t,"PlayState",n,oT(t,e))}function oT(t,e){const n=lT(t,"");return n.indexOf(",")>0?aT(n.split(","),e):aT([n],e)}function aT(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function uT(t,e,n){n?t.removeEventListener(rT,e):t.addEventListener(rT,e)}function cT(t,e,n,r){const i=nT+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function lT(t,e){return t.style[nT+e]}class hT{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new iT(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:WS(this.element,n))})}this.currentSnapshot=t}}class fT extends eS{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=_S(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class dT{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return yS(t)}matchesElement(t,e){return vS(t,e)}containsElement(t,e){return bS(t,e)}query(t,e,n){return wS(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>_S(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof hT),u={};KS(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=$S(t,e,u));if(0==n)return new fT(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=ZO(t,e),d=new hT(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class pT{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:WS(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class mT{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(gT().toString()),this._cssKeyframesDriver=new dT}validateStyleProperty(t){return yS(t)}matchesElement(t,e){return vS(t,e)}containsElement(t,e){return bS(t,e)}query(t,e,n){return wS(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof pT);KS(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=ZO(t,e=$S(t,e=e.map(t=>RS(t,!1)),u));return new pT(t,e,a,l)}}function gT(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let yT=(()=>{class t extends QE{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?ZE(t):t;return wT(this._renderer,null,e,"register",[n]),new vT(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.E),r.Xb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class vT extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new bT(this._id,t,e||{},this._renderer)}}class bT{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return wT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function wT(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const _T="@",ET="@.disabled";let ST=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new OT("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new TT(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.E),r.Xb(JO),r.Xb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class OT{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==_T&&e==ET?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class TT extends OT{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==_T?"."==e.charAt(1)&&e==ET?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==_T){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=_T&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let IT=(()=>{class t extends JO{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a),r.Xb(SS),r.Xb(bO))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const CT=[{provide:SS,useFactory:function(){return"function"==typeof gT()?new mT:new dT}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:QE,useClass:yT},{provide:bO,useFactory:function(){return new wO}},{provide:JO,useClass:IT},{provide:r.E,useFactory:function(t,e,n){return new ST(t,e,n)},deps:[ht,JO,r.z]}];let xT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:CT,imports:[Ot]}),t})(),jT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[M_]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[yE],imports:[[gE,Ot,F_,kE.register("ngsw-worker.js",{enabled:!0}),Vi.a.initializeApp(i),WE,Vb,xT,w_]]}),t})();Object(r.S)(),Et().bootstrapModule(jT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);